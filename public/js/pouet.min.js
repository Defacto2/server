/* pouet.min.js */
(()=>{"use strict";const u=t=>`${location.protocol}//${location.host}/pouet/vote/${t}`;let o=document.getElementById("pouetProdID"),r=document.getElementById("pouetRow"),n=document.getElementById("pouetStars"),s=document.getElementById("pouetVotes");if(o===null||r===null||n===null||s===null)return;let c=o.innerHTML.trim();console.info(`Requesting the Pou\xEBt API for production #${c}`),fetch(u(c),{method:"GET",headers:{"Content-Type":"application/json charset=UTF-8"}}).then(t=>{if(!t.ok){const e="A network error occurred requesting API";throw new Error(`${e}: ${t.statusText} ${t.status}`)}return t.json()}).then(t=>{let e=`${t.stars} star`;t.stars!==1&&(e+="s"),n.innerHTML=e;let l=t.votes_up+t.votes_down+t.votes_meh;e=`${l} vote`,l!==1&&(e+="s"),s.innerHTML=e,r.classList.remove("d-none")}).catch(t=>{console.error(`An error occurred requesting API: ${t}`)})})();
