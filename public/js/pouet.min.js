/* pouet.min.js Â© Defacto2 2024 */
(()=>{"use strict";const u=t=>`${location.protocol}//${location.host}/pouet/vote/${t}`;let n=document.getElementById("pouetVoteID"),r=document.getElementById("pouetRow"),s=document.getElementById("pouetStars"),c=document.getElementById("pouetVotes");if(n===null||r===null||s===null||c===null)return;let l=n.innerHTML.trim();console.info(`Requesting the Pou\xEBt API for production #${l}`),fetch(u(l),{method:"GET",headers:{"Content-Type":"application/json charset=UTF-8"}}).then(t=>{if(!t.ok){const e="A network error occurred requesting API";throw new Error(`${e}: ${t.statusText} ${t.status}`)}return t.json()}).then(t=>{let e=t.votes_up+t.votes_down+t.votes_meh;if(e===0){r.classList.add("d-none");return}let o=`${t.stars} star`;t.stars!==1&&(o+="s"),s.innerHTML=o,o=`${e} vote`,e!==1&&(o+="s"),c.innerHTML=o,r.classList.remove("d-none")}).catch(t=>{console.error(`An error occurred requesting API: ${t}`)})})();
