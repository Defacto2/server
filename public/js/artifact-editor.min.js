/* artifact-editor.min.js © Defacto2 2024 */
(()=>{"use strict";const w=document.getElementsByName("reset-classifications"),N=document.getElementById("artifact-editor-os-label"),u=document.getElementById("artifact-editor-operating-system"),q=document.getElementById("artifact-editor-category"),L="artifact-editor-filename",n=document.getElementById(L),A=document.getElementById(L+"-reset"),B=document.getElementsByName(L+"-resetter"),h="artifact-editor-releaser",v=document.getElementById(h+"-1"),m=document.getElementById(h+"-2"),R=document.getElementById(h+"-reset"),p="artifact-editor-title",g=document.getElementById(p),k=document.getElementById(p+"-reset"),b=document.getElementsByName(p+"-resetter");document.getElementById("artifact-editor-virustotal").addEventListener("input",t=>{t.target.classList.remove("is-valid","is-invalid");const e=t.target.value.trim();e.length!=0&&(e.startsWith("https://www.virustotal.com/")||t.target.classList.add("is-invalid"))});const a=document.getElementById("artifact-editor-year"),r=document.getElementById("artifact-editor-month"),l=document.getElementById("artifact-editor-day");a.addEventListener("input",I),r.addEventListener("input",I),l.addEventListener("input",I);function I(){a.classList.remove("is-invalid","is-valid"),r.classList.remove("is-invalid","is-valid"),l.classList.remove("is-invalid","is-valid");const t=parseInt(a.value,10);isNaN(t)?a.value="0":a.value=t;const e=parseInt(r.value,10);isNaN(e)?r.value="0":r.value=e;const i=parseInt(l.value,10);isNaN(i)?l.value="0":l.value=i;const s=0,d=new Date().getFullYear(),o=t>=1980&&t<=d;t>s&&!o&&a.classList.add("is-invalid");const E=e>=1&&e<=12;e>s&&!E&&r.classList.add("is-invalid");const c=i>=1&&i<=31;i>s&&!c&&l.classList.add("is-invalid"),(t==s||isNaN(t)&&(E||c))&&a.classList.add("is-invalid"),(e==s||isNaN(e))&&c&&r.classList.add("is-invalid")}y();for(let t=0;t<w.length;t++)x(t);u.addEventListener("input",y),v.addEventListener("input",t=>f(t.target)),m.addEventListener("input",t=>f(t.target)),R.addEventListener("click",T),g.addEventListener("input",t=>{t.target.classList.remove("is-valid")}),k.addEventListener("click",()=>{if(g.classList.remove("is-valid"),b.length===0)throw new Error("The title resetter is missing.");g.value=b[0].value,g.classList.add("is-valid")}),n.addEventListener("input",t=>{t.target.classList.remove("is-valid"),t.target.classList.remove("is-invalid"),t.target.value.trim().length===0&&t.target.classList.add("is-invalid")}),A.addEventListener("click",()=>{if(n.classList.remove("is-valid"),B.length===0)throw new Error("The filename resetter is missing.");n.value=B[0].value,n.classList.add("is-valid"),n.classList.remove("is-invalid"),n.value.trim().length===0&&n.classList.add("is-invalid")});function x(t){const e=w[t],i=e.getAttribute("data-reset-os");if(i===null)throw new Error("data-reset-os attribute is required for ${elm.id}.");const s=e.getAttribute("data-reset-cat");if(s===null)throw new Error("data-reset-cat attribute is required for ${elm.id}.");e.addEventListener("click",d=>{d.preventDefault(),u.value=i,q.value=s,y()})}function T(){const t=v.getAttribute("data-reset-rel1"),e=m.getAttribute("data-reset-rel2");if(t===null)throw new Error("data-reset-rel1 attribute is required for rel1Input.");if(e===null)throw new Error("data-reset-rel2 attribute is required for rel2Input.");v.value=t,f(v),m.value=e,f(m)}function f(t){if(t==null)throw new Error("The element of the releaser validator is null.");t.classList.remove("is-valid","is-invalid");let e=t.value.trim().toUpperCase();e=e.replace(/[^A-ZÀ-ÖØ-Þ0-9\-,& ]/g,""),t.value=e;const i=t.getAttribute("minlength"),s=t.getAttribute("maxlength"),d=t.getAttribute("required");if(i===null)throw new Error(`The minlength attribute is required for ${t.id}.`);if(s===null)throw new Error(`The maxlength attribute is required for ${t.id}.`);const o=document.getElementById("artifact-editor-releasers-error");if(o===null)throw new Error("The releasers error element is null.");const E=e.length<i||e.length>s;if(d!=null&&E){t.classList.add("is-invalid"),t.id==="-1"&&o.classList.add("d-block");return}const c=e.length>0&&(e.length<i||e.length>s);if(d==null&&c){t.classList.add("is-invalid");return}t.classList.remove("is-invalid"),o.classList.remove("d-block")}function y(){const t=u.selectedIndex;let i=u.options[t].parentNode.label;(typeof i>"u"||i=="")&&(i="Operating system"),N.textContent=`${i}`}})();
