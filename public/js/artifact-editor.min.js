/* artifact-editor.min.js © Defacto2 2024 */
(()=>{"use strict";const w=document.getElementsByName("reset-classifications"),A=document.getElementById("artifact-editor-os-label"),u=document.getElementById("artifact-editor-operating-system"),$=document.getElementById("artifact-editor-category"),L="artifact-editor-filename",d=document.getElementById(L),D=document.getElementById(L+"-reset"),b=document.getElementsByName(L+"-resetter"),p="artifact-editor-releaser",v=document.getElementById(p+"-1"),m=document.getElementById(p+"-2"),C=document.getElementById(p+"-reset"),I="artifact-editor-title",g=document.getElementById(I),M=document.getElementById(I+"-reset"),N=document.getElementsByName(I+"-resetter"),R=document.getElementById("artifact-editor-credit-text");R.addEventListener("input",e=>{e.target.classList.remove("is-valid")});const T=document.getElementById("artifact-editor-credit-ill");T.addEventListener("input",e=>{e.target.classList.remove("is-valid")});const k=document.getElementById("artifact-editor-credit-prog");k.addEventListener("input",e=>{e.target.classList.remove("is-valid")});const q=document.getElementById("artifact-editor-credit-audio");q.addEventListener("input",e=>{e.target.classList.remove("is-valid")});const x=document.getElementById("artifact-editor-credit-resetter");document.getElementById("artifact-editor-credit-reset").addEventListener("click",()=>{if(console.log("resetting credits"),x.length===0)throw new Error("The creator resetter is missing.");const e=x.value.split(";");if(e.length!=4)throw new Error("The creator resetter values are invalid.");const t=e[0],i=e[1],s=e[2],l=e[3];R.value=t,T.value=i,k.value=s,q.value=l});const h=document.getElementById("artifact-editor-comment");h.addEventListener("input",e=>{e.target.classList.remove("is-valid")});const Y=document.getElementById("artifact-editor-comment-reset"),O=document.getElementById("artifact-editor-comment-resetter");Y.addEventListener("click",()=>{h.classList.remove("is-valid"),h.value=O.value}),document.getElementById("artifact-editor-virustotal").addEventListener("input",e=>{e.target.classList.remove("is-valid","is-invalid");const t=e.target.value.trim();t.length!=0&&(t.startsWith("https://www.virustotal.com/")||e.target.classList.add("is-invalid"))});const a=document.getElementById("artifact-editor-year"),r=document.getElementById("artifact-editor-month"),n=document.getElementById("artifact-editor-day");a.addEventListener("input",y),r.addEventListener("input",y),n.addEventListener("input",y);const F=document.getElementById("artifact-editor-date-reset"),P=document.getElementById("artifact-editor-date-resetter"),S=document.getElementById("artifact-editor-date-lastmod"),U=document.getElementById("artifact-editor-date-lastmodder");F.addEventListener("click",()=>{a.classList.remove("is-invalid","is-valid"),r.classList.remove("is-invalid","is-valid"),n.classList.remove("is-invalid","is-valid");const t=P.value.split("-");if(t.length!=3)throw new Error("The date resetter values are invalid.");a.value=t[0],r.value=t[1],n.value=t[2]}),S.addEventListener("click",()=>{a.classList.remove("is-invalid","is-valid"),r.classList.remove("is-invalid","is-valid"),n.classList.remove("is-invalid","is-valid");const t=U.value.split("-");if(t.length!=3)throw new Error("The date last modder values are invalid.");a.value=t[0],r.value=t[1],n.value=t[2]});function y(){a.classList.remove("is-invalid","is-valid"),r.classList.remove("is-invalid","is-valid"),n.classList.remove("is-invalid","is-valid");const e=parseInt(a.value,10);isNaN(e)?a.value="0":a.value=e;const t=parseInt(r.value,10);isNaN(t)?r.value="0":r.value=t;const i=parseInt(n.value,10);isNaN(i)?n.value="0":n.value=i;const s=0,l=new Date().getFullYear(),o=e>=1980&&e<=l;e>s&&!o&&a.classList.add("is-invalid");const E=t>=1&&t<=12;t>s&&!E&&r.classList.add("is-invalid");const c=i>=1&&i<=31;i>s&&!c&&n.classList.add("is-invalid"),isNaN(e)&&(E||c)&&a.classList.add("is-invalid"),(t==s||isNaN(t))&&c&&r.classList.add("is-invalid")}B();for(let e=0;e<w.length;e++)W(e);u.addEventListener("input",B),v.addEventListener("input",e=>f(e.target)),m.addEventListener("input",e=>f(e.target)),C.addEventListener("click",Z),g.addEventListener("input",e=>{e.target.classList.remove("is-valid")}),M.addEventListener("click",()=>{if(g.classList.remove("is-valid"),N.length===0)throw new Error("The title resetter is missing.");g.value=N[0].value,g.classList.add("is-valid")}),d.addEventListener("input",e=>{e.target.classList.remove("is-valid"),e.target.classList.remove("is-invalid"),e.target.value.trim().length===0&&e.target.classList.add("is-invalid")}),D.addEventListener("click",()=>{if(d.classList.remove("is-valid"),b.length===0)throw new Error("The filename resetter is missing.");d.value=b[0].value,d.classList.add("is-valid"),d.classList.remove("is-invalid"),d.value.trim().length===0&&d.classList.add("is-invalid")});function W(e){const t=w[e],i=t.getAttribute("data-reset-os");if(i===null)throw new Error("data-reset-os attribute is required for ${elm.id}.");const s=t.getAttribute("data-reset-cat");if(s===null)throw new Error("data-reset-cat attribute is required for ${elm.id}.");t.addEventListener("click",l=>{l.preventDefault(),u.value=i,$.value=s,B()})}function Z(){const e=v.getAttribute("data-reset-rel1"),t=m.getAttribute("data-reset-rel2");if(e===null)throw new Error("data-reset-rel1 attribute is required for rel1Input.");if(t===null)throw new Error("data-reset-rel2 attribute is required for rel2Input.");v.value=e,f(v),m.value=t,f(m)}function f(e){if(e==null)throw new Error("The element of the releaser validator is null.");e.classList.remove("is-valid","is-invalid");let t=e.value.trim().toUpperCase();t=t.replace(/[^A-ZÀ-ÖØ-Þ0-9\-,& ]/g,""),e.value=t;const i=e.getAttribute("minlength"),s=e.getAttribute("maxlength"),l=e.getAttribute("required");if(i===null)throw new Error(`The minlength attribute is required for ${e.id}.`);if(s===null)throw new Error(`The maxlength attribute is required for ${e.id}.`);const o=document.getElementById("artifact-editor-releasers-error");if(o===null)throw new Error("The releasers error element is null.");const E=t.length<i||t.length>s;if(l!=null&&E){e.classList.add("is-invalid"),e.id==="-1"&&o.classList.add("d-block");return}const c=t.length>0&&(t.length<i||t.length>s);if(l==null&&c){e.classList.add("is-invalid");return}e.classList.remove("is-invalid"),o.classList.remove("d-block")}function B(){const e=u.selectedIndex;let i=u.options[e].parentNode.label;(typeof i>"u"||i=="")&&(i="Operating system"),A.textContent=`${i}`}})();
