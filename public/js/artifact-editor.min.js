/* artifact-editor.min.js © Defacto2 2024 */
(()=>{function A(e,i,r){if(e==null)throw new Error("The year input element is null.");if(i==null)throw new Error("The month input element is null.");if(r==null)throw new Error("The day input element is null.");e.classList.remove("is-invalid","is-valid"),i.classList.remove("is-invalid","is-valid"),r.classList.remove("is-invalid","is-valid");let o=parseInt(e.value,10);isNaN(o)?e.value="0":e.value=o;let s=parseInt(i.value,10);isNaN(s)?i.value="0":i.value=s;let n=parseInt(r.value,10);isNaN(n)?r.value="0":r.value=n;let l=0,f=new Date().getFullYear(),E=o>=1980&&o<=f;o>l&&!E&&e.classList.add("is-invalid");let g=s>=1&&s<=12;s>l&&!g&&i.classList.add("is-invalid");let p=n>=1&&n<=31;n>l&&!p&&r.classList.add("is-invalid"),isNaN(o)&&(g||p)&&e.classList.add("is-invalid"),(s==l||isNaN(s))&&p&&i.classList.add("is-invalid")}function ce(e){return me(e,!0)}function ve(e){return me(e,!1)}function me(e,i){if(e==null)throw new Error("The repository URL element is null.");e.classList.remove("is-valid","is-invalid");let r=e.value.trim();if(r.length===0)return;if(i==!0&&r.startsWith("refs/")){e.classList.add("is-invalid");return}if(r.includes("://")){e.classList.add("is-invalid");return}let s=/[^A-Za-z0-9-._/]/g;r=r.replace(s,""),r=r.replaceAll("//","/");let n=/^\//;r=r.replace(n,""),e.value=r;let l=e.getAttribute("maxlength");if(l===null)throw new Error(`The maxlength attribute is required for ${e.id}.`);if(r.length>l){e.classList.add("is-invalid");return}}function b(e){if(e==null)throw new Error("The element of the releaser validator is null.");e.classList.remove("is-valid","is-invalid");let i=e.value.trim().toUpperCase();i=i.replace(/[^A-ZÀ-ÖØ-Þ0-9\-,& ]/g,""),e.value=i;let r=e.getAttribute("minlength"),o=e.getAttribute("maxlength"),s=e.getAttribute("required");if(r===null)throw new Error(`The minlength attribute is required for ${e.id}.`);if(o===null)throw new Error(`The maxlength attribute is required for ${e.id}.`);let n=document.getElementById("artifact-editor-releasers-error");if(n===null)throw new Error("The releasers error element is null.");let l=i.length<r||i.length>o;if(s!=null&&l){e.classList.add("is-invalid"),e.id==="-1"&&n.classList.add("d-block");return}let f=i.length>0&&(i.length<r||i.length>o);if(s==null&&f){e.classList.add("is-invalid");return}e.classList.remove("is-invalid"),n.classList.remove("d-block")}function fe(e){if(e==null)throw new Error("The element of the releaser validator is null.");e.classList.remove("is-valid","is-invalid");let i=e.value.trim();i.length>0&&i.length!=11&&e.classList.add("is-invalid")}function z(e,i){if(e==null)throw new Error("The element of the number validator is null.");e.classList.remove("is-valid","is-invalid");let r=parseInt(e.value,10);isNaN(r)&&e.classList.add("is-invalid"),(r>i||r<0)&&e.classList.add("is-invalid")}async function H(e){let i=w(e);i.focus(),await navigator.clipboard.writeText(`${i.value}`).then(function(){console.log(`Copied ${Ee(i.value.length)} to the clipboard`)},function(r){console.error(`could not save any text to the clipboard: ${r}`)})}function w(e){let i=document.getElementById(e);if(i==null)throw new Error(`The ${e} for getElmById() element is null.`);return i}function Ee(e=0){let s=Math.pow(1e3,2),n=Math.pow(1e3,3);return e>n?`${(Math.round(e*100/n)/100).toFixed(2)} GB`:e>s?`${(Math.round(e*100/s)/100).toFixed(1)} MB`:e>1e3?`${(Math.round(e*100/1e3)/100).toFixed()} kB`:`${Math.round(e).toFixed()} bytes`}(()=>{"use strict";if(w("artifact-editor-key-value")===null)throw new Error("The key value is missing.");let i=w("artifact-editor-key-label");if(i===null)throw new Error("The key label is missing.");if(i.addEventListener("click",()=>H("artifact-editor-key-value")),w("artifact-editor-unique-id-value")===null)throw new Error("The key value is missing.");let o=w("artifact-editor-unique-id-label");if(o===null)throw new Error("The key label is missing.");o.addEventListener("click",()=>H("artifact-editor-unique-id-value"));let s=document.getElementById("artifact-editor-os-label");if(s===null)throw new Error("The operating system label is missing.");let n=document.getElementById("artifact-editor-operating-system");if(n===null)throw new Error("The operating system input is missing.");n.addEventListener("input",f);let l=document.getElementById("artifact-editor-category");if(l===null)throw new Error("The category input is missing.");l.addEventListener("input",E),f(),E();function f(){let t=n.selectedIndex,d=n.options[t].parentNode.label;(typeof d>"u"||d=="")&&(n.classList.add("is-invalid"),n.classList.remove("is-valid"),d="Operating system"),s.textContent=`${d}`}function E(){l.selectedIndex==0&&(l.classList.remove("is-valid"),l.classList.add("is-invalid"))}let g=document.getElementsByName("reset-classifications");if(g.length===0)throw new Error("The reset classifications are missing.");for(let t=0;t<g.length;t++)p(t);function p(t){let a=g[t],d=a.getAttribute("data-reset-os");if(d===null)throw new Error("data-reset-os attribute is required for ${elm.id}.");let N=a.getAttribute("data-reset-cat");if(N===null)throw new Error("data-reset-cat attribute is required for ${elm.id}.");a.addEventListener("click",j=>{j.preventDefault(),n.value=d,n.classList.remove("is-invalid"),l.value=N,l.classList.remove("is-invalid"),f(),E()})}let q="artifact-editor-filename",m=document.getElementById(q);if(m===null)throw new Error("The filename input is missing.");m.addEventListener("input",t=>{t.target.classList.remove("is-valid"),t.target.classList.remove("is-invalid"),t.target.value.trim().length===0&&t.target.classList.add("is-invalid")});let O=document.getElementById(q+"-reset");if(O===null)throw new Error("The filename reset is missing.");let C=document.getElementsByName(q+"-resetter");if(C.length===0)throw new Error("The filename resetter is missing.");O.addEventListener("click",()=>{if(m.classList.remove("is-valid"),C.length===0)throw new Error("The filename resetter is missing.");m.value=C[0].value,m.classList.add("is-valid"),m.classList.remove("is-invalid"),m.value.trim().length===0&&m.classList.add("is-invalid")});let M="artifact-editor-releaser",L=document.getElementById(M+"-1");if(L===null)throw new Error("The releaser 1 input is missing.");L.addEventListener("input",t=>b(t.target));let y=document.getElementById(M+"-2");if(y===null)throw new Error("The releaser 2 input is missing.");y.addEventListener("input",t=>b(t.target));let W=document.getElementById(M+"-reset");if(W===null)throw new Error("The releasers reset is missing.");W.addEventListener("click",ge);function ge(){let t=L.getAttribute("data-reset-rel1");if(t===null)throw new Error("data-reset-rel1 attribute is required for rel1Input.");L.value=t,b(L);let a=y.getAttribute("data-reset-rel2");if(a===null)throw new Error("data-reset-rel2 attribute is required for rel2Input.");y.value=a,b(y)}let D="artifact-editor-title",B=document.getElementById(D);if(B===null)throw new Error("The title input is missing.");B.addEventListener("input",t=>{t.target.classList.remove("is-valid")});let Z=document.getElementById(D+"-reset");if(Z===null)throw new Error("The title reset is missing.");let U=document.getElementsByName(D+"-resetter");if(U.length===0)throw new Error("The title resetter is missing.");Z.addEventListener("click",()=>{if(B.classList.remove("is-valid"),U.length===0)throw new Error("The title resetter is missing.");B.value=U[0].value,B.classList.add("is-valid")});let h="artifact-editor-credit",Y=document.getElementById(h+"-text");if(Y===null)throw new Error("The creator text input is missing.");Y.addEventListener("input",t=>{t.target.classList.remove("is-valid")});let F=document.getElementById(h+"-ill");if(F===null)throw new Error("The creator illustrator input is missing.");F.addEventListener("input",t=>{t.target.classList.remove("is-valid")});let S=document.getElementById(h+"-prog");if(S===null)throw new Error("The creator programmer input is missing.");S.addEventListener("input",t=>{t.target.classList.remove("is-valid")});let V=document.getElementById(h+"-audio");if(V===null)throw new Error("The creator audio input is missing.");V.addEventListener("input",t=>{t.target.classList.remove("is-valid")});let G=document.getElementById(h+"-resetter");if(G===null)throw new Error("The creator resetter is missing.");let _=document.getElementById(h+"-reset");if(_===null)throw new Error("The creator reset is missing.");_.addEventListener("click",()=>{if(G.length===0)throw new Error("The creator resetter is missing.");let t=G.value.split(";");if(t.length!=4)throw new Error("The creator resetter values are invalid.");let a=t[0],d=t[1],N=t[2],j=t[3];Y.value=a,F.value=d,S.value=N,V.value=j});let I=document.getElementById("artifact-editor-comment");if(I===null)throw new Error("The comment input is missing.");I.addEventListener("input",t=>{t.target.classList.remove("is-valid")});let J=document.getElementById("artifact-editor-comment-reset");if(J===null)throw new Error("The comment reset is missing.");let Q=document.getElementById("artifact-editor-comment-resetter");if(Q===null)throw new Error("The comment resetter is missing.");J.addEventListener("click",()=>{I.classList.remove("is-valid"),I.value=Q.value});let X=document.getElementById("artifact-editor-virustotal");if(X===null)throw new Error("The virustotal input is missing.");X.addEventListener("input",t=>{t.target.classList.remove("is-valid","is-invalid");let a=t.target.value.trim();a.length!=0&&(a.startsWith("https://www.virustotal.com/")||t.target.classList.add("is-invalid"))});let u=document.getElementById("artifact-editor-year");if(u===null)throw new Error("The year input is missing.");u.addEventListener("input",()=>{A(u,c,v)});let c=document.getElementById("artifact-editor-month");if(c===null)throw new Error("The month input is missing.");c.addEventListener("input",()=>{A(u,c,v)});let v=document.getElementById("artifact-editor-day");if(v===null)throw new Error("The day input is missing.");v.addEventListener("input",()=>{A(u,c,v)});let ee=document.getElementById("artifact-editor-date-reset");if(ee===null)throw new Error("The date reset is missing.");let te=document.getElementById("artifact-editor-date-resetter");if(te===null)throw new Error("The date resetter is missing.");ee.addEventListener("click",()=>{u.classList.remove("is-invalid","is-valid"),c.classList.remove("is-invalid","is-valid"),v.classList.remove("is-invalid","is-valid");let a=te.value.split("-");if(a.length!=3)throw new Error("The date resetter values are invalid.");u.value=a[0],c.value=a[1],v.value=a[2]});let ie=document.getElementById("artifact-editor-date-lastmod");if(ie!==null){let t=document.getElementById("artifact-editor-date-lastmodder");if(t===null)throw new Error("The date last modder input is missing.");ie.addEventListener("click",()=>{u.classList.remove("is-invalid","is-valid"),c.classList.remove("is-invalid","is-valid"),v.classList.remove("is-invalid","is-valid");let d=t.value.split("-");if(d.length!=3)throw new Error("The date last modder values are invalid.");u.value=d[0],c.value=d[1],v.value=d[2]})}let re=document.getElementById("artifact-editor-links-reset");if(re===null)throw new Error("The links reset is missing.");let T=document.getElementById("artifact-editor-youtube"),ne=document.getElementById("artifact-editor-youtube-reset");if(T===null||ne===null)throw new Error("A YouTube input is missing.");let x=document.getElementById("artifact-editor-demozoo"),se=document.getElementById("artifact-editor-demozoo-reset");if(x===null||se===null)throw new Error("A Demozoo input is missing.");let k=document.getElementById("artifact-editor-pouet"),ae=document.getElementById("artifact-editor-pouet-reset");if(k===null||ae===null)throw new Error("A Pouet input is missing.");let R=document.getElementById("artifact-editor-16colors"),le=document.getElementById("artifact-editor-16colors-reset");if(R===null||le===null)throw new Error("A 16colors input is missing.");let $=document.getElementById("artifact-editor-github"),oe=document.getElementById("artifact-editor-github-reset");if($===null||oe===null)throw new Error("A GitHub input is missing.");let K=document.getElementById("artifact-editor-relations"),de=document.getElementById("artifact-editor-relations-reset");if(K===null||de===null)throw new Error("A relations input is missing.");let P=document.getElementById("artifact-editor-websites"),ue=document.getElementById("artifact-editor-websites-reset");if(P===null||ue===null)throw new Error("A websites input is missing.");re.addEventListener("click",()=>{T.classList.remove("is-invalid","is-valid"),x.classList.remove("is-invalid","is-valid"),k.classList.remove("is-invalid","is-valid"),R.classList.remove("is-invalid","is-valid"),$.classList.remove("is-invalid","is-valid"),K.classList.remove("is-invalid","is-valid"),P.classList.remove("is-invalid","is-valid"),T.value=ne.value,x.value=se.value,k.value=ae.value,R.value=le.value,$.value=oe.value,K.value=de.value,P.value=ue.value});let he=45e4,we=2e5;T.addEventListener("input",t=>fe(t.target)),x.addEventListener("input",t=>z(t.target,he)),k.addEventListener("input",t=>z(t.target,we)),R.addEventListener("input",t=>ve(t.target)),$.addEventListener("input",t=>ce(t.target))})();})();
