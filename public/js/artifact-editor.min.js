/* artifact-editor.min.js © Defacto2 2024 */
(()=>{function B(t,r,i){if(t==null)throw new Error("The year input element is null.");if(r==null)throw new Error("The month input element is null.");if(i==null)throw new Error("The day input element is null.");t.classList.remove("is-invalid","is-valid"),r.classList.remove("is-invalid","is-valid"),i.classList.remove("is-invalid","is-valid");let a=parseInt(t.value,10);isNaN(a)?t.value="0":t.value=a;let n=parseInt(r.value,10);isNaN(n)?r.value="0":r.value=n;let l=parseInt(i.value,10);isNaN(l)?i.value="0":i.value=l;let o=0,g=new Date().getFullYear(),d=a>=1980&&a<=g;a>o&&!d&&t.classList.add("is-invalid");let E=n>=1&&n<=12;n>o&&!E&&r.classList.add("is-invalid");let h=l>=1&&l<=31;l>o&&!h&&i.classList.add("is-invalid"),isNaN(a)&&(E||h)&&t.classList.add("is-invalid"),(n==o||isNaN(n))&&h&&r.classList.add("is-invalid")}function _(t){return J(t,!0)}function j(t){return J(t,!1)}function J(t,r){if(t==null)throw new Error("The repository URL element is null.");t.classList.remove("is-valid","is-invalid");let i=t.value.trim();if(i.length===0)return;if(r==!0&&i.startsWith("refs/")){t.classList.add("is-invalid");return}if(i.includes("://")){t.classList.add("is-invalid");return}let n=/[^A-Za-z0-9-._/]/g;i=i.replace(n,""),i=i.replaceAll("//","/");let l=/^\//;i=i.replace(l,""),t.value=i;let o=t.getAttribute("maxlength");if(o===null)throw new Error(`The maxlength attribute is required for ${t.id}.`);if(i.length>o){t.classList.add("is-invalid");return}}function T(t){if(t==null)throw new Error("The element of the releaser validator is null.");t.classList.remove("is-valid","is-invalid");let r=t.value.trim().toUpperCase();r=r.replace(/[^A-ZÀ-ÖØ-Þ0-9\-,& ]/g,""),t.value=r;let i=t.getAttribute("minlength"),a=t.getAttribute("maxlength"),n=t.getAttribute("required");if(i===null)throw new Error(`The minlength attribute is required for ${t.id}.`);if(a===null)throw new Error(`The maxlength attribute is required for ${t.id}.`);let l=document.getElementById("artifact-editor-releasers-error");if(l===null)throw new Error("The releasers error element is null.");let o=r.length<i||r.length>a;if(n!=null&&o){t.classList.add("is-invalid"),t.id==="-1"&&l.classList.add("d-block");return}let g=r.length>0&&(r.length<i||r.length>a);if(n==null&&g){t.classList.add("is-invalid");return}t.classList.remove("is-invalid"),l.classList.remove("d-block")}(()=>{"use strict";let t=document.getElementById("artifact-editor-os-label");if(t===null)throw new Error("The operating system label is missing.");let r=document.getElementById("artifact-editor-operating-system");if(r===null)throw new Error("The operating system input is missing.");r.addEventListener("input",a);let i=document.getElementById("artifact-editor-category");if(i===null)throw new Error("The category input is missing.");i.addEventListener("input",n),a(),n();function a(){let e=r.selectedIndex,c=r.options[e].parentNode.label;(typeof c>"u"||c=="")&&(r.classList.add("is-invalid"),r.classList.remove("is-valid"),c="Operating system"),t.textContent=`${c}`}function n(){i.selectedIndex==0&&(i.classList.remove("is-valid"),i.classList.add("is-invalid"))}let l=document.getElementsByName("reset-classifications");if(l.length===0)throw new Error("The reset classifications are missing.");for(let e=0;e<l.length;e++)o(e);function o(e){let s=l[e],c=s.getAttribute("data-reset-os");if(c===null)throw new Error("data-reset-os attribute is required for ${elm.id}.");let I=s.getAttribute("data-reset-cat");if(I===null)throw new Error("data-reset-cat attribute is required for ${elm.id}.");s.addEventListener("click",C=>{C.preventDefault(),r.value=c,r.classList.remove("is-invalid"),i.value=I,i.classList.remove("is-invalid"),a(),n()})}let g="artifact-editor-filename",d=document.getElementById(g);if(d===null)throw new Error("The filename input is missing.");d.addEventListener("input",e=>{e.target.classList.remove("is-valid"),e.target.classList.remove("is-invalid"),e.target.value.trim().length===0&&e.target.classList.add("is-invalid")});let E=document.getElementById(g+"-reset");if(E===null)throw new Error("The filename reset is missing.");let h=document.getElementsByName(g+"-resetter");if(h.length===0)throw new Error("The filename resetter is missing.");E.addEventListener("click",()=>{if(d.classList.remove("is-valid"),h.length===0)throw new Error("The filename resetter is missing.");d.value=h[0].value,d.classList.add("is-valid"),d.classList.remove("is-invalid"),d.value.trim().length===0&&d.classList.add("is-invalid")});let b="artifact-editor-releaser",w=document.getElementById(b+"-1");if(w===null)throw new Error("The releaser 1 input is missing.");w.addEventListener("input",e=>T(e.target));let L=document.getElementById(b+"-2");if(L===null)throw new Error("The releaser 2 input is missing.");L.addEventListener("input",e=>T(e.target));let D=document.getElementById(b+"-reset");if(D===null)throw new Error("The releasers reset is missing.");D.addEventListener("click",K);function K(){let e=w.getAttribute("data-reset-rel1");if(e===null)throw new Error("data-reset-rel1 attribute is required for rel1Input.");w.value=e,T(w);let s=L.getAttribute("data-reset-rel2");if(s===null)throw new Error("data-reset-rel2 attribute is required for rel2Input.");L.value=s,T(L)}let x="artifact-editor-title",p=document.getElementById(x);if(p===null)throw new Error("The title input is missing.");p.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let U=document.getElementById(x+"-reset");if(U===null)throw new Error("The title reset is missing.");let R=document.getElementsByName(x+"-resetter");if(R.length===0)throw new Error("The title resetter is missing.");U.addEventListener("click",()=>{if(p.classList.remove("is-valid"),R.length===0)throw new Error("The title resetter is missing.");p.value=R[0].value,p.classList.add("is-valid")});let f="artifact-editor-credit",N=document.getElementById(f+"-text");if(N===null)throw new Error("The creator text input is missing.");N.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let q=document.getElementById(f+"-ill");if(q===null)throw new Error("The creator illustrator input is missing.");q.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let A=document.getElementById(f+"-prog");if(A===null)throw new Error("The creator programmer input is missing.");A.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let k=document.getElementById(f+"-audio");if(k===null)throw new Error("The creator audio input is missing.");k.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let $=document.getElementById(f+"-resetter");if($===null)throw new Error("The creator resetter is missing.");let Y=document.getElementById(f+"-reset");if(Y===null)throw new Error("The creator reset is missing.");Y.addEventListener("click",()=>{if($.length===0)throw new Error("The creator resetter is missing.");let e=$.value.split(";");if(e.length!=4)throw new Error("The creator resetter values are invalid.");let s=e[0],c=e[1],I=e[2],C=e[3];N.value=s,q.value=c,A.value=I,k.value=C});let y=document.getElementById("artifact-editor-comment");if(y===null)throw new Error("The comment input is missing.");y.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let M=document.getElementById("artifact-editor-comment-reset");if(M===null)throw new Error("The comment reset is missing.");let G=document.getElementById("artifact-editor-comment-resetter");if(G===null)throw new Error("The comment resetter is missing.");M.addEventListener("click",()=>{y.classList.remove("is-valid"),y.value=G.value});let H=document.getElementById("artifact-editor-virustotal");if(H===null)throw new Error("The virustotal input is missing.");H.addEventListener("input",e=>{e.target.classList.remove("is-valid","is-invalid");let s=e.target.value.trim();s.length!=0&&(s.startsWith("https://www.virustotal.com/")||e.target.classList.add("is-invalid"))});let u=document.getElementById("artifact-editor-year");if(u===null)throw new Error("The year input is missing.");u.addEventListener("input",()=>{B(u,v,m)});let v=document.getElementById("artifact-editor-month");if(v===null)throw new Error("The month input is missing.");v.addEventListener("input",()=>{B(u,v,m)});let m=document.getElementById("artifact-editor-day");if(m===null)throw new Error("The day input is missing.");m.addEventListener("input",()=>{B(u,v,m)});let O=document.getElementById("artifact-editor-date-reset");if(O===null)throw new Error("The date reset is missing.");let P=document.getElementById("artifact-editor-date-resetter");if(P===null)throw new Error("The date resetter is missing.");O.addEventListener("click",()=>{u.classList.remove("is-invalid","is-valid"),v.classList.remove("is-invalid","is-valid"),m.classList.remove("is-invalid","is-valid");let s=P.value.split("-");if(s.length!=3)throw new Error("The date resetter values are invalid.");u.value=s[0],v.value=s[1],m.value=s[2]});let S=document.getElementById("artifact-editor-date-lastmod");if(S===null)throw new Error("The date last mod input is missing.");let W=document.getElementById("artifact-editor-date-lastmodder");if(W===null)throw new Error("The date last modder input is missing.");S.addEventListener("click",()=>{u.classList.remove("is-invalid","is-valid"),v.classList.remove("is-invalid","is-valid"),m.classList.remove("is-invalid","is-valid");let s=W.value.split("-");if(s.length!=3)throw new Error("The date last modder values are invalid.");u.value=s[0],v.value=s[1],m.value=s[2]});let Z=document.getElementById("artifact-editor-github");if(Z===null)throw new Error("The GitHub input is missing.");Z.addEventListener("input",e=>_(e.target));let z=document.getElementById("artifact-editor-16colors");if(z===null)throw new Error("The 16colors input is missing.");z.addEventListener("input",e=>j(e.target));let F=document.getElementById("artifact-editor-youtube");if(F===null)throw new Error("The YouTube input is missing.");F.addEventListener("input",e=>{e.target.classList.remove("is-valid","is-invalid");let s=e.target.value.trim();s.length>0&&s.length!=11&&e.target.classList.add("is-invalid")})})();})();
