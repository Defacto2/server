/* artifact-editor.min.js © Defacto2 2024 */
(()=>{"use strict";const E=document.getElementsByName("reset-classifications"),p=document.getElementById("artifact-editor-os-label"),n=document.getElementById("artifact-editor-operating-system"),w=document.getElementById("artifact-editor-category"),u="artifact-editor-filename",i=document.getElementById(u),I=document.getElementById(u+"-reset"),h=document.getElementsByName(u+"-resetter"),v="artifact-editor-releaser",a=document.getElementById(v+"-1"),l=document.getElementById(v+"-2"),y=document.getElementById(v+"-reset"),m="artifact-editor-title",o=document.getElementById(m),b=document.getElementById(m+"-reset"),L=document.getElementsByName(m+"-resetter");document.getElementById("artifact-editor-virustotal").addEventListener("input",t=>{t.target.classList.remove("is-valid","is-invalid");const e=t.target.value.trim();e.length!=0&&(e.startsWith("https://www.virustotal.com/")||t.target.classList.add("is-invalid"))}),g();for(let t=0;t<E.length;t++)B(t);n.addEventListener("input",g),a.addEventListener("input",t=>d(t.target)),l.addEventListener("input",t=>d(t.target)),y.addEventListener("click",q),o.addEventListener("input",t=>{t.target.classList.remove("is-valid")}),b.addEventListener("click",()=>{if(o.classList.remove("is-valid"),L.length===0)throw new Error("The title resetter is missing.");o.value=L[0].value,o.classList.add("is-valid")}),i.addEventListener("input",t=>{t.target.classList.remove("is-valid"),t.target.classList.remove("is-invalid"),t.target.value.trim().length===0&&t.target.classList.add("is-invalid")}),I.addEventListener("click",()=>{if(i.classList.remove("is-valid"),h.length===0)throw new Error("The filename resetter is missing.");i.value=h[0].value,i.classList.add("is-valid"),i.classList.remove("is-invalid"),i.value.trim().length===0&&i.classList.add("is-invalid")});function B(t){const e=E[t],r=e.getAttribute("data-reset-os");if(r===null)throw new Error("data-reset-os attribute is required for ${elm.id}.");const s=e.getAttribute("data-reset-cat");if(s===null)throw new Error("data-reset-cat attribute is required for ${elm.id}.");e.addEventListener("click",c=>{c.preventDefault(),n.value=r,w.value=s,g()})}function q(){const t=a.getAttribute("data-reset-rel1"),e=l.getAttribute("data-reset-rel2");if(t===null)throw new Error("data-reset-rel1 attribute is required for rel1Input.");if(e===null)throw new Error("data-reset-rel2 attribute is required for rel2Input.");a.value=t,d(a),l.value=e,d(l)}function d(t){if(t==null)throw new Error("The element of the releaser validator is null.");t.classList.remove("is-valid","is-invalid");let e=t.value.trim().toUpperCase();e=e.replace(/[^A-ZÀ-ÖØ-Þ0-9\-,& ]/g,""),t.value=e;const r=t.getAttribute("minlength"),s=t.getAttribute("maxlength"),c=t.getAttribute("required");if(r===null)throw new Error(`The minlength attribute is required for ${t.id}.`);if(s===null)throw new Error(`The maxlength attribute is required for ${t.id}.`);const f=document.getElementById("artifact-editor-releasers-error");if(f===null)throw new Error("The releasers error element is null.");const A=e.length<r||e.length>s;if(c!=null&&A){t.classList.add("is-invalid"),t.id==="-1"&&f.classList.add("d-block");return}const R=e.length>0&&(e.length<r||e.length>s);if(c==null&&R){t.classList.add("is-invalid");return}t.classList.remove("is-invalid"),f.classList.remove("d-block")}function g(){const t=n.selectedIndex;let r=n.options[t].parentNode.label;(typeof r>"u"||r=="")&&(r="Operating system"),p.textContent=`${r}`}})();
