/* artifact-editor.min.js © Defacto2 2024 */
(()=>{"use strict";const f=document.getElementsByName("reset-classifications"),m=document.getElementById("artifact-editor-os-label"),n=document.getElementById("artifact-editor-operating-system"),v=document.getElementById("artifact-editor-category"),s=document.getElementById("artifact-editor-releaser-1"),a=document.getElementById("artifact-editor-releaser-2"),E=document.getElementById("artifact-editor-releaser-reset"),l=document.getElementById("artifact-editor-title"),h=document.getElementById("artifact-editor-title-reset"),g=document.getElementsByName("artifact-editor-title-resetter");u();for(let e=0;e<f.length;e++)p(e);n.addEventListener("input",u),s.addEventListener("input",e=>o(e.target)),a.addEventListener("input",e=>o(e.target)),E.addEventListener("click",b),l.addEventListener("input",e=>{e.target.classList.remove("is-valid")}),h.addEventListener("click",()=>{if(l.classList.remove("is-valid"),g.length===0)throw new Error("The title resetter is missing.");l.value=g[0].value,l.classList.add("is-valid")});function p(e){const t=f[e],r=t.getAttribute("data-reset-os");if(r===null)throw new Error("data-reset-os attribute is required for ${elm.id}.");const i=t.getAttribute("data-reset-cat");if(i===null)throw new Error("data-reset-cat attribute is required for ${elm.id}.");t.addEventListener("click",d=>{d.preventDefault(),n.value=r,v.value=i,u()})}function b(){const e=s.getAttribute("data-reset-rel1"),t=a.getAttribute("data-reset-rel2");if(e===null)throw new Error("data-reset-rel1 attribute is required for rel1Input.");if(t===null)throw new Error("data-reset-rel2 attribute is required for rel2Input.");s.value=e,o(s),a.value=t,o(a)}function o(e){if(e==null)throw new Error("The element of the releaser validator is null.");let t=e.value.trim().toUpperCase();t=t.replace(/[^A-ZÀ-ÖØ-Þ0-9\-,& ]/g,""),e.value=t;const r=e.getAttribute("minlength"),i=e.getAttribute("maxlength"),d=e.getAttribute("required");if(r===null)throw new Error(`The minlength attribute is required for ${e.id}.`);if(i===null)throw new Error(`The maxlength attribute is required for ${e.id}.`);const c=document.getElementById("artifact-editor-releasers-error");if(c===null)throw new Error("The releasers error element is null.");const w=t.length<r||t.length>i;if(d!=null&&w){e.classList.add("is-invalid"),e.id==="artifact-editor-releaser-1"&&c.classList.add("d-block");return}const I=t.length>0&&(t.length<r||t.length>i);if(d==null&&I){e.classList.add("is-invalid");return}e.classList.remove("is-invalid"),c.classList.remove("d-block")}function u(){const e=n.selectedIndex;let r=n.options[e].parentNode.label;(typeof r>"u"||r=="")&&(r="Operating system"),m.textContent=`${r}`}})();
