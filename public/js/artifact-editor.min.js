/* artifact-editor.min.js © Defacto2 2024 */
(()=>{function N(t,s,i){if(t==null)throw new Error("The year input element is null.");if(s==null)throw new Error("The month input element is null.");if(i==null)throw new Error("The day input element is null.");t.classList.remove("is-invalid","is-valid"),s.classList.remove("is-invalid","is-valid"),i.classList.remove("is-invalid","is-valid");let l=parseInt(t.value,10);isNaN(l)?t.value="0":t.value=l;let n=parseInt(s.value,10);isNaN(n)?s.value="0":s.value=n;let a=parseInt(i.value,10);isNaN(a)?i.value="0":i.value=a;let d=0,g=new Date().getFullYear(),u=l>=1980&&l<=g;l>d&&!u&&t.classList.add("is-invalid");let E=n>=1&&n<=12;n>d&&!E&&s.classList.add("is-invalid");let f=a>=1&&a<=31;a>d&&!f&&i.classList.add("is-invalid"),isNaN(l)&&(E||f)&&t.classList.add("is-invalid"),(n==d||isNaN(n))&&f&&s.classList.add("is-invalid")}function ne(t){return ae(t,!0)}function le(t){return ae(t,!1)}function ae(t,s){if(t==null)throw new Error("The repository URL element is null.");t.classList.remove("is-valid","is-invalid");let i=t.value.trim();if(i.length===0)return;if(s==!0&&i.startsWith("refs/")){t.classList.add("is-invalid");return}if(i.includes("://")){t.classList.add("is-invalid");return}let n=/[^A-Za-z0-9-._/]/g;i=i.replace(n,""),i=i.replaceAll("//","/");let a=/^\//;i=i.replace(a,""),t.value=i;let d=t.getAttribute("maxlength");if(d===null)throw new Error(`The maxlength attribute is required for ${t.id}.`);if(i.length>d){t.classList.add("is-invalid");return}}function y(t){if(t==null)throw new Error("The element of the releaser validator is null.");t.classList.remove("is-valid","is-invalid");let s=t.value.trim().toUpperCase();s=s.replace(/[^A-ZÀ-ÖØ-Þ0-9\-,& ]/g,""),t.value=s;let i=t.getAttribute("minlength"),l=t.getAttribute("maxlength"),n=t.getAttribute("required");if(i===null)throw new Error(`The minlength attribute is required for ${t.id}.`);if(l===null)throw new Error(`The maxlength attribute is required for ${t.id}.`);let a=document.getElementById("artifact-editor-releasers-error");if(a===null)throw new Error("The releasers error element is null.");let d=s.length<i||s.length>l;if(n!=null&&d){t.classList.add("is-invalid"),t.id==="-1"&&a.classList.add("d-block");return}let g=s.length>0&&(s.length<i||s.length>l);if(n==null&&g){t.classList.add("is-invalid");return}t.classList.remove("is-invalid"),a.classList.remove("d-block")}function oe(t){if(t==null)throw new Error("The element of the releaser validator is null.");t.classList.remove("is-valid","is-invalid");let s=t.value.trim();s.length>0&&s.length!=11&&t.classList.add("is-invalid")}function G(t,s){if(t==null)throw new Error("The element of the number validator is null.");t.classList.remove("is-valid","is-invalid");let i=parseInt(t.value,10);isNaN(i)&&t.classList.add("is-invalid"),(i>s||i<0)&&t.classList.add("is-invalid")}(()=>{"use strict";let t=document.getElementById("artifact-editor-os-label");if(t===null)throw new Error("The operating system label is missing.");let s=document.getElementById("artifact-editor-operating-system");if(s===null)throw new Error("The operating system input is missing.");s.addEventListener("input",l);let i=document.getElementById("artifact-editor-category");if(i===null)throw new Error("The category input is missing.");i.addEventListener("input",n),l(),n();function l(){let e=s.selectedIndex,o=s.options[e].parentNode.label;(typeof o>"u"||o=="")&&(s.classList.add("is-invalid"),s.classList.remove("is-valid"),o="Operating system"),t.textContent=`${o}`}function n(){i.selectedIndex==0&&(i.classList.remove("is-valid"),i.classList.add("is-invalid"))}let a=document.getElementsByName("reset-classifications");if(a.length===0)throw new Error("The reset classifications are missing.");for(let e=0;e<a.length;e++)d(e);function d(e){let r=a[e],o=r.getAttribute("data-reset-os");if(o===null)throw new Error("data-reset-os attribute is required for ${elm.id}.");let A=r.getAttribute("data-reset-cat");if(A===null)throw new Error("data-reset-cat attribute is required for ${elm.id}.");r.addEventListener("click",P=>{P.preventDefault(),s.value=o,s.classList.remove("is-invalid"),i.value=A,i.classList.remove("is-invalid"),l(),n()})}let g="artifact-editor-filename",u=document.getElementById(g);if(u===null)throw new Error("The filename input is missing.");u.addEventListener("input",e=>{e.target.classList.remove("is-valid"),e.target.classList.remove("is-invalid"),e.target.value.trim().length===0&&e.target.classList.add("is-invalid")});let E=document.getElementById(g+"-reset");if(E===null)throw new Error("The filename reset is missing.");let f=document.getElementsByName(g+"-resetter");if(f.length===0)throw new Error("The filename resetter is missing.");E.addEventListener("click",()=>{if(u.classList.remove("is-valid"),f.length===0)throw new Error("The filename resetter is missing.");u.value=f[0].value,u.classList.add("is-valid"),u.classList.remove("is-invalid"),u.value.trim().length===0&&u.classList.add("is-invalid")});let k="artifact-editor-releaser",w=document.getElementById(k+"-1");if(w===null)throw new Error("The releaser 1 input is missing.");w.addEventListener("input",e=>y(e.target));let L=document.getElementById(k+"-2");if(L===null)throw new Error("The releaser 2 input is missing.");L.addEventListener("input",e=>y(e.target));let H=document.getElementById(k+"-reset");if(H===null)throw new Error("The releasers reset is missing.");H.addEventListener("click",de);function de(){let e=w.getAttribute("data-reset-rel1");if(e===null)throw new Error("data-reset-rel1 attribute is required for rel1Input.");w.value=e,y(w);let r=L.getAttribute("data-reset-rel2");if(r===null)throw new Error("data-reset-rel2 attribute is required for rel2Input.");L.value=r,y(L)}let q="artifact-editor-title",p=document.getElementById(q);if(p===null)throw new Error("The title input is missing.");p.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let O=document.getElementById(q+"-reset");if(O===null)throw new Error("The title reset is missing.");let z=document.getElementsByName(q+"-resetter");if(z.length===0)throw new Error("The title resetter is missing.");O.addEventListener("click",()=>{if(p.classList.remove("is-valid"),z.length===0)throw new Error("The title resetter is missing.");p.value=z[0].value,p.classList.add("is-valid")});let h="artifact-editor-credit",$=document.getElementById(h+"-text");if($===null)throw new Error("The creator text input is missing.");$.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let C=document.getElementById(h+"-ill");if(C===null)throw new Error("The creator illustrator input is missing.");C.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let D=document.getElementById(h+"-prog");if(D===null)throw new Error("The creator programmer input is missing.");D.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let Y=document.getElementById(h+"-audio");if(Y===null)throw new Error("The creator audio input is missing.");Y.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let S=document.getElementById(h+"-resetter");if(S===null)throw new Error("The creator resetter is missing.");let W=document.getElementById(h+"-reset");if(W===null)throw new Error("The creator reset is missing.");W.addEventListener("click",()=>{if(S.length===0)throw new Error("The creator resetter is missing.");let e=S.value.split(";");if(e.length!=4)throw new Error("The creator resetter values are invalid.");let r=e[0],o=e[1],A=e[2],P=e[3];$.value=r,C.value=o,D.value=A,Y.value=P});let I=document.getElementById("artifact-editor-comment");if(I===null)throw new Error("The comment input is missing.");I.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let Z=document.getElementById("artifact-editor-comment-reset");if(Z===null)throw new Error("The comment reset is missing.");let F=document.getElementById("artifact-editor-comment-resetter");if(F===null)throw new Error("The comment resetter is missing.");Z.addEventListener("click",()=>{I.classList.remove("is-valid"),I.value=F.value});let _=document.getElementById("artifact-editor-virustotal");if(_===null)throw new Error("The virustotal input is missing.");_.addEventListener("input",e=>{e.target.classList.remove("is-valid","is-invalid");let r=e.target.value.trim();r.length!=0&&(r.startsWith("https://www.virustotal.com/")||e.target.classList.add("is-invalid"))});let c=document.getElementById("artifact-editor-year");if(c===null)throw new Error("The year input is missing.");c.addEventListener("input",()=>{N(c,v,m)});let v=document.getElementById("artifact-editor-month");if(v===null)throw new Error("The month input is missing.");v.addEventListener("input",()=>{N(c,v,m)});let m=document.getElementById("artifact-editor-day");if(m===null)throw new Error("The day input is missing.");m.addEventListener("input",()=>{N(c,v,m)});let j=document.getElementById("artifact-editor-date-reset");if(j===null)throw new Error("The date reset is missing.");let J=document.getElementById("artifact-editor-date-resetter");if(J===null)throw new Error("The date resetter is missing.");j.addEventListener("click",()=>{c.classList.remove("is-invalid","is-valid"),v.classList.remove("is-invalid","is-valid"),m.classList.remove("is-invalid","is-valid");let r=J.value.split("-");if(r.length!=3)throw new Error("The date resetter values are invalid.");c.value=r[0],v.value=r[1],m.value=r[2]});let K=document.getElementById("artifact-editor-date-lastmod");if(K!==null){let e=document.getElementById("artifact-editor-date-lastmodder");if(e===null)throw new Error("The date last modder input is missing.");K.addEventListener("click",()=>{c.classList.remove("is-invalid","is-valid"),v.classList.remove("is-invalid","is-valid"),m.classList.remove("is-invalid","is-valid");let o=e.value.split("-");if(o.length!=3)throw new Error("The date last modder values are invalid.");c.value=o[0],v.value=o[1],m.value=o[2]})}let Q=document.getElementById("artifact-editor-links-reset");if(Q===null)throw new Error("The links reset is missing.");let T=document.getElementById("artifact-editor-youtube"),V=document.getElementById("artifact-editor-youtube-reset");if(T===null||V===null)throw new Error("A YouTube input is missing.");let B=document.getElementById("artifact-editor-demozoo"),X=document.getElementById("artifact-editor-demozoo-reset");if(B===null||X===null)throw new Error("A Demozoo input is missing.");let b=document.getElementById("artifact-editor-pouet"),ee=document.getElementById("artifact-editor-pouet-reset");if(b===null||ee===null)throw new Error("A Pouet input is missing.");let R=document.getElementById("artifact-editor-16colors"),te=document.getElementById("artifact-editor-16colors-reset");if(R===null||te===null)throw new Error("A 16colors input is missing.");let x=document.getElementById("artifact-editor-github"),ie=document.getElementById("artifact-editor-github-reset");if(x===null||ie===null)throw new Error("A GitHub input is missing.");let U=document.getElementById("artifact-editor-relations"),se=document.getElementById("artifact-editor-relations-reset");if(U===null||se===null)throw new Error("A relations input is missing.");let M=document.getElementById("artifact-editor-websites"),re=document.getElementById("artifact-editor-websites-reset");if(M===null||re===null)throw new Error("A websites input is missing.");Q.addEventListener("click",()=>{T.classList.remove("is-invalid","is-valid"),B.classList.remove("is-invalid","is-valid"),b.classList.remove("is-invalid","is-valid"),R.classList.remove("is-invalid","is-valid"),x.classList.remove("is-invalid","is-valid"),U.classList.remove("is-invalid","is-valid"),M.classList.remove("is-invalid","is-valid"),T.value=V.value,B.value=X.value,b.value=ee.value,R.value=te.value,x.value=ie.value,U.value=se.value,M.value=re.value});let ue=45e4,ce=2e5;T.addEventListener("input",e=>oe(e.target)),B.addEventListener("input",e=>G(e.target,ue)),b.addEventListener("input",e=>G(e.target,ce)),R.addEventListener("input",e=>le(e.target)),x.addEventListener("input",e=>ne(e.target))})();})();
