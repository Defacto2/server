/* artifact-editor.min.js © Defacto2 2024 */
(()=>{function A(e,r,i){if(e==null)throw new Error("The year input element is null.");if(r==null)throw new Error("The month input element is null.");if(i==null)throw new Error("The day input element is null.");e.classList.remove("is-invalid","is-valid"),r.classList.remove("is-invalid","is-valid"),i.classList.remove("is-invalid","is-valid");let l=parseInt(e.value,10);isNaN(l)?e.value="0":e.value=l;let s=parseInt(r.value,10);isNaN(s)?r.value="0":r.value=s;let a=parseInt(i.value,10);isNaN(a)?i.value="0":i.value=a;let d=0,b=new Date().getFullYear(),P=l>=1980&&l<=b;l>d&&!P&&e.classList.add("is-invalid");let u=s>=1&&s<=12;s>d&&!u&&r.classList.add("is-invalid");let c=a>=1&&a<=31;a>d&&!c&&i.classList.add("is-invalid"),isNaN(l)&&(u||c)&&e.classList.add("is-invalid"),(s==d||isNaN(s))&&c&&r.classList.add("is-invalid")}function ue(e){return ve(e,!0)}function ce(e){return ve(e,!1)}function ve(e,r){if(e==null)throw new Error("The repository URL element is null.");e.classList.remove("is-valid","is-invalid");let i=e.value.trim();if(i.length===0)return;if(r==!0&&i.startsWith("refs/")){e.classList.add("is-invalid");return}if(i.includes("://")){e.classList.add("is-invalid");return}let s=/[^A-Za-z0-9-._/]/g;i=i.replace(s,""),i=i.replaceAll("//","/");let a=/^\//;i=i.replace(a,""),e.value=i;let d=e.getAttribute("maxlength");if(d===null)throw new Error(`The maxlength attribute is required for ${e.id}.`);if(i.length>d){e.classList.add("is-invalid");return}}function L(e){if(e==null)throw new Error("The element of the releaser validator is null.");e.classList.remove("is-valid","is-invalid");let r=e.value.trim().toUpperCase();r=r.replace(/[^A-ZÀ-ÖØ-Þ0-9\-,& ]/g,""),e.value=r;let i=e.getAttribute("minlength"),l=e.getAttribute("maxlength"),s=e.getAttribute("required");if(i===null)throw new Error(`The minlength attribute is required for ${e.id}.`);if(l===null)throw new Error(`The maxlength attribute is required for ${e.id}.`);let a=document.getElementById("artifact-editor-releasers-error");if(a===null)throw new Error("The releasers error element is null.");let d=r.length<i||r.length>l;if(s!=null&&d){e.classList.add("is-invalid"),e.id==="-1"&&a.classList.add("d-block");return}let b=r.length>0&&(r.length<i||r.length>l);if(s==null&&b){e.classList.add("is-invalid");return}e.classList.remove("is-invalid"),a.classList.remove("d-block")}function me(e){if(e==null)throw new Error("The element of the releaser validator is null.");e.classList.remove("is-valid","is-invalid");let r=e.value.trim();r.length>0&&r.length!=11&&e.classList.add("is-invalid")}function O(e,r){if(e==null)throw new Error("The element of the number validator is null.");e.classList.remove("is-valid","is-invalid");let i=parseInt(e.value,10);isNaN(i)&&e.classList.add("is-invalid"),(i>r||i<0)&&e.classList.add("is-invalid")}async function y(e){let r=v(e);r.focus(),await navigator.clipboard.writeText(`${r.value}`).then(function(){console.log(`Copied ${Ee(r.value.length)} to the clipboard`)},function(i){console.error(`could not save any text to the clipboard: ${i}`)})}function v(e){let r=document.getElementById(e);if(r==null)throw new Error(`The ${e} for getElmById() element is null.`);return r}function Ee(e=0){let s=Math.pow(1e3,2),a=Math.pow(1e3,3);return e>a?`${(Math.round(e*100/a)/100).toFixed(2)} GB`:e>s?`${(Math.round(e*100/s)/100).toFixed(1)} MB`:e>1e3?`${(Math.round(e*100/1e3)/100).toFixed()} kB`:`${Math.round(e).toFixed()} bytes`}(()=>{"use strict";let e=document.getElementById("emulate-run-program");if(e!==null){let t=document.getElementById("emulate-guess-program");if(t===null)throw new Error("The guess program input is missing.");e.addEventListener("input",()=>{if(e.value=e.value.toUpperCase(),e.value!==""){t.disabled=!0;return}t.disabled=!1})}if(v("artifact-editor-key-value")===null)throw new Error("The key value is missing.");let i=v("artifact-editor-key-label");if(i===null)throw new Error("The key label is missing.");if(i.addEventListener("click",()=>y("artifact-editor-key-value")),v("artifact-editor-unique-id-value")===null)throw new Error("The unique id value is missing.");let s=v("artifact-editor-unique-id-label");if(s===null)throw new Error("The unique id label is missing.");if(s.addEventListener("click",()=>y("artifact-editor-unique-id-value")),v("artifact-editor-location-value")===null)throw new Error("The location value is missing.");let d=v("artifact-editor-location-label");if(d===null)throw new Error("The location label is missing.");if(d.addEventListener("click",()=>y("artifact-editor-location-value")),v("artifact-editor-templocation")!==null&&v("artifact-editor-templocation-label").addEventListener("click",()=>y("artifact-editor-templocation")),document.getElementById("artifact-editor-os-label")===null)throw new Error("The operating system label is missing.");let u=document.getElementById("artifact-editor-operating-system");if(u===null)throw new Error("The operating system input is missing.");u.addEventListener("input",q);let c=document.getElementById("artifact-editor-category");if(c===null)throw new Error("The category input is missing.");c.addEventListener("input",R),q(),R();function q(){let t=u.selectedIndex,o=u.options[t].parentNode.label;(typeof o>"u"||o=="")&&(u.classList.add("is-invalid"),u.classList.remove("is-valid"),o="Operating system"),u.textContent=`${o}`}function R(){c.selectedIndex==0&&(c.classList.remove("is-valid"),c.classList.add("is-invalid"))}let C=document.getElementsByName("prereset-classifications");if(C.length===0)throw new Error("The preset classifications are missing.");for(let t=0;t<C.length;t++)fe(t);function fe(t){let n=C[t],o=n.getAttribute("data-preset-os");if(o===null)throw new Error("data-preset-os attribute is required for ${elm.id}.");let N=n.getAttribute("data-preset-tag");if(N===null)throw new Error("data-preset-tag attribute is required for ${elm.id}.");n.addEventListener("click",H=>{H.preventDefault(),u.value=o,u.classList.remove("is-invalid"),c.value=N,c.classList.remove("is-invalid"),q(),R()})}let h=document.getElementById("artifact-editor-filename");if(h===null)throw new Error("The filename input is missing.");h.addEventListener("input",t=>{t.target.classList.remove("is-valid"),t.target.classList.remove("is-invalid"),t.target.value.trim().length===0&&t.target.classList.add("is-invalid")});let V=document.getElementById("artifact-editor-filename-reset");if(V===null)throw new Error("The filename reset is missing.");let M=document.getElementsByName("artifact-editor-filename-undo");if(M.length===0)throw new Error("The filename resetter is missing.");V.addEventListener("click",()=>{if(h.classList.remove("is-valid"),M.length===0)throw new Error("The filename resetter is missing.");h.value=M[0].value,h.classList.add("is-valid"),h.classList.remove("is-invalid"),h.value.trim().length===0&&h.classList.add("is-invalid")});let w=document.getElementById("artifact-editor-releaser-1");if(w===null)throw new Error("The releaser 1 input is missing.");w.addEventListener("input",t=>L(t.target));let E=document.getElementById("artifact-editor-releaser-2");if(E===null)throw new Error("The releaser 2 input is missing.");E.addEventListener("input",t=>L(t.target));let W=document.getElementById("artifact-editor-releaser-undo");if(W===null)throw new Error("The releasers reset is missing.");W.addEventListener("click",ge);function ge(){let t=w.getAttribute("data-reset-rel1");if(t===null)throw new Error("data-reset-rel1 attribute is required for artifact-editor-releaser-1.");w.value=t,L(w);let n=E.getAttribute("data-reset-rel2");if(n===null)throw new Error("data-reset-rel2 attribute is required for artifact-editor-releaser-2.");E.value=n,L(E)}let p=document.getElementById("artifact-editor-title");if(p===null)throw new Error("The title input is missing.");p.addEventListener("input",t=>{t.target.classList.remove("is-valid")});let Z=document.getElementById("artifact-editor-title-undo");if(Z===null)throw new Error("The title reset is missing.");let U=document.getElementsByName("artifact-editor-titleundo");if(U.length===0)throw new Error("The title resetter is missing.");Z.addEventListener("click",()=>{if(p.classList.remove("is-valid"),U.length===0)throw new Error("The title resetter is missing.");p.value=U[0].value,p.classList.add("is-valid")});let Y=document.getElementById("artifact-editor-credit-text");if(Y===null)throw new Error("The creator text input is missing.");Y.addEventListener("input",t=>{t.target.classList.remove("is-valid")});let D=document.getElementById("artifact-editor-credit-ill");if(D===null)throw new Error("The creator illustrator input is missing.");D.addEventListener("input",t=>{t.target.classList.remove("is-valid")});let F=document.getElementById("artifact-editor-credit-prog");if(F===null)throw new Error("The creator programmer input is missing.");F.addEventListener("input",t=>{t.target.classList.remove("is-valid")});let S=document.getElementById("artifact-editor-credit-audio");if(S===null)throw new Error("The creator audio input is missing.");S.addEventListener("input",t=>{t.target.classList.remove("is-valid")});let G=document.getElementById("artifact-editor-credits-undo");if(G===null)throw new Error("The creator resetter is missing.");let _=document.getElementById("artifact-editor-credit-undo");if(_===null)throw new Error("The creator reset is missing.");_.addEventListener("click",()=>{if(G.length===0)throw new Error("The creator resetter is missing.");let t=G.value.split(";");if(t.length!=4)throw new Error("The creator resetter values are invalid.");let n=t[0],o=t[1],N=t[2],H=t[3];Y.value=n,D.value=o,F.value=N,S.value=H});let B=document.getElementById("artifact-editor-comment");if(B===null)throw new Error("The comment input is missing.");B.addEventListener("input",t=>{t.target.classList.remove("is-valid")});let J=document.getElementById("artifact-editor-comment-undo");if(J===null)throw new Error("The comment reset is missing.");let K=document.getElementById("artifact-editor-comment-resetter");if(K===null)throw new Error("The comment resetter is missing.");J.addEventListener("click",()=>{B.classList.remove("is-valid"),B.value=K.value});let Q=document.getElementById("artifact-editor-virustotal");if(Q===null)throw new Error("The virustotal input is missing.");Q.addEventListener("input",t=>{t.target.classList.remove("is-valid","is-invalid");let n=t.target.value.trim();n.length!=0&&(n.startsWith("https://www.virustotal.com/")||t.target.classList.add("is-invalid"))});let m=document.getElementById("artifact-editor-year");if(m===null)throw new Error("The year input is missing.");m.addEventListener("input",()=>{A(m,f,g)});let f=document.getElementById("artifact-editor-month");if(f===null)throw new Error("The month input is missing.");f.addEventListener("input",()=>{A(m,f,g)});let g=document.getElementById("artifact-editor-day");if(g===null)throw new Error("The day input is missing.");g.addEventListener("input",()=>{A(m,f,g)});let X=document.getElementById("artifact-editor-date-reset");if(X===null)throw new Error("The date reset is missing.");let ee=document.getElementById("artifact-editor-date-resetter");if(ee===null)throw new Error("The date resetter is missing.");X.addEventListener("click",()=>{m.classList.remove("is-invalid","is-valid"),f.classList.remove("is-invalid","is-valid"),g.classList.remove("is-invalid","is-valid");let n=ee.value.split("-");if(n.length!=3)throw new Error("The date resetter values are invalid.");m.value=n[0],f.value=n[1],g.value=n[2]});let te=document.getElementById("artifact-editor-date-lastmod");if(te!==null){let t=document.getElementById("artifact-editor-date-lastmodder");if(t===null)throw new Error("The date last modder input is missing.");te.addEventListener("click",()=>{m.classList.remove("is-invalid","is-valid"),f.classList.remove("is-invalid","is-valid"),g.classList.remove("is-invalid","is-valid");let o=t.value.split("-");if(o.length!=3)throw new Error("The date last modder values are invalid.");m.value=o[0],f.value=o[1],g.value=o[2]})}let ie=document.getElementById("artifact-editor-links-reset");if(ie===null)throw new Error("The links reset is missing.");let T=document.getElementById("artifact-editor-youtube"),re=document.getElementById("artifact-editor-youtube-reset");if(T===null||re===null)throw new Error("A YouTube input is missing.");let x=document.getElementById("artifact-editor-demozoo"),ne=document.getElementById("artifact-editor-demozoo-reset");if(x===null||ne===null)throw new Error("A Demozoo input is missing.");let I=document.getElementById("artifact-editor-pouet"),se=document.getElementById("artifact-editor-pouet-reset");if(I===null||se===null)throw new Error("A Pouet input is missing.");let k=document.getElementById("artifact-editor-16colors"),ae=document.getElementById("artifact-editor-16colors-reset");if(k===null||ae===null)throw new Error("A 16colors input is missing.");let $=document.getElementById("artifact-editor-github"),oe=document.getElementById("artifact-editor-github-reset");if($===null||oe===null)throw new Error("A GitHub input is missing.");let j=document.getElementById("artifact-editor-relations"),le=document.getElementById("artifact-editor-relations-reset");if(j===null||le===null)throw new Error("A relations input is missing.");let z=document.getElementById("artifact-editor-websites"),de=document.getElementById("artifact-editor-websites-reset");if(z===null||de===null)throw new Error("A websites input is missing.");ie.addEventListener("click",()=>{T.classList.remove("is-invalid","is-valid"),x.classList.remove("is-invalid","is-valid"),I.classList.remove("is-invalid","is-valid"),k.classList.remove("is-invalid","is-valid"),$.classList.remove("is-invalid","is-valid"),j.classList.remove("is-invalid","is-valid"),z.classList.remove("is-invalid","is-valid"),T.value=re.value,x.value=ne.value,I.value=se.value,k.value=ae.value,$.value=oe.value,j.value=le.value,z.value=de.value});let he=45e4,we=2e5;T.addEventListener("input",t=>me(t.target)),x.addEventListener("input",t=>O(t.target,he)),I.addEventListener("input",t=>O(t.target,we)),k.addEventListener("input",t=>ce(t.target)),$.addEventListener("input",t=>ue(t.target))})();})();
