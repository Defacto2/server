/* artifact-editor.min.js © Defacto2 2024 */
(()=>{function B(i,t,r){if(i==null)throw new Error("The year input element is null.");if(t==null)throw new Error("The month input element is null.");if(r==null)throw new Error("The day input element is null.");i.classList.remove("is-invalid","is-valid"),t.classList.remove("is-invalid","is-valid"),r.classList.remove("is-invalid","is-valid");let n=parseInt(i.value,10);isNaN(n)?i.value="0":i.value=n;let l=parseInt(t.value,10);isNaN(l)?t.value="0":t.value=l;let a=parseInt(r.value,10);isNaN(a)?r.value="0":r.value=a;let v=0,g=new Date().getFullYear(),o=n>=1980&&n<=g;n>v&&!o&&i.classList.add("is-invalid");let E=l>=1&&l<=12;l>v&&!E&&t.classList.add("is-invalid");let h=a>=1&&a<=31;a>v&&!h&&r.classList.add("is-invalid"),isNaN(n)&&(E||h)&&i.classList.add("is-invalid"),(l==v||isNaN(l))&&h&&t.classList.add("is-invalid")}function T(i){if(i==null)throw new Error("The element of the releaser validator is null.");i.classList.remove("is-valid","is-invalid");let t=i.value.trim().toUpperCase();t=t.replace(/[^A-ZÀ-ÖØ-Þ0-9\-,& ]/g,""),i.value=t;let r=i.getAttribute("minlength"),n=i.getAttribute("maxlength"),l=i.getAttribute("required");if(r===null)throw new Error(`The minlength attribute is required for ${i.id}.`);if(n===null)throw new Error(`The maxlength attribute is required for ${i.id}.`);let a=document.getElementById("artifact-editor-releasers-error");if(a===null)throw new Error("The releasers error element is null.");let v=t.length<r||t.length>n;if(l!=null&&v){i.classList.add("is-invalid"),i.id==="-1"&&a.classList.add("d-block");return}let g=t.length>0&&(t.length<r||t.length>n);if(l==null&&g){i.classList.add("is-invalid");return}i.classList.remove("is-invalid"),a.classList.remove("d-block")}(()=>{"use strict";let i=document.getElementById("artifact-editor-os-label");if(i===null)throw new Error("The operating system label is missing.");let t=document.getElementById("artifact-editor-operating-system");if(t===null)throw new Error("The operating system input is missing.");t.addEventListener("input",n);let r=document.getElementById("artifact-editor-category");if(r===null)throw new Error("The category input is missing.");r.addEventListener("input",l),n(),l();function n(){let e=t.selectedIndex,m=t.options[e].parentNode.label;(typeof m>"u"||m=="")&&(t.classList.add("is-invalid"),t.classList.remove("is-valid"),m="Operating system"),i.textContent=`${m}`}function l(){r.selectedIndex==0&&(r.classList.remove("is-valid"),r.classList.add("is-invalid"))}let a=document.getElementsByName("reset-classifications");if(a.length===0)throw new Error("The reset classifications are missing.");for(let e=0;e<a.length;e++)v(e);function v(e){let s=a[e],m=s.getAttribute("data-reset-os");if(m===null)throw new Error("data-reset-os attribute is required for ${elm.id}.");let I=s.getAttribute("data-reset-cat");if(I===null)throw new Error("data-reset-cat attribute is required for ${elm.id}.");s.addEventListener("click",C=>{C.preventDefault(),t.value=m,t.classList.remove("is-invalid"),r.value=I,r.classList.remove("is-invalid"),n(),l()})}let g="artifact-editor-filename",o=document.getElementById(g);if(o===null)throw new Error("The filename input is missing.");o.addEventListener("input",e=>{e.target.classList.remove("is-valid"),e.target.classList.remove("is-invalid"),e.target.value.trim().length===0&&e.target.classList.add("is-invalid")});let E=document.getElementById(g+"-reset");if(E===null)throw new Error("The filename reset is missing.");let h=document.getElementsByName(g+"-resetter");if(h.length===0)throw new Error("The filename resetter is missing.");E.addEventListener("click",()=>{if(o.classList.remove("is-valid"),h.length===0)throw new Error("The filename resetter is missing.");o.value=h[0].value,o.classList.add("is-valid"),o.classList.remove("is-invalid"),o.value.trim().length===0&&o.classList.add("is-invalid")});let b="artifact-editor-releaser",w=document.getElementById(b+"-1");if(w===null)throw new Error("The releaser 1 input is missing.");w.addEventListener("input",e=>T(e.target));let L=document.getElementById(b+"-2");if(L===null)throw new Error("The releaser 2 input is missing.");L.addEventListener("input",e=>T(e.target));let D=document.getElementById(b+"-reset");if(D===null)throw new Error("The releasers reset is missing.");D.addEventListener("click",j);function j(){let e=w.getAttribute("data-reset-rel1");if(e===null)throw new Error("data-reset-rel1 attribute is required for rel1Input.");w.value=e,T(w);let s=L.getAttribute("data-reset-rel2");if(s===null)throw new Error("data-reset-rel2 attribute is required for rel2Input.");L.value=s,T(L)}let x="artifact-editor-title",p=document.getElementById(x);if(p===null)throw new Error("The title input is missing.");p.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let M=document.getElementById(x+"-reset");if(M===null)throw new Error("The title reset is missing.");let N=document.getElementsByName(x+"-resetter");if(N.length===0)throw new Error("The title resetter is missing.");M.addEventListener("click",()=>{if(p.classList.remove("is-valid"),N.length===0)throw new Error("The title resetter is missing.");p.value=N[0].value,p.classList.add("is-valid")});let f="artifact-editor-credit",R=document.getElementById(f+"-text");if(R===null)throw new Error("The creator text input is missing.");R.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let k=document.getElementById(f+"-ill");if(k===null)throw new Error("The creator illustrator input is missing.");k.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let q=document.getElementById(f+"-prog");if(q===null)throw new Error("The creator programmer input is missing.");q.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let A=document.getElementById(f+"-audio");if(A===null)throw new Error("The creator audio input is missing.");A.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let $=document.getElementById(f+"-resetter");if($===null)throw new Error("The creator resetter is missing.");let Y=document.getElementById(f+"-reset");if(Y===null)throw new Error("The creator reset is missing.");Y.addEventListener("click",()=>{if($.length===0)throw new Error("The creator resetter is missing.");let e=$.value.split(";");if(e.length!=4)throw new Error("The creator resetter values are invalid.");let s=e[0],m=e[1],I=e[2],C=e[3];R.value=s,k.value=m,q.value=I,A.value=C});let y=document.getElementById("artifact-editor-comment");if(y===null)throw new Error("The comment input is missing.");y.addEventListener("input",e=>{e.target.classList.remove("is-valid")});let O=document.getElementById("artifact-editor-comment-reset");if(O===null)throw new Error("The comment reset is missing.");let F=document.getElementById("artifact-editor-comment-resetter");if(F===null)throw new Error("The comment resetter is missing.");O.addEventListener("click",()=>{y.classList.remove("is-valid"),y.value=F.value});let P=document.getElementById("artifact-editor-virustotal");if(P===null)throw new Error("The virustotal input is missing.");P.addEventListener("input",e=>{e.target.classList.remove("is-valid","is-invalid");let s=e.target.value.trim();s.length!=0&&(s.startsWith("https://www.virustotal.com/")||e.target.classList.add("is-invalid"))});let d=document.getElementById("artifact-editor-year");if(d===null)throw new Error("The year input is missing.");d.addEventListener("input",()=>{B(d,c,u)});let c=document.getElementById("artifact-editor-month");if(c===null)throw new Error("The month input is missing.");c.addEventListener("input",()=>{B(d,c,u)});let u=document.getElementById("artifact-editor-day");if(u===null)throw new Error("The day input is missing.");u.addEventListener("input",()=>{B(d,c,u)});let S=document.getElementById("artifact-editor-date-reset");if(S===null)throw new Error("The date reset is missing.");let U=document.getElementById("artifact-editor-date-resetter");if(U===null)throw new Error("The date resetter is missing.");S.addEventListener("click",()=>{d.classList.remove("is-invalid","is-valid"),c.classList.remove("is-invalid","is-valid"),u.classList.remove("is-invalid","is-valid");let s=U.value.split("-");if(s.length!=3)throw new Error("The date resetter values are invalid.");d.value=s[0],c.value=s[1],u.value=s[2]});let W=document.getElementById("artifact-editor-date-lastmod");if(W===null)throw new Error("The date last mod input is missing.");let Z=document.getElementById("artifact-editor-date-lastmodder");if(Z===null)throw new Error("The date last modder input is missing.");W.addEventListener("click",()=>{d.classList.remove("is-invalid","is-valid"),c.classList.remove("is-invalid","is-valid"),u.classList.remove("is-invalid","is-valid");let s=Z.value.split("-");if(s.length!=3)throw new Error("The date last modder values are invalid.");d.value=s[0],c.value=s[1],u.value=s[2]})})();})();
