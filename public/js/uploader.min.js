/* uploader.min.js Â© Defacto2 2025 */
(()=>{function M(e){e.preventDefault();let r=(e.clipboardData||window.Clipboard).getData("text"),t=this,s=t.selectionStart,n=t.selectionEnd;t.value=t.value.slice(0,s)+r+t.value.slice(n),t.setSelectionRange(s+r.length,s+r.length);let o=zt(t.value);t.value!=o&&(console.log('Formatted input text "%s" is formatted to "%s".',t.value,o),t.value=o)}function zt(e){let r=["a","addon","aka","an","and","as","at","beta","betas","but","by","compatibility","crack","cracks","demo","demos","doc","docs","documentation","fix","fixes","for","final","from","if","in","installer","installers","is","hint","hints","map","maps","mod","mods","of","on","or","patch","patches","part","prerelease","prereleases","preview","previews","proper","release","releases","repack","repacks","rip","rips","so","solve","solves","the","trainer","trainers","to","update","updates","unprotect","unprotects","vs","with"],t=[".com",".exe","2d","3d","4d","abc","ad&d","api","bbs","bios","bsa","cd","cga","dos","dox","dvd","ega","ehq","f1","fbi","ftp","hd","hq","ibm","id","iso","la","lego","ls","masm","mbl","ms","mtv","nascar","nba","ncaa","nfl","nsa","nfo","nhl","nt","oem","os","pc","pcb","pga","ppe","pfs","pkarc","pkzip","psx","rac","rom","sdk","sfx","spa","tv","ufo","usa","ushq","uss","vga","whq","ww1","ww2","ww3","wwf","xp","ys"];e=e.trim(),e=e.replace(/_/g," "),e.match(/\./g)&&e.match(/\./g).length>4&&(e=e.replace(/\./g," ")),e=e.replace(/['"`]/g,""),e=e.replace(/ \([0-9a-z]\)/g,""),e=e.replace(/([a-zA-Z0-9]): /g,"$1 : "),e=e.replace(/([xX][-| ][Mm]en)/g,"X-Men"),e=e.replace(/\(/g,"( "),e=e.replace(/\)/g," )");let s=e.split(" ").length;return e=e.split(" ").map((n,o)=>{var i=n;if(Bt(i)===!0)return i.toLowerCase();if(t.includes(i.toLowerCase()))return i.toUpperCase();let u=St(i);if(u!=="")return u;let j=$t(i);o>0&&Number.isInteger(j)&&(i=`${j}`);let P=Dt(i,o,s);return P!==i&&(i=P),n!==i?i:o===0||!r.includes(i.toLowerCase())?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():n.toLowerCase()}).join(" ").trim(),e=e.replace(/(Lotus 123)/g,"Lotus 1-2-3"),e=e.replace(/(Falcon at )/g,"Falcon AT "),e=e.replace(/(the Games)/g,"The Games"),e=e.replace(/^(Unprotect for )(.+)/,"$2 unprotect"),e=e.replace(/^(Unprotecting )(.+)/,"$2 unprotect"),e=e.replace(/^(Unprotect )(.+)/,"$2 unprotect"),e=e.replace(/( : a)/g," : A"),e=e.replace(/( - a)/g," - A"),e=e.replace(/( : t)/g," : T"),e=e.replace(/( - t)/g," - T"),e=e.replace(/(f-)/g,"F-"),e=e.replace(/(3-d)/g,"3D"),e=e.replace(/(Pfs-)/g,"PFS-"),e=e.replace(/(Mean-18)/g,"Mean 18"),e=e.replace(/(v\d+)\.0/g,"$1"),e=e.replace(/\( /g,"("),e=e.replace(/ \)/g,")"),e=e.replace(/\[([^)]+)\]/g,function(n){return n.toUpperCase()}),e}function Bt(e){return/^[vV]\d+(\.\d+)?[a-z]?$/i.test(e)}function Dt(e,r,t){return r!=t-1?e:["cheat","cheater","cracktro","loader","installer","trainer","version"].includes(e.toLowerCase())?"":e}function $t(e){let r={I:1,V:5,X:10},t=0,s=0;for(let n=e.length-1;n>=0;n--){let o=r[e[n].toUpperCase()];o<s?t-=o:t+=o,s=o}return t==0?e:t}function St(e){switch(e.toLowerCase()){case"dr.":return"Dr";case"jr.":return"Jr";case"ms.":return"Ms";case"u.s.a.":return"USA";case"abcs":return"ABCs";case"cdrip":case"cd-rip":return"CD RIP";case"pre-release":return"prerelease";case"&":return"and";case"ad+d":return"AD&D";case"][":case"||":return"2";case"]|[":case"]I[":return"3";case"]||[":case"]II[":return"4";case" I:":return" 1 :";case" II:":return" 2 :";case" III:":return" 3 :";case"at&t":return"AT&T";case"dbase":return"dBase";case"doubledos":return"DoubleDOS";case"fastback":return"FastBack";case"loadit":return"LoadIt";case"memoryshift":return"Memory Shift";case"multilink":return"MultiLink";case"paperboy":return"PaperBoy";case"pc-draw":return"PC-Draw";case"pcjr":return"PCjr";case"prokey":return"ProKey";case"rbase":case"r:base":return"R:Base";case"sidekick":return"SideKick";case"visicalc":return"VisiCalc";case"war-craft":return"Warcraft";case"wordstar":return"WordStar";default:return""}}function a(e){let r=document.getElementById(e);if(r==null){console.error(`The ${e} for getElmById() element is null.`);return}return r}function l(e){if(`${e}`=="")return!0;let r=1980,t=new Date().getFullYear();return!(e<r||e>t)}function d(e){return`${e}`==""?!0:!(e<1||e>12)}function pe(e){return`${e}`==""?!0:!(e<1||e>31)}function Ve(e,r){if(e=="")return!0;let t=Number(e),s=Number(r);if(!Number.isInteger(s)||s<1)throw new Error(`The ID sanity value is invalid: ${s}`);return Number.isInteger(t)&&t>0&&t<=s}var f="is-invalid",S="d-none",Ct=100,Me=1024*1024,je=100*Me;function B(e,r){if(e==null)throw new Error("The elementId value of focusModalById is null.");if(r==null)throw new Error("The submissionId value of focusModalById is null.");let t=document.getElementById(r);if(t==null)throw new Error(`The ${r} element is null.`);let s=a(e);if(s.addEventListener("shown.bs.modal",function(){t.focus()}),bootstrap===void 0)throw new Error("The bootstrap object is undefined.");return new bootstrap.Modal(s,{keyboard:!0})}async function Ht(e){if(e==null)throw new Error("The file value of checkSHA is null.");let r=await Ft(e),t=await fetch(`/uploader/sha384/${r}`,{method:"PATCH",headers:{"Content-Type":"text/plain"},body:r});if(!t.ok)throw new Error(`Hashing is not possible, server response: ${t.status}`);return await t.text()}async function Ft(e){if(e==null)throw new Error("The file value of sha384 is null.");try{let r=await e.arrayBuffer(),t=await crypto.subtle.digest("SHA-384",r);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}catch(r){throw new Error(`Could not use arrayBuffer or crypto.subtle: ${r}`)}}function R(e,r){if(e==null)throw new Error("The formId value of progress is null.");if(r==null)throw new Error("The elementId value of progress is null.");htmx.on(`#${e}`,"htmx:xhr:progress",function(t){t.target.id==`${e}`&&htmx.find(`#${r}`).setAttribute("value",t.detail.loaded/t.detail.total*Ct)})}function h(e){if(e==null)throw new Error("The file value of checkSize is null.");return e.size>je?`The chosen file is too big at ${Math.round(e.size/Me)}MB, maximum size is ${je/Me}MB.`:""}function Pe(){return pe(this.value)==!1?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function v(){return console.log(`The month value is ${this.value}.`),d(this.value)==!1?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function I(){return l(this.value)==!1?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function g(e,r,t,s){if(e==null)throw new Error("The errors value of checkErrors is null.");if(r==null)throw new Error("The alert value of checkErrors is null.");if(t==null)throw new Error("The fileInput value of checkErrors is null.");if(s==null)throw new Error("The results value of checkErrors is null.");e=e.filter(n=>n.trim()!=""),!(e.length<=0)&&(r.innerText=e.join(" "),r.classList.remove(S),t.innerText="",t.classList.add(f),s.classList.add(S))}async function L(e,r,t,s){if(e==null)throw new Error("The file value of checkDuplicate is null.");if(r==null)throw new Error("The alert value of checkDuplicate is null.");if(t==null)throw new Error("The fileInput value of checkDuplicate is null.");if(s==null)throw new Error("The results value of checkDuplicate is null.");let n=()=>{r.classList.remove(S),t.innerText="",t.classList.add(f),s.classList.add(S)},o="";try{let u=await Ht(e);if(u=="")return;o=u}catch(u){console.log(`${u}`),r.innerText=`${u}`,n();return}r.innerText="The chosen file already exists in the database: ";let i=document.createElement("a");i.href=`/f/${o}`,i.innerText=`${e.name}`,r.appendChild(i),n()}function b(e,r,t){if(e==null)throw new Error("The file1 value of hiddenDetails is null.");if(r==null)throw new Error("The lastMod value of hiddenDetails is null.");if(t==null)throw new Error("The magic value of hiddenDetails is null.");let s=e.lastModified,n=new Date().getTime(),o=3600*1e3;n-s<o||(r.value=s),e.type!=""&&(t.value=e.type)}function p(){return this.value==""?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function Re(){return this.value==""?(this.classList.remove(f),!0):new RegExp(/^[a-zA-Z0-9_-]{11}$/).test(this.value)==!1?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function k(e,r,t){if(e==null)throw new Error("The fileInput value of resetInput is null.");if(r==null)throw new Error("The alert value of resetInput is null.");if(t==null)throw new Error("The results value of resetInput is null.");e.innerText="",e.classList.remove(f),r.innerText="",r.classList.add(S),t.innerText="",t.classList.add(S)}function w(e,r){if(e==null)throw new Error("The alert value of submitError is null.");if(r==null)throw new Error("The results value of submitError is null.");e.innerText="Please correct the problems with the form.",e.classList.remove(S),r.innerText="",r.classList.add(S)}var Yt=B("uploader-pouet-modal","pouet-submission"),Ue=B("uploader-demozoo-modal","demozoo-submission"),Ie=B("uploader-intro-modal","uploader-intro-file"),ze=B("uploader-trainer-modal","uploader-trainer-file"),qe=B("uploader-text-modal","uploader-text-file"),Ne=B("uploader-image-modal","uploader-image-file"),Ke=B("uploader-magazine-modal","uploader-magazine-file"),Ge=B("uploader-advanced-modal","uploader-advanced-file"),At=document.getElementById("uploader-trainer-gamehack"),Vt=document.getElementById("uploader-trainer-installer"),jt=document.getElementById("uploader-intro-msdos"),Pt=document.getElementById("uploader-intro-windows"),Rt="Backspace",Ut="Enter",qt="b",Nt="z",Kt="c",Gt="i",Xt="t",Ot="n",Wt="p",_t="m",Zt="a",Jt="d",Qt="w",er="r",tr="f",rr="x";function Xe(){document.addEventListener("keydown",function(e){if(!e.ctrlKey||!e.altKey)return;let r=document.getElementById("go-to-the-new-artifact-record"),t=document.getElementById("artifact-card-link-1"),s=document.getElementById("artifact-card-link-2"),n=document.getElementById("artifact-card-link-3"),o=document.getElementById("artifact-card-link-4"),i=document.getElementById("artifact-card-link-5"),u=document.getElementById("artifact-card-link-6"),j=document.getElementById("artifact-card-link-7"),P=document.getElementById("artifact-card-link-8"),T=document.getElementById("artifact-card-link-9");switch(e.key){case"1":e.preventDefault(),t&&D(t.href);break;case"2":e.preventDefault(),s&&D(s.href);break;case"3":e.preventDefault(),n&&D(n.href);break;case"4":e.preventDefault(),o&&D(o.href);break;case"5":e.preventDefault(),i&&D(i.href);break;case"6":e.preventDefault(),u&&D(u.href);break;case"7":e.preventDefault(),j&&D(j.href);break;case"8":e.preventDefault(),P&&D(P.href);break;case"9":e.preventDefault(),T&&D(T.href);break;case Rt:e.preventDefault(),Ue.hide(),Yt.hide(),Ie.hide(),ze.hide(),qe.hide(),Ne.hide(),Ke.hide(),Ge.hide();break;case Ut:e.preventDefault(),r&&r.click();break;case Nt:Ue.show();break;case Qt:Ie.show(),Pt.checked=!0;break;case Kt:case qt:case Jt:Ie.show(),jt.checked=!0;break;case Xt:ze.show(),At.checked=!0;break;case Gt:ze.show(),Vt.checked=!0;break;case Ot:qe.show();break;case Wt:Ne.show();break;case _t:Ke.show();break;case Zt:Ge.show();break;case er:e.preventDefault(),window.location.href="/search/releaser";break;case tr:e.preventDefault(),window.location.href="/search/file";break;case rr:e.preventDefault(),window.location.href="/search/desc";break}})}function D(e){window.open(e,"_blank").focus()}var Be="is-invalid",ne="d-none";function De(e,r){let t=a(e),s=a(`${e}-error`),n=a(`${e}-results`);a(`${e}-close`).addEventListener("click",u),a(`${e}-clear`).addEventListener("click",u);function u(){t.value="",t.focus(),t.classList.remove(Be),s.innerText="",s.classList.add(ne),n.innerHTML=""}let j=45e4,P=2e5;switch(e){case"demozoo-submission":Oe(t,j);break;case"pouet-submission":Oe(t,P);break}document.body.addEventListener("htmx:beforeRequest",function(){ar(s,n)}),document.body.addEventListener("htmx:beforeSwap",function(T){T.detail.xhr.status>=400&&s.classList.remove(ne)}),document.body.addEventListener("htmx:afterRequest",function(T){if(T.detail.elt===null||T.detail.elt.id!==`${e}`)return;if(T.detail.successful)return sr(t);let fe=T.detail.xhr;if(T.detail.failed&&fe)return fe.status===404?nr(s,n,r):or(s,fe);ir(s)})}function Oe(e,r){e.addEventListener("input",function(){if(!Ve(e.value,r)){e.classList.add(Be);return}e.classList.remove(Be)})}function ar(e,r){r.innerHTML="",e.innerText="",e.classList.add(ne)}function sr(e){e.focus()}function nr(e,r,t){r.innerText=`Production not found on ${t}.`}function ir(e){e.innerText="Something with the browser is not working, please refresh the page.",e.classList.remove(ne)}function or(e,r){e.innerText=`Something went wrong, ${r.status} status: ${r.responseText}.`,e.classList.remove(ne)}var lr="application/x-freearc",cr="application/x-arj",ur="application/x-bzip",dr="application/x-bzip2",fr="application/gzip",pr="application/vnd.rar",mr="application/x-tar",hr="application/zip",vr="application/x-zip-compressed",gr="application/x-7z-compressed",Lr="application/x-msdos-program",br="image/bmp",kr="image/gif",wr="image/jpeg",yr="image/vnd.zbrush.pcx",Er="image/png",xr="image/tiff",Tr="image/webp",Mr="application/x-csh",Ir="application/x-chrome-extension",zr="text/x-script.perl",Br="application/x-httpd-php",Dr="text/x-script.phyton",$r="text/x-script.rexx",Sr="application/x-sh",Cr="application/x-shellscript",Hr="text/x-script.tcl",Fr="text/x-shellscript",Yr="text/x-script.zsh";function Ar(){return[Mr,Ir,zr,Br,Dr,$r,Sr,Cr,Hr,Fr,Yr]}function We(){return[Lr]}function me(){return[lr,cr,ur,dr,fr,pr,mr,hr,vr,gr]}function _e(){return["application/octet-stream","application/x-binary","application/x-ms-dos-executable"]}function Vr(){return[br,kr,wr,yr,Er,xr,Tr]}function Ze(){return["text/plain","text/x-nfo"]}function Je(e){return Ar().includes(e)}function Qe(e){return e===""?!0:Vr().concat(me()).includes(e)}function he(e){return e===""?!0:We().concat(me(),_e()).includes(e)}function et(e){return e===""?!0:Ze().concat(me(),We(),_e()).includes(e)}function tt(e){return e===""?!0:Ze().concat(me()).includes(e)}var jr="uploader-image-form",$="is-invalid",$e="d-none",Pr=a(jr),W=a("uploader-image-alert"),U=a("uploader-image-file"),rt=a("uploader-image-last-modified"),Rr=a("uploader-image-list-1"),Ur=a("uploader-image-list-2"),at=a("uploader-image-magic"),ie=a("uploader-image-month"),ve=a("uploader-image-releaser-1"),C=a("uploader-image-results"),qr=a("uploader-image-title"),O=a("uploader-image-year");Pr.addEventListener("reset",function(){rt.value="",at.value="",nt()});U.addEventListener("change",Nr);qr.addEventListener("paste",M);ve.addEventListener("input",p);O.addEventListener("input",I);ie.addEventListener("input",v);function st(e){a(e).addEventListener("click",function(){let t=!0;if(ve.value==""&&(ve.classList.add($),t=!1),l(O.value)==!1&&(O.classList.add($),t=!1),d(ie.value)==!1&&(ie.classList.add($),t=!1),ie.value!=""&&O.value==""&&(O.classList.add($),t=!1),U.value==""&&(U.classList.add($),t=!1),t==!1)return w(W,C);nt(),C.innerText="...",C.classList.remove($e)})}async function Nr(){k(U,W,C);let e=this.files[0],r=[h(e),Kr(e)];g(r,W,U,C),L(e,W,U,C),b(e,rt,at),r[0]===""&&r[1]===""&&document.getElementById("uploader-image-submit").focus({focusVisible:!0})}function Kr(e){return Qe(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an image.`}function nt(){Rr.innerHTML="",Ur.innerHTML="",C.innerHTML="",C.classList.add($e),W.innerText="",W.classList.add($e),O.classList.remove($),ie.classList.remove($),ve.classList.remove($),U.classList.remove($)}var Gr="uploader-intro-form",m="is-invalid",Se="d-none",Xr=a(Gr),_=a("uploader-intro-alert"),q=a("uploader-intro-file"),it=a("uploader-intro-last-modified"),Or=a("uploader-intro-list-1"),Wr=a("uploader-intro-list-2"),ot=a("uploader-intro-magic"),oe=a("uploader-intro-month"),ge=a("uploader-intro-releaser-1"),H=a("uploader-intro-results"),_r=a("uploader-intro-title"),y=a("uploader-intro-year"),lt=a("uploader-intro-youtube");Xr.addEventListener("reset",function(){it.value="",ot.value="",ut()});q.addEventListener("change",Zr);_r.addEventListener("paste",M);ge.addEventListener("input",p);oe.addEventListener("input",v);lt.addEventListener("input",Re);y.addEventListener("input",function(){let e=new Date().getFullYear(),r=parseInt(this.value)+1900;if(r>=1980&&r<2e3&&y.value.length==2){y.value=r,y.classList.remove(m);return}let t=parseInt(this.value)+2e3;if(t>=2e3&&t<=e&&t!=2019&&t!=2020&&y.value.length==2){y.value=t,y.classList.remove(m);return}l(this.value)==!1&&this.classList.add(m),this.classList.remove(m)});function ct(e){a(e).addEventListener("click",function(){let t=!0;if(ge.value==""&&(ge.classList.add(m),t=!1),l(y.value)==!1&&(y.classList.add(m),t=!1),d(oe.value)==!1&&(oe.classList.add(m),t=!1),oe.value!=""&&y.value==""&&(y.classList.add(m),t=!1),q.value==""&&(q.classList.add(m),t=!1),t==!1)return w(_,H);ut(),H.innerText="...",H.classList.remove(Se)})}async function Zr(){k(q,_,H);let e=this.files[0],r=[h(e),Jr(e)];g(r,_,q,H),L(e,_,q,H),b(e,it,ot),r[0]===""&&r[1]===""&&document.getElementById("uploader-intro-submit").focus({focusVisible:!0})}function Jr(e){return he(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an intro.`}function ut(){Or.innerHTML="",Wr.innerHTML="",H.innerHTML="",H.classList.add(Se),_.innerText="",_.classList.add(Se),y.classList.remove(m),oe.classList.remove(m),ge.classList.remove(m),lt.classList.remove(m),q.classList.remove(m)}var Qr="uploader-magazine-form",E="is-invalid",Ce="d-none",ea=a(Qr),J=a("uploader-magazine-alert"),N=a("uploader-magazine-file"),dt=a("uploader-magazine-last-modified"),ta=a("uploader-magazine-list-1"),ft=a("uploader-magazine-magic"),le=a("uploader-magazine-month"),Le=a("uploader-magazine-releaser-1"),F=a("uploader-magazine-results"),He=a("uploader-magazine-title"),Z=a("uploader-magazine-year");ea.addEventListener("reset",function(){dt.value="",ft.value="",mt()});N.addEventListener("change",ra);Le.addEventListener("input",p);Z.addEventListener("input",I);le.addEventListener("input",v);function pt(e){a(e).addEventListener("click",function(){let t=!0;if(He.value==""&&(He.classList.add(E),t=!1),Le.value==""&&(Le.classList.add(E),t=!1),l(Z.value)==!1&&(Z.classList.add(E),t=!1),d(le.value)==!1&&(le.classList.add(E),t=!1),le.value!=""&&Z.value==""&&(Z.classList.add(E),t=!1),N.value==""&&(N.classList.add(E),t=!1),t==!1)return w(J,F);mt(),F.innerText="...",F.classList.remove(Ce)})}async function ra(){k(N,J,F);let e=this.files[0],r=[h(e),aa(e)];g(r,J,N,F),L(e,J,N,F),b(e,dt,ft),r[0]===""&&r[1]===""&&document.getElementById("uploader-magazine-submit").focus({focusVisible:!0})}function aa(e){return et(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an image.`}function mt(){ta.innerHTML="",F.innerHTML="",F.classList.add(Ce),J.innerText="",J.classList.add(Ce),Z.classList.remove(E),le.classList.remove(E),Le.classList.remove(E),N.classList.remove(E),He.classList.remove(E)}var sa="uploader-text-form",z="is-invalid",Fe="d-none",na=a(sa),ee=a("uploader-text-alert"),K=a("uploader-text-file"),ht=a("uploader-text-last-modified"),ia=a("uploader-text-list-1"),oa=a("uploader-text-list-2"),vt=a("uploader-text-magic"),ce=a("uploader-text-month"),be=a("uploader-text-releaser-1"),Y=a("uploader-text-results"),gt=a("uploader-text-title"),Q=a("uploader-text-year");na.addEventListener("reset",function(){ht.value="",vt.value="",bt()});K.addEventListener("change",la);gt.addEventListener("paste",M);be.addEventListener("input",p);Q.addEventListener("input",I);ce.addEventListener("input",v);function Lt(e){a(e).addEventListener("click",function(){let t=!0;if(be.value==""&&(be.classList.add(z),t=!1),l(Q.value)==!1&&(Q.classList.add(z),t=!1),d(ce.value)==!1&&(ce.classList.add(z),t=!1),ce.value!=""&&Q.value==""&&(Q.classList.add(z),t=!1),K.value==""&&(K.classList.add(z),t=!1),t==!1)return w(ee,Y);bt(),Y.innerText="...",Y.classList.remove(Fe)})}async function la(){k(K,ee,Y);let e=this.files[0],r=[h(e),ca(e)];g(r,ee,K,Y),L(e,ee,K,Y),b(e,ht,vt),r[0]===""&&r[1]===""&&document.getElementById("uploader-text-submit").focus({focusVisible:!0})}function ca(e){return tt(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for a text.`}function bt(){ia.innerHTML="",oa.innerHTML="",Y.innerHTML="",Y.classList.add(Fe),ee.innerText="",ee.classList.add(Fe),Q.classList.remove(z),ce.classList.remove(z),be.classList.remove(z),K.classList.remove(z),gt.classList.remove(z)}var ua="uploader-trainer-form",x="is-invalid",Ye="d-none",da=a(ua),re=a("uploader-trainer-alert"),G=a("uploader-trainer-file"),kt=a("uploader-trainer-last-modified"),fa=a("uploader-trainer-list-1"),pa=a("uploader-trainer-list-2"),wt=a("uploader-trainer-magic"),ue=a("uploader-trainer-month"),ke=a("uploader-trainer-releaser-1"),A=a("uploader-trainer-results"),we=a("uploader-trainer-title"),te=a("uploader-trainer-year");da.addEventListener("reset",function(){kt.value="",wt.value="",Et()});G.addEventListener("change",ma);we.addEventListener("paste",M);ke.addEventListener("input",p);te.addEventListener("input",I);ue.addEventListener("input",v);function yt(e){a(e).addEventListener("click",function(){let t=!0;if(we.value==""&&(we.classList.add(x),t=!1),ke.value==""&&(ke.classList.add(x),t=!1),l(te.value)==!1&&(te.classList.add(x),t=!1),d(ue.value)==!1&&(ue.classList.add(x),t=!1),ue.value!=""&&te.value==""&&(te.classList.add(x),t=!1),G.value==""&&(G.classList.add(x),t=!1),t==!1)return w(re,A);Et(),A.innerText="...",A.classList.remove(Ye)})}async function ma(){k(G,re,A);let e=this.files[0],r=[h(e),ha(e)];g(r,re,G,A),L(e,re,G,A),b(e,kt,wt),r[0]===""&&r[1]===""&&document.getElementById("uploader-trainer-submit").focus({focusVisible:!0})}function ha(e){return he(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an intro.`}function Et(){fa.innerHTML="",pa.innerHTML="",A.innerHTML="",A.classList.add(Ye),re.innerText="",re.classList.add(Ye),te.classList.remove(x),ue.classList.remove(x),ke.classList.remove(x),G.classList.remove(x),we.classList.remove(x)}var va="uploader-advanced-form",c="is-invalid",Ae="d-none",ga=a(va),se=a("uploader-advanced-alert"),ye=a("uploader-advanced-category"),La=a("uploader-advanced-classification-help"),Ee=a("uploader-advanced-day"),X=a("uploader-advanced-file"),xt=a("uploader-advanced-last-modified"),ba=a("uploader-advanced-list-1"),ka=a("uploader-advanced-list-2"),Tt=a("uploader-advanced-magic"),de=a("uploader-advanced-month"),xe=a("uploader-advanced-operating-system"),Te=a("uploader-advanced-releaser-1"),V=a("uploader-advanced-results"),wa=a("uploader-advanced-title"),ae=a("uploader-advanced-year");ga.addEventListener("reset",function(){xt.value="",Tt.value="",It()});X.addEventListener("change",ya);wa.addEventListener("paste",M);Te.addEventListener("input",p);ae.addEventListener("input",I);de.addEventListener("input",v);Ee.addEventListener("input",Pe);ye.addEventListener("change",p);xe.addEventListener("change",p);function Mt(e){a(e).addEventListener("click",function(){let t=!0;if(Te.value==""&&(Te.classList.add(c),t=!1),l(ae.value)==!1&&(ae.classList.add(c),t=!1),d(de.value)==!1&&(de.classList.add(c),t=!1),pe(Ee.value)==!1&&(Ee.classList.add(c),t=!1),de.value!=""&&ae.value==""&&(ae.classList.add(c),t=!1),X.value==""&&(X.classList.add(c),t=!1),xe.value==""&&(xe.classList.add(c),t=!1),ye.value==""&&(ye.classList.add(c),t=!1),t==!1)return w(se,V);It(),V.innerText="...",V.classList.remove(Ae)})}async function ya(){k(X,se,V);let e=this.files[0],r=[h(e),Ea(e)];g(r,se,X,V),L(e,se,X,V),b(e,xt,Tt),r[0]===""&&r[1]===""&&document.getElementById("uploader-advanced-submit").focus({focusVisible:!0})}function Ea(e){return Je(e.type)?`The chosen file mime type ${e.type} might not be suitable for an upload.`:""}function It(){ba.innerHTML="",ka.innerHTML="",V.innerHTML="",La.innerHTML="",V.classList.add(Ae),se.innerText="",se.classList.add(Ae),ae.classList.remove(c),de.classList.remove(c),Ee.classList.remove(c),Te.classList.remove(c),X.classList.remove(c),xe.classList.remove(c),ye.classList.remove(c)}(()=>{"use strict";Xe(),De("demozoo-submission","Demozoo"),De("pouet-submission","Pou\xEBt"),st("uploader-image-submit"),R("uploader-image-form","uploader-image-progress"),ct("uploader-intro-submit"),R("uploader-intro-form","uploader-intro-progress"),yt("uploader-trainer-submit"),R("uploader-trainer-form","uploader-trainer-progress"),pt("uploader-magazine-submit"),R("uploader-magazine-form","uploader-magazine-progress"),Lt("uploader-text-submit"),R("uploader-text-form","uploader-text-progress"),Mt("uploader-advanced-submit"),R("uploader-advanced-form","uploader-advanced-progress")})();})();
