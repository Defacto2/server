/* uploader.min.js Â© Defacto2 2025 */
(()=>{function T(e){e.preventDefault();let r=(e.clipboardData||window.Clipboard).getData("text"),t=this,s=t.selectionStart,n=t.selectionEnd;t.value=t.value.slice(0,s)+r+t.value.slice(n),t.setSelectionRange(s+r.length,s+r.length);let o=zt(t.value);t.value!=o&&(console.log('Formatted input text "%s" is formatted to "%s".',t.value,o),t.value=o)}function zt(e){let r=["a","addon","aka","an","and","as","at","beta","betas","but","by","compatibility","crack","cracks","demo","demos","doc","docs","documentation","fix","fixes","for","final","from","if","in","installer","installers","is","hint","hints","map","maps","mod","mods","of","on","or","patch","patches","part","prerelease","prereleases","preview","previews","proper","release","releases","repack","repacks","rip","rips","so","solve","solves","the","trainer","trainers","to","update","updates","unprotect","unprotects","vs","with"],t=[".com",".exe","2d","3d","4d","abc","ad&d","api","bbs","bios","bsa","cd","cga","dos","dox","dvd","ega","ehq","f1","fbi","ftp","hd","hq","ibm","id","iso","la","lego","ls","masm","mbl","ms","mtv","nascar","nba","ncaa","nfl","nsa","nfo","nhl","nt","oem","os","pc","pcb","pga","ppe","pfs","pkarc","pkzip","psx","rac","rom","sdk","sfx","spa","tv","ufo","usa","ushq","uss","vga","whq","ww1","ww2","ww3","wwf","xp","ys"];e=e.trim(),e=e.replace(/_/g," "),e.match(/\./g)&&e.match(/\./g).length>4&&(e=e.replace(/\./g," ")),e=e.replace(/['"`]/g,""),e=e.replace(/ \([0-9a-z]\)/g,""),e=e.replace(/([a-zA-Z0-9]): /g,"$1 : "),e=e.replace(/([xX][-| ][Mm]en)/g,"X-Men"),e=e.replace(/\(/g,"( "),e=e.replace(/\)/g," )");let s=e.split(" ").length;return e=e.split(" ").map((n,o)=>{var i=n;if($t(i)===!0)return i.toLowerCase();if(t.includes(i.toLowerCase()))return i.toUpperCase();let y=St(i);if(y!=="")return y;let ce=Dt(i);o>0&&Number.isInteger(ce)&&(i=`${ce}`);let ue=Bt(i,o,s);return ue!==i&&(i=ue),n!==i?i:o===0||!r.includes(i.toLowerCase())?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():n.toLowerCase()}).join(" ").trim(),e=e.replace(/(Lotus 123)/g,"Lotus 1-2-3"),e=e.replace(/(Falcon at )/g,"Falcon AT "),e=e.replace(/(the Games)/g,"The Games"),e=e.replace(/^(Unprotect for )(.+)/,"$2 unprotect"),e=e.replace(/^(Unprotecting )(.+)/,"$2 unprotect"),e=e.replace(/^(Unprotect )(.+)/,"$2 unprotect"),e=e.replace(/( : a)/g," : A"),e=e.replace(/( - a)/g," - A"),e=e.replace(/( : t)/g," : T"),e=e.replace(/( - t)/g," - T"),e=e.replace(/(f-)/g,"F-"),e=e.replace(/(3-d)/g,"3D"),e=e.replace(/(Pfs-)/g,"PFS-"),e=e.replace(/(Mean-18)/g,"Mean 18"),e=e.replace(/(v\d+)\.0/g,"$1"),e=e.replace(/\( /g,"("),e=e.replace(/ \)/g,")"),e=e.replace(/\[([^)]+)\]/g,function(n){return n.toUpperCase()}),e}function $t(e){return/^[vV]\d+(\.\d+)?[a-z]?$/i.test(e)}function Bt(e,r,t){return r!=t-1?e:["cheat","cheater","cracktro","loader","installer","trainer","version"].includes(e.toLowerCase())?"":e}function Dt(e){let r={I:1,V:5,X:10},t=0,s=0;for(let n=e.length-1;n>=0;n--){let o=r[e[n].toUpperCase()];o<s?t-=o:t+=o,s=o}return t==0?e:t}function St(e){switch(e.toLowerCase()){case"dr.":return"Dr";case"jr.":return"Jr";case"ms.":return"Ms";case"u.s.a.":return"USA";case"abcs":return"ABCs";case"cdrip":case"cd-rip":return"CD RIP";case"pre-release":return"prerelease";case"&":return"and";case"ad+d":return"AD&D";case"][":case"||":return"2";case"]|[":case"]I[":return"3";case"]||[":case"]II[":return"4";case" I:":return" 1 :";case" II:":return" 2 :";case" III:":return" 3 :";case"at&t":return"AT&T";case"dbase":return"dBase";case"doubledos":return"DoubleDOS";case"fastback":return"FastBack";case"loadit":return"LoadIt";case"memoryshift":return"Memory Shift";case"multilink":return"MultiLink";case"paperboy":return"PaperBoy";case"pc-draw":return"PC-Draw";case"pcjr":return"PCjr";case"prokey":return"ProKey";case"rbase":case"r:base":return"R:Base";case"sidekick":return"SideKick";case"visicalc":return"VisiCalc";case"war-craft":return"Warcraft";case"wordstar":return"WordStar";default:return""}}function a(e){let r=document.getElementById(e);if(r==null){console.error(`The ${e} for getElmById() element is null.`);return}return r}function c(e){if(`${e}`=="")return!0;let r=1980,t=new Date().getFullYear();return!(e<r||e>t)}function u(e){return`${e}`==""?!0:!(e<1||e>12)}function pe(e){return`${e}`==""?!0:!(e<1||e>31)}function Fe(e,r){if(e=="")return!0;let t=Number(e),s=Number(r);if(!Number.isInteger(s)||s<1)throw new Error(`The ID sanity value is invalid: ${s}`);return Number.isInteger(t)&&t>0&&t<=s}var d="is-invalid",$="d-none",Ct=100,Ee=1024*1024,Ae=100*Ee;function I(e,r){if(e==null)throw new Error("The elementId value of focusModalById is null.");if(r==null)throw new Error("The submissionId value of focusModalById is null.");let t=document.getElementById(r);if(t==null)throw new Error(`The ${r} element is null.`);let s=a(e);if(s.addEventListener("shown.bs.modal",function(){t.focus()}),bootstrap===void 0)throw new Error("The bootstrap object is undefined.");return new bootstrap.Modal(s,{keyboard:!0})}async function Ht(e){if(e==null)throw new Error("The file value of checkSHA is null.");let r=await Ft(e),t=await fetch(`/uploader/sha384/${r}`,{method:"PATCH",headers:{"Content-Type":"text/plain"},body:r});if(!t.ok)throw new Error(`Hashing is not possible, server response: ${t.status}`);return await t.text()}async function Ft(e){if(e==null)throw new Error("The file value of sha384 is null.");try{let r=await e.arrayBuffer(),t=await crypto.subtle.digest("SHA-384",r);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}catch(r){throw new Error(`Could not use arrayBuffer or crypto.subtle: ${r}`)}}function Y(e,r){if(e==null)throw new Error("The formId value of progress is null.");if(r==null)throw new Error("The elementId value of progress is null.");htmx.on(`#${e}`,"htmx:xhr:progress",function(t){t.target.id==`${e}`&&htmx.find(`#${r}`).setAttribute("value",t.detail.loaded/t.detail.total*Ct)})}function f(e){if(e==null)throw new Error("The file value of checkSize is null.");return e.size>Ae?`The chosen file is too big at ${Math.round(e.size/Ee)}MB, maximum size is ${Ae/Ee}MB.`:""}function Ye(){return pe(this.value)==!1?(this.classList.add(d),!1):(this.classList.remove(d),!0)}function m(){return console.log(`The month value is ${this.value}.`),u(this.value)==!1?(this.classList.add(d),!1):(this.classList.remove(d),!0)}function h(){return c(this.value)==!1?(this.classList.add(d),!1):(this.classList.remove(d),!0)}function v(e,r,t,s){if(e==null)throw new Error("The errors value of checkErrors is null.");if(r==null)throw new Error("The alert value of checkErrors is null.");if(t==null)throw new Error("The fileInput value of checkErrors is null.");if(s==null)throw new Error("The results value of checkErrors is null.");e=e.filter(n=>n.trim()!=""),!(e.length<=0)&&(r.innerText=e.join(" "),r.classList.remove($),t.innerText="",t.classList.add(d),s.classList.add($))}async function L(e,r,t,s){if(e==null)throw new Error("The file value of checkDuplicate is null.");if(r==null)throw new Error("The alert value of checkDuplicate is null.");if(t==null)throw new Error("The fileInput value of checkDuplicate is null.");if(s==null)throw new Error("The results value of checkDuplicate is null.");let n=()=>{r.classList.remove($),t.innerText="",t.classList.add(d),s.classList.add($)},o="";try{let y=await Ht(e);if(y==""){r.innerText="";return}o=y}catch(y){console.log(`${y}`),r.innerText=`${y}`,n();return}r.innerText="The chosen file already exists in the database: ";let i=document.createElement("a");i.href=`/f/${o}`,i.innerText=`${e.name}`,r.appendChild(i),n()}function g(e,r,t){if(e==null)throw new Error("The file1 value of hiddenDetails is null.");if(r==null)throw new Error("The lastMod value of hiddenDetails is null.");if(t==null)throw new Error("The magic value of hiddenDetails is null.");let s=e.lastModified,n=new Date().getTime(),o=60*60*1e3;n-s<o||(r.value=s),e.type!=""&&(t.value=e.type)}function p(){return this.value==""?(this.classList.add(d),!1):(this.classList.remove(d),!0)}function Ve(){return this.value==""?(this.classList.remove(d),!0):new RegExp(/^[a-zA-Z0-9_-]{11}$/).test(this.value)==!1?(this.classList.add(d),!1):(this.classList.remove(d),!0)}function b(e,r,t){if(e==null)throw new Error("The fileInput value of resetInput is null.");if(r==null)throw new Error("The alert value of resetInput is null.");if(t==null)throw new Error("The results value of resetInput is null.");e.innerText="",e.classList.remove(d),r.innerText="",r.classList.add($),t.innerText="",t.classList.add($)}function w(e,r){if(e==null)throw new Error("The alert value of submitError is null.");if(r==null)throw new Error("The results value of submitError is null.");e.innerText="Please correct the problems with the form.",e.classList.remove($),r.innerText="",r.classList.add($)}var je=I("uploader-pouet-modal","pouet-submission"),Pe=I("uploader-demozoo-modal","demozoo-submission"),Re=I("uploader-intro-modal","uploader-intro-file"),Ue=I("uploader-trainer-modal","uploader-trainer-file"),qe=I("uploader-text-modal","uploader-text-file"),Ne=I("uploader-image-modal","uploader-image-file"),Ke=I("uploader-magazine-modal","uploader-magazine-file"),Ge=I("uploader-advanced-modal","uploader-advanced-file"),At="Backspace",Yt="Enter",Vt="d",jt="p",Pt="i",Rt="t",Ut="n",qt="g",Nt="m",Kt="a",Gt="r",Xt="f",Ot="x";function Xe(){document.addEventListener("keydown",function(e){if(!e.ctrlKey||!e.altKey)return;let r=document.getElementById("go-to-the-new-artifact-record");switch(e.key){case At:e.preventDefault(),Pe.hide(),je.hide(),Re.hide(),Ue.hide(),qe.hide(),Ne.hide(),Ke.hide(),Ge.hide();break;case Yt:e.preventDefault(),r&&r.click();break;case Vt:Pe.show();break;case jt:je.show();break;case Pt:Re.show();break;case Rt:Ue.show();break;case Ut:qe.show();break;case qt:Ne.show();break;case Nt:Ke.show();break;case Kt:Ge.show();break;case Gt:e.preventDefault(),window.location.href="/search/releaser";break;case Xt:e.preventDefault(),window.location.href="/search/file";break;case Ot:e.preventDefault(),window.location.href="/search/desc";break}})}var Me="is-invalid",re="d-none";function Ie(e,r){let t=a(e),s=a(`${e}-error`),n=a(`${e}-results`);a(`${e}-close`).addEventListener("click",y),a(`${e}-clear`).addEventListener("click",y);function y(){t.value="",t.focus(),t.classList.remove(Me),s.innerText="",s.classList.add(re),n.innerHTML=""}let ce=45e4,ue=2e5;switch(e){case"demozoo-submission":Oe(t,ce);break;case"pouet-submission":Oe(t,ue);break}document.body.addEventListener("htmx:beforeRequest",function(){Wt(s,n)}),document.body.addEventListener("htmx:beforeSwap",function(A){A.detail.xhr.status>=400&&s.classList.remove(re)}),document.body.addEventListener("htmx:afterRequest",function(A){if(A.detail.elt===null||A.detail.elt.id!==`${e}`)return;if(A.detail.successful)return Zt(t);let de=A.detail.xhr;if(A.detail.failed&&de)return de.status===404?_t(s,n,r):Qt(s,de);Jt(s)})}function Oe(e,r){e.addEventListener("input",function(){if(!Fe(e.value,r)){e.classList.add(Me);return}e.classList.remove(Me)})}function Wt(e,r){r.innerHTML="",e.innerText="",e.classList.add(re)}function Zt(e){e.focus()}function _t(e,r,t){r.innerText=`Production not found on ${t}.`}function Jt(e){e.innerText="Something with the browser is not working, please refresh the page.",e.classList.remove(re)}function Qt(e,r){e.innerText=`Something went wrong, ${r.status} status: ${r.responseText}.`,e.classList.remove(re)}var er="application/x-freearc",tr="application/x-arj",rr="application/x-bzip",ar="application/x-bzip2",sr="application/gzip",nr="application/vnd.rar",ir="application/x-tar",or="application/zip",lr="application/x-7z-compressed",cr="application/x-msdos-program",ur="image/bmp",dr="image/gif",pr="image/jpeg",fr="image/vnd.zbrush.pcx",mr="image/png",hr="image/tiff",vr="image/webp",Lr="application/x-csh",gr="application/x-chrome-extension",br="text/x-script.perl",wr="application/x-httpd-php",yr="text/x-script.phyton",xr="text/x-script.rexx",kr="application/x-sh",Tr="application/x-shellscript",Er="text/x-script.tcl",Mr="text/x-shellscript",Ir="text/x-script.zsh";function zr(){return[Lr,gr,br,wr,yr,xr,kr,Tr,Er,Mr,Ir]}function We(){return[cr]}function fe(){return[er,tr,rr,ar,sr,nr,ir,or,lr]}function Ze(){return["application/octet-stream","application/x-binary","application/x-ms-dos-executable"]}function $r(){return[ur,dr,pr,fr,mr,hr,vr]}function _e(){return["text/plain","text/x-nfo"]}function Je(e){return zr().includes(e)}function Qe(e){return e===""?!0:$r().concat(fe()).includes(e)}function me(e){return e===""?!0:We().concat(fe(),Ze()).includes(e)}function et(e){return e===""?!0:_e().concat(fe(),We(),Ze()).includes(e)}function tt(e){return e===""?!0:_e().concat(fe()).includes(e)}var Br="uploader-image-form",z="is-invalid",ze="d-none",Dr=a(Br),K=a("uploader-image-alert"),V=a("uploader-image-file"),rt=a("uploader-image-last-modified"),Sr=a("uploader-image-list-1"),Cr=a("uploader-image-list-2"),at=a("uploader-image-magic"),ae=a("uploader-image-month"),he=a("uploader-image-releaser-1"),B=a("uploader-image-results"),Hr=a("uploader-image-title"),N=a("uploader-image-year");Dr.addEventListener("reset",function(){rt.value="",at.value="",nt()});V.addEventListener("change",Fr);Hr.addEventListener("paste",T);he.addEventListener("input",p);N.addEventListener("input",h);ae.addEventListener("input",m);function st(e){a(e).addEventListener("click",function(){let t=!0;if(he.value==""&&(he.classList.add(z),t=!1),c(N.value)==!1&&(N.classList.add(z),t=!1),u(ae.value)==!1&&(ae.classList.add(z),t=!1),ae.value!=""&&N.value==""&&(N.classList.add(z),t=!1),V.value==""&&(V.classList.add(z),t=!1),t==!1)return w(K,B);nt(),B.innerText="...",B.classList.remove(ze)})}async function Fr(){b(V,K,B);let e=this.files[0],r=[f(e),Ar(e)];v(r,K,V,B),L(e,K,V,B),g(e,rt,at),r[0]===""&&r[1]===""&&document.getElementById("uploader-image-submit").focus({focusVisible:!0})}function Ar(e){return Qe(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an image.`}function nt(){Sr.innerHTML="",Cr.innerHTML="",B.innerHTML="",B.classList.add(ze),K.innerText="",K.classList.add(ze),N.classList.remove(z),ae.classList.remove(z),he.classList.remove(z),V.classList.remove(z)}var Yr="uploader-intro-form",E="is-invalid",$e="d-none",Vr=a(Yr),X=a("uploader-intro-alert"),j=a("uploader-intro-file"),it=a("uploader-intro-last-modified"),jr=a("uploader-intro-list-1"),Pr=a("uploader-intro-list-2"),ot=a("uploader-intro-magic"),se=a("uploader-intro-month"),ve=a("uploader-intro-releaser-1"),D=a("uploader-intro-results"),Rr=a("uploader-intro-title"),G=a("uploader-intro-year"),lt=a("uploader-intro-youtube");Vr.addEventListener("reset",function(){it.value="",ot.value="",ut()});j.addEventListener("change",Ur);Rr.addEventListener("paste",T);ve.addEventListener("input",p);G.addEventListener("input",h);se.addEventListener("input",m);lt.addEventListener("input",Ve);function ct(e){a(e).addEventListener("click",function(){let t=!0;if(ve.value==""&&(ve.classList.add(E),t=!1),c(G.value)==!1&&(G.classList.add(E),t=!1),u(se.value)==!1&&(se.classList.add(E),t=!1),se.value!=""&&G.value==""&&(G.classList.add(E),t=!1),j.value==""&&(j.classList.add(E),t=!1),t==!1)return w(X,D);ut(),D.innerText="...",D.classList.remove($e)})}async function Ur(){b(j,X,D);let e=this.files[0],r=[f(e),qr(e)];v(r,X,j,D),L(e,X,j,D),g(e,it,ot),r[0]===""&&r[1]===""&&document.getElementById("uploader-intro-submit").focus({focusVisible:!0})}function qr(e){return me(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an intro.`}function ut(){jr.innerHTML="",Pr.innerHTML="",D.innerHTML="",D.classList.add($e),X.innerText="",X.classList.add($e),G.classList.remove(E),se.classList.remove(E),ve.classList.remove(E),lt.classList.remove(E),j.classList.remove(E)}var Nr="uploader-magazine-form",x="is-invalid",Be="d-none",Kr=a(Nr),W=a("uploader-magazine-alert"),P=a("uploader-magazine-file"),dt=a("uploader-magazine-last-modified"),Gr=a("uploader-magazine-list-1"),pt=a("uploader-magazine-magic"),ne=a("uploader-magazine-month"),Le=a("uploader-magazine-releaser-1"),S=a("uploader-magazine-results"),De=a("uploader-magazine-title"),O=a("uploader-magazine-year");Kr.addEventListener("reset",function(){dt.value="",pt.value="",mt()});P.addEventListener("change",Xr);Le.addEventListener("input",p);O.addEventListener("input",h);ne.addEventListener("input",m);function ft(e){a(e).addEventListener("click",function(){let t=!0;if(De.value==""&&(De.classList.add(x),t=!1),Le.value==""&&(Le.classList.add(x),t=!1),c(O.value)==!1&&(O.classList.add(x),t=!1),u(ne.value)==!1&&(ne.classList.add(x),t=!1),ne.value!=""&&O.value==""&&(O.classList.add(x),t=!1),P.value==""&&(P.classList.add(x),t=!1),t==!1)return w(W,S);mt(),S.innerText="...",S.classList.remove(Be)})}async function Xr(){b(P,W,S);let e=this.files[0],r=[f(e),Or(e)];v(r,W,P,S),L(e,W,P,S),g(e,dt,pt),r[0]===""&&r[1]===""&&document.getElementById("uploader-magazine-submit").focus({focusVisible:!0})}function Or(e){return et(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an image.`}function mt(){Gr.innerHTML="",S.innerHTML="",S.classList.add(Be),W.innerText="",W.classList.add(Be),O.classList.remove(x),ne.classList.remove(x),Le.classList.remove(x),P.classList.remove(x),De.classList.remove(x)}var Wr="uploader-text-form",M="is-invalid",Se="d-none",Zr=a(Wr),_=a("uploader-text-alert"),R=a("uploader-text-file"),ht=a("uploader-text-last-modified"),_r=a("uploader-text-list-1"),Jr=a("uploader-text-list-2"),vt=a("uploader-text-magic"),ie=a("uploader-text-month"),ge=a("uploader-text-releaser-1"),C=a("uploader-text-results"),Lt=a("uploader-text-title"),Z=a("uploader-text-year");Zr.addEventListener("reset",function(){ht.value="",vt.value="",bt()});R.addEventListener("change",Qr);Lt.addEventListener("paste",T);ge.addEventListener("input",p);Z.addEventListener("input",h);ie.addEventListener("input",m);function gt(e){a(e).addEventListener("click",function(){let t=!0;if(ge.value==""&&(ge.classList.add(M),t=!1),c(Z.value)==!1&&(Z.classList.add(M),t=!1),u(ie.value)==!1&&(ie.classList.add(M),t=!1),ie.value!=""&&Z.value==""&&(Z.classList.add(M),t=!1),R.value==""&&(R.classList.add(M),t=!1),t==!1)return w(_,C);bt(),C.innerText="...",C.classList.remove(Se)})}async function Qr(){b(R,_,C);let e=this.files[0],r=[f(e),ea(e)];v(r,_,R,C),L(e,_,R,C),g(e,ht,vt),r[0]===""&&r[1]===""&&document.getElementById("uploader-text-submit").focus({focusVisible:!0})}function ea(e){return tt(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for a text.`}function bt(){_r.innerHTML="",Jr.innerHTML="",C.innerHTML="",C.classList.add(Se),_.innerText="",_.classList.add(Se),Z.classList.remove(M),ie.classList.remove(M),ge.classList.remove(M),R.classList.remove(M),Lt.classList.remove(M)}var ta="uploader-trainer-form",k="is-invalid",Ce="d-none",ra=a(ta),Q=a("uploader-trainer-alert"),U=a("uploader-trainer-file"),wt=a("uploader-trainer-last-modified"),aa=a("uploader-trainer-list-1"),sa=a("uploader-trainer-list-2"),yt=a("uploader-trainer-magic"),oe=a("uploader-trainer-month"),be=a("uploader-trainer-releaser-1"),H=a("uploader-trainer-results"),we=a("uploader-trainer-title"),J=a("uploader-trainer-year");ra.addEventListener("reset",function(){wt.value="",yt.value="",kt()});U.addEventListener("change",na);we.addEventListener("paste",T);be.addEventListener("input",p);J.addEventListener("input",h);oe.addEventListener("input",m);function xt(e){a(e).addEventListener("click",function(){let t=!0;if(we.value==""&&(we.classList.add(k),t=!1),be.value==""&&(be.classList.add(k),t=!1),c(J.value)==!1&&(J.classList.add(k),t=!1),u(oe.value)==!1&&(oe.classList.add(k),t=!1),oe.value!=""&&J.value==""&&(J.classList.add(k),t=!1),U.value==""&&(U.classList.add(k),t=!1),t==!1)return w(Q,H);kt(),H.innerText="...",H.classList.remove(Ce)})}async function na(){b(U,Q,H);let e=this.files[0],r=[f(e),ia(e)];v(r,Q,U,H),L(e,Q,U,H),g(e,wt,yt),r[0]===""&&r[1]===""&&document.getElementById("uploader-trainer-submit").focus({focusVisible:!0})}function ia(e){return me(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an intro.`}function kt(){aa.innerHTML="",sa.innerHTML="",H.innerHTML="",H.classList.add(Ce),Q.innerText="",Q.classList.add(Ce),J.classList.remove(k),oe.classList.remove(k),be.classList.remove(k),U.classList.remove(k),we.classList.remove(k)}var oa="uploader-advanced-form",l="is-invalid",He="d-none",la=a(oa),te=a("uploader-advanced-alert"),ye=a("uploader-advanced-category"),ca=a("uploader-advanced-classification-help"),xe=a("uploader-advanced-day"),q=a("uploader-advanced-file"),Tt=a("uploader-advanced-last-modified"),ua=a("uploader-advanced-list-1"),da=a("uploader-advanced-list-2"),Et=a("uploader-advanced-magic"),le=a("uploader-advanced-month"),ke=a("uploader-advanced-operating-system"),Te=a("uploader-advanced-releaser-1"),F=a("uploader-advanced-results"),pa=a("uploader-advanced-title"),ee=a("uploader-advanced-year");la.addEventListener("reset",function(){Tt.value="",Et.value="",It()});q.addEventListener("change",fa);pa.addEventListener("paste",T);Te.addEventListener("input",p);ee.addEventListener("input",h);le.addEventListener("input",m);xe.addEventListener("input",Ye);ye.addEventListener("change",p);ke.addEventListener("change",p);function Mt(e){a(e).addEventListener("click",function(){let t=!0;if(Te.value==""&&(Te.classList.add(l),t=!1),c(ee.value)==!1&&(ee.classList.add(l),t=!1),u(le.value)==!1&&(le.classList.add(l),t=!1),pe(xe.value)==!1&&(xe.classList.add(l),t=!1),le.value!=""&&ee.value==""&&(ee.classList.add(l),t=!1),q.value==""&&(q.classList.add(l),t=!1),ke.value==""&&(ke.classList.add(l),t=!1),ye.value==""&&(ye.classList.add(l),t=!1),t==!1)return w(te,F);It(),F.innerText="...",F.classList.remove(He)})}async function fa(){b(q,te,F);let e=this.files[0],r=[f(e),ma(e)];v(r,te,q,F),L(e,te,q,F),g(e,Tt,Et),r[0]===""&&r[1]===""&&document.getElementById("uploader-advanced-submit").focus({focusVisible:!0})}function ma(e){return Je(e.type)?`The chosen file mime type ${e.type} might not be suitable for an upload.`:""}function It(){ua.innerHTML="",da.innerHTML="",F.innerHTML="",ca.innerHTML="",F.classList.add(He),te.innerText="",te.classList.add(He),ee.classList.remove(l),le.classList.remove(l),xe.classList.remove(l),Te.classList.remove(l),q.classList.remove(l),ke.classList.remove(l),ye.classList.remove(l)}(()=>{"use strict";Xe(),Ie("demozoo-submission","Demozoo"),Ie("pouet-submission","Pou\xEBt"),st("uploader-image-submit"),Y("uploader-image-form","uploader-image-progress"),ct("uploader-intro-submit"),Y("uploader-intro-form","uploader-intro-progress"),xt("uploader-trainer-submit"),Y("uploader-trainer-form","uploader-trainer-progress"),ft("uploader-magazine-submit"),Y("uploader-magazine-form","uploader-magazine-progress"),gt("uploader-text-submit"),Y("uploader-text-form","uploader-text-progress"),Mt("uploader-advanced-submit"),Y("uploader-advanced-form","uploader-advanced-progress")})();})();
