/* uploader.min.js Â© Defacto2 2024 */
(()=>{"use strict";const t="is-invalid",U=document.getElementById("uploaderPouet");if(U==null)throw new Error("The uploader-pouet element is null.");const le=new bootstrap.Modal(U),m=document.getElementById("uploader-demozoo");if(m==null)throw new Error("The uploader-demozoo element is null.");const A=new bootstrap.Modal(m),C=document.getElementById("demozoo-submission");if(C==null)throw new Error("The demozoo-submission element is null.");const oe=document.getElementById("uploaderText"),de=document.getElementById("uploaderImg"),ie=document.getElementById("uploaderMag"),ce=document.getElementById("uploaderAdv"),me=document.getElementById("termsModal"),ue=new bootstrap.Modal(oe),re=new bootstrap.Modal(de),fe=new bootstrap.Modal(ie),ge=new bootstrap.Modal(ce),ve=new bootstrap.Modal(me),$=document.getElementById("paginationStart"),O=document.getElementById("paginationPrev"),j=document.getElementById("paginationPrev2"),J=document.getElementById("paginationNext"),q=document.getElementById("paginationNext2"),G=document.getElementById("paginationEnd"),n=document.getElementById("paginationRange");if(typeof n<"u"&&n!=null){n.addEventListener("change",function(){const s=n.value,a=new URL(window.location.href);let l=a.pathname.split("/");const ne=l[l.length-1];!isNaN(ne)&&typeof Number(ne)=="number"?l[l.length-1]=s:l.push(s),a.pathname=l.join("/"),window.location.href=a.href});const e=document.getElementById("paginationRangeLabel");n.addEventListener("input",function(){e.textContent="Jump to page "+n.value})}document.addEventListener("keydown",function(e){if(e.ctrlKey&&e.altKey)switch(e.key){case"d":A.show();break;case"p":le.show();break;case"i":A.show();break;case"n":ue.show();break;case"g":re.show();break;case"m":fe.show();break;case"a":ge.show();break;case"t":ve.show();break}const s="ArrowRight",a="ArrowLeft";if(e.ctrlKey&&e.key==a){$?.click();return}if(e.ctrlKey&&e.key==s){G?.click();return}if(e.shiftKey&&e.key==a){j?.click();return}if(e.shiftKey&&e.key==s){q?.click();return}if(e.key==a){O?.click();return}if(e.key==s){J?.click();return}});function o(e){if(`${e}`=="")return!0;const s=new Date().getFullYear();return!(e<1980||e>s)}function d(e){return`${e}`==""?!0:!(e<1||e>12)}function H(e){return`${e}`==""?!0:!(e<1||e>31)}const Q=document.getElementById("introUploader"),V=document.getElementById("textUploader"),W=document.getElementById("imageUploader"),X=document.getElementById("magUploader"),Z=document.getElementById("advancedUploader");m.addEventListener("shown.bs.modal",function(){C.focus()});const Ee=document.getElementById("pouetProdsID");document.getElementById("uploaderPouet").addEventListener("shown.bs.modal",function(){Ee.focus()});const u=document.getElementById("introFile"),r=document.getElementById("releaseTitle"),f=document.getElementById("introReleasers"),g=document.getElementById("introYear"),v=document.getElementById("introMonth");function _(){u.classList.remove(t),r.classList.remove(t),f.classList.remove(t),g.classList.remove(t),v.classList.remove(t)}document.getElementById("introSubmit").addEventListener("click",function(){let e=!0;_(),u.value==""&&(u.classList.add(t),e=!1),r.value==""&&(r.classList.add(t),e=!1),f.value==""&&(f.classList.add(t),e=!1),o(g.value)==!1&&(g.classList.add(t),e=!1),d(v.value)==!1&&(v.classList.add(t),e=!1),e==!0&&Q.submit()}),Q.addEventListener("reset",_);const E=document.getElementById("textFile"),L=document.getElementById("textTitle"),y=document.getElementById("textReleasers"),I=document.getElementById("textYear"),p=document.getElementById("textMonth");function ee(){E.classList.remove(t),L.classList.remove(t),y.classList.remove(t),I.classList.remove(t),p.classList.remove(t)}document.getElementById("textSubmit").addEventListener("click",function(){let e=!0;ee(),E.value==""&&(E.classList.add(t),e=!1),L.value==""&&(L.classList.add(t),e=!1),y.value==""&&(y.classList.add(t),e=!1),o(I.value)==!1&&(I.classList.add(t),e=!1),d(p.value)==!1&&(p.classList.add(t),e=!1),e==!0&&V.submit()}),V.addEventListener("reset",ee);const B=document.getElementById("imageFile"),h=document.getElementById("imageTitle"),M=document.getElementById("imageReleasers"),b=document.getElementById("imageYear"),w=document.getElementById("imageMonth");function te(){B.classList.remove(t),h.classList.remove(t),M.classList.remove(t),b.classList.remove(t),w.classList.remove(t)}document.getElementById("imageSubmit").addEventListener("click",function(){let e=!0;te(),B.value==""&&(B.classList.add(t),e=!1),h.value==""&&(h.classList.add(t),e=!1),M.value==""&&(M.classList.add(t),e=!1),o(b.value)==!1&&(b.classList.add(t),e=!1),d(w.value)==!1&&(w.classList.add(t),e=!1),e==!0&&W.submit()}),W.addEventListener("reset",te);const k=document.getElementById("magFile"),x=document.getElementById("magTitle"),R=document.getElementById("magIssue"),F=document.getElementById("magYear"),T=document.getElementById("magMonth"),Y=document.getElementById("magDay");function se(){k.classList.remove(t),x.classList.remove(t),R.classList.remove(t),F.classList.remove(t),T.classList.remove(t),Y.classList.remove(t)}document.getElementById("magSubmit").addEventListener("click",function(){let e=!0;se(),k.value==""&&(k.classList.add(t),e=!1),x.value==""&&(x.classList.add(t),e=!1),R.value==""&&(R.classList.add(t),e=!1),o(F.value)==!1&&(F.classList.add(t),e=!1),d(T.value)==!1&&(T.classList.add(t),e=!1),H(Y.value)==!1&&(Y.classList.add(t),e=!1),e==!0&&X.submit()}),X.addEventListener("reset",se);const S=document.getElementById("advFile"),i=document.getElementById("advSelOS"),c=document.getElementById("advSelCat"),z=document.getElementById("advTitle"),D=document.getElementById("releasersAdv"),N=document.getElementById("advYear"),P=document.getElementById("advMonth"),K=document.getElementById("advDay");function ae(){S.classList.remove(t),i.classList.remove(t),c.classList.remove(t),z.classList.remove(t),D.classList.remove(t),N.classList.remove(t),P.classList.remove(t),K.classList.remove(t)}document.getElementById("advSubmit").addEventListener("click",function(){const e="Choose...";let s=!0;ae(),S.value==""&&(S.classList.add(t),s=!1),(i.value==""||i.value==e)&&(i.classList.add(t),s=!1),(c.value==""||c.value==e)&&(c.classList.add(t),s=!1),z.value==""&&(z.classList.add(t),s=!1),D.value==""&&(D.classList.add(t),s=!1),o(N.value)==!1&&(N.classList.add(t),s=!1),d(P.value)==!1&&(P.classList.add(t),s=!1),H(K.value)==!1&&(K.classList.add(t),s=!1),s==!0&&Z.submit()}),Z.addEventListener("reset",ae)})();
