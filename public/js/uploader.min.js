/* uploader.min.js Â© Defacto2 2024 */
(()=>{"use strict";const t="is-invalid",te=document.getElementById("uploaderDZ"),se=document.getElementById("uploaderPouet"),ae=document.getElementById("uploaderDZX"),ne=document.getElementById("uploaderText"),le=document.getElementById("uploaderImg"),oe=document.getElementById("uploaderMag"),de=document.getElementById("uploaderAdv"),ie=document.getElementById("termsModal"),ce=new bootstrap.Modal(te),me=new bootstrap.Modal(se),ue=new bootstrap.Modal(ae),re=new bootstrap.Modal(ne),fe=new bootstrap.Modal(le),ge=new bootstrap.Modal(oe),ve=new bootstrap.Modal(de),Le=new bootstrap.Modal(ie),U=document.getElementById("paginationStart"),z=document.getElementById("paginationPrev"),A=document.getElementById("paginationPrev2"),C=document.getElementById("paginationNext"),Z=document.getElementById("paginationNext2"),$=document.getElementById("paginationEnd"),n=document.getElementById("paginationRange");if(typeof n<"u"&&n!=null){n.addEventListener("change",function(){const s=n.value,a=new URL(window.location.href);let l=a.pathname.split("/");const ee=l[l.length-1];!isNaN(ee)&&typeof Number(ee)=="number"?l[l.length-1]=s:l.push(s),a.pathname=l.join("/"),window.location.href=a.href});const e=document.getElementById("paginationRangeLabel");n.addEventListener("input",function(){e.textContent="Jump to page "+n.value})}document.addEventListener("keydown",function(e){if(e.ctrlKey&&e.altKey)switch(e.key){case"d":ce.show();break;case"p":me.show();break;case"i":ue.show();break;case"n":re.show();break;case"g":fe.show();break;case"m":ge.show();break;case"a":ve.show();break;case"t":Le.show();break}const s="ArrowRight",a="ArrowLeft";if(e.ctrlKey&&e.key==a){U?.click();return}if(e.ctrlKey&&e.key==s){$?.click();return}if(e.shiftKey&&e.key==a){A?.click();return}if(e.shiftKey&&e.key==s){Z?.click();return}if(e.key==a){z?.click();return}if(e.key==s){C?.click();return}});function o(e){if(`${e}`=="")return!0;const s=new Date().getFullYear();return!(e<1980||e>s)}function d(e){return`${e}`==""?!0:!(e<1||e>12)}function O(e){return`${e}`==""?!0:!(e<1||e>31)}const j=document.getElementById("introUploader"),J=document.getElementById("textUploader"),X=document.getElementById("imageUploader"),q=document.getElementById("magUploader"),G=document.getElementById("advancedUploader"),ye=document.getElementById("demozooProdID");document.getElementById("uploaderDZ").addEventListener("shown.bs.modal",function(){ye.focus()});const Ee=document.getElementById("pouetProdsID");document.getElementById("uploaderPouet").addEventListener("shown.bs.modal",function(){Ee.focus()});const m=document.getElementById("introFile"),u=document.getElementById("releaseTitle"),r=document.getElementById("introReleasers"),f=document.getElementById("introYear"),g=document.getElementById("introMonth");function H(){m.classList.remove(t),u.classList.remove(t),r.classList.remove(t),f.classList.remove(t),g.classList.remove(t)}document.getElementById("introSubmit").addEventListener("click",function(){let e=!0;H(),m.value==""&&(m.classList.add(t),e=!1),u.value==""&&(u.classList.add(t),e=!1),r.value==""&&(r.classList.add(t),e=!1),o(f.value)==!1&&(f.classList.add(t),e=!1),d(g.value)==!1&&(g.classList.add(t),e=!1),e==!0&&j.submit()}),j.addEventListener("reset",H);const v=document.getElementById("textFile"),L=document.getElementById("textTitle"),y=document.getElementById("textReleasers"),E=document.getElementById("textYear"),I=document.getElementById("textMonth");function Q(){v.classList.remove(t),L.classList.remove(t),y.classList.remove(t),E.classList.remove(t),I.classList.remove(t)}document.getElementById("textSubmit").addEventListener("click",function(){let e=!0;Q(),v.value==""&&(v.classList.add(t),e=!1),L.value==""&&(L.classList.add(t),e=!1),y.value==""&&(y.classList.add(t),e=!1),o(E.value)==!1&&(E.classList.add(t),e=!1),d(I.value)==!1&&(I.classList.add(t),e=!1),e==!0&&J.submit()}),J.addEventListener("reset",Q);const p=document.getElementById("imageFile"),B=document.getElementById("imageTitle"),h=document.getElementById("imageReleasers"),M=document.getElementById("imageYear"),b=document.getElementById("imageMonth");function V(){p.classList.remove(t),B.classList.remove(t),h.classList.remove(t),M.classList.remove(t),b.classList.remove(t)}document.getElementById("imageSubmit").addEventListener("click",function(){let e=!0;V(),p.value==""&&(p.classList.add(t),e=!1),B.value==""&&(B.classList.add(t),e=!1),h.value==""&&(h.classList.add(t),e=!1),o(M.value)==!1&&(M.classList.add(t),e=!1),d(b.value)==!1&&(b.classList.add(t),e=!1),e==!0&&X.submit()}),X.addEventListener("reset",V);const w=document.getElementById("magFile"),k=document.getElementById("magTitle"),x=document.getElementById("magIssue"),R=document.getElementById("magYear"),F=document.getElementById("magMonth"),Y=document.getElementById("magDay");function W(){w.classList.remove(t),k.classList.remove(t),x.classList.remove(t),R.classList.remove(t),F.classList.remove(t),Y.classList.remove(t)}document.getElementById("magSubmit").addEventListener("click",function(){let e=!0;W(),w.value==""&&(w.classList.add(t),e=!1),k.value==""&&(k.classList.add(t),e=!1),x.value==""&&(x.classList.add(t),e=!1),o(R.value)==!1&&(R.classList.add(t),e=!1),d(F.value)==!1&&(F.classList.add(t),e=!1),O(Y.value)==!1&&(Y.classList.add(t),e=!1),e==!0&&q.submit()}),q.addEventListener("reset",W);const D=document.getElementById("advFile"),i=document.getElementById("advSelOS"),c=document.getElementById("advSelCat"),S=document.getElementById("advTitle"),T=document.getElementById("releasersAdv"),P=document.getElementById("advYear"),N=document.getElementById("advMonth"),K=document.getElementById("advDay");function _(){D.classList.remove(t),i.classList.remove(t),c.classList.remove(t),S.classList.remove(t),T.classList.remove(t),P.classList.remove(t),N.classList.remove(t),K.classList.remove(t)}document.getElementById("advSubmit").addEventListener("click",function(){const e="Choose...";let s=!0;_(),D.value==""&&(D.classList.add(t),s=!1),(i.value==""||i.value==e)&&(i.classList.add(t),s=!1),(c.value==""||c.value==e)&&(c.classList.add(t),s=!1),S.value==""&&(S.classList.add(t),s=!1),T.value==""&&(T.classList.add(t),s=!1),o(P.value)==!1&&(P.classList.add(t),s=!1),d(N.value)==!1&&(N.classList.add(t),s=!1),O(K.value)==!1&&(K.classList.add(t),s=!1),s==!0&&G.submit()}),G.addEventListener("reset",_)})();
