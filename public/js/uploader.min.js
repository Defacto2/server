/* uploader.min.js Â© Defacto2 2024 */
(()=>{function u(e){let n=document.getElementById(e);if(n==null)throw new Error(`The ${e} element is null.`);return n}function l(e){if(`${e}`=="")return!0;let n=1980,t=new Date().getFullYear();return!(e<n||e>t)}function i(e){return`${e}`==""?!0:!(e<1||e>12)}function g(e){return`${e}`==""?!0:!(e<1||e>31)}function W(e){let n=document.getElementById(e);if(n==null)throw new Error(`The ${e} element is null.`);n.addEventListener("click",function(){let t="Choose...",o=!0;Z(),L.value==""&&(L.classList.add(a),o=!1),(v.value==""||v.value==t)&&(v.classList.add(a),o=!1),(p.value==""||p.value==t)&&(p.classList.add(a),o=!1),B.value==""&&(B.classList.add(a),o=!1),w.value==""&&(w.classList.add(a),o=!1),l(x.value)==!1&&(x.classList.add(a),o=!1),i(I.value)==!1&&(I.classList.add(a),o=!1),g(b.value)==!1&&(b.classList.add(a),o=!1),o==!0&&X.submit()})}var a="is-invalid",X=document.getElementById("advancedUploader");X.addEventListener("reset",Z);function Z(){L.classList.remove(a),v.classList.remove(a),p.classList.remove(a),B.classList.remove(a),w.classList.remove(a),x.classList.remove(a),I.classList.remove(a),b.classList.remove(a)}var L=document.getElementById("advFile"),v=document.getElementById("advSelOS"),p=document.getElementById("advSelCat"),B=document.getElementById("advTitle"),w=document.getElementById("releasersAdv"),x=document.getElementById("advYear"),I=document.getElementById("advMonth"),b=document.getElementById("advDay");var M=document.getElementById("imageFile"),k=document.getElementById("imageTitle"),T=document.getElementById("imageReleasers"),$=document.getElementById("imageYear"),S=document.getElementById("imageMonth"),_=document.getElementById("imageUploader"),r="is-invalid";function ee(){M.classList.remove(r),k.classList.remove(r),T.classList.remove(r),$.classList.remove(r),S.classList.remove(r)}_.addEventListener("reset",ee);function te(e){let n=document.getElementById(e);if(n==null)throw new Error(`The ${e} element is null.`);n.addEventListener("click",function(){let t=!0;ee(),M.value==""&&(M.classList.add(r),t=!1),k.value==""&&(k.classList.add(r),t=!1),T.value==""&&(T.classList.add(r),t=!1),l($.value)==!1&&($.classList.add(r),t=!1),i(S.value)==!1&&(S.classList.add(r),t=!1),t==!0&&_.submit()})}var ne=document.getElementById("introUploader"),F=document.getElementById("introFile"),Y=document.getElementById("releaseTitle"),R=document.getElementById("introReleasers"),C=document.getElementById("introYear"),U=document.getElementById("introMonth"),d="is-invalid";function oe(){F.classList.remove(d),Y.classList.remove(d),R.classList.remove(d),C.classList.remove(d),U.classList.remove(d)}ne.addEventListener("reset",oe);function ae(e){let n=document.getElementById(e);if(n==null)throw new Error(`The ${e} element is null.`);n.addEventListener("click",function(){let t=!0;oe(),F.value==""&&(F.classList.add(d),t=!1),Y.value==""&&(Y.classList.add(d),t=!1),R.value==""&&(R.classList.add(d),t=!1),l(C.value)==!1&&(C.classList.add(d),t=!1),i(U.value)==!1&&(U.classList.add(d),t=!1),t==!0&&ne.submit()})}function f(e){if(bootstrap===void 0)throw new Error("The bootstrap object is undefined.");let n=u(e);return new bootstrap.Modal(n)}function h(e,n){let t=document.getElementById(n);if(t==null)throw new Error(`The ${n} element is null.`);let o=u(e);if(o.addEventListener("shown.bs.modal",function(){t.focus()}),bootstrap===void 0)throw new Error("The bootstrap object is undefined.");return new bootstrap.Modal(o)}function se(e){let n=document.getElementById(e);if(typeof n>"u"||n===null)return;n.addEventListener("change",function(){let y=n.value,E=new URL(window.location.href),m=E.pathname.split("/"),V=m[m.length-1];!isNaN(V)&&typeof Number(V)=="number"?m[m.length-1]=y:m.push(y),E.pathname=m.join("/"),window.location.href=E.href});let t="paginationRangeLabel",o=document.getElementById(t);if(o===null)throw new Error(`The ${t} element is null.`);n.addEventListener("input",function(){o.textContent="Jump to page "+n.value})}var pe=h("uploader-pouet","pouet-submission"),he=h("uploader-demozoo","demozoo-submission"),ye=h("uploader-intro","uploader-intro-file"),Ee=f("uploaderText"),Le=f("uploaderImg"),Be=f("uploaderMag"),we=f("uploaderAdv"),xe=f("termsModal"),Ie="d",be="p",Me="i",ke="n",Te="g",$e="m",Se="a",Fe="t",le=document.getElementById("paginationStart"),ie=document.getElementById("paginationPrev"),re=document.getElementById("paginationPrev2"),de=document.getElementById("paginationNext"),ce=document.getElementById("paginationNext2"),ue=document.getElementById("paginationEnd"),D="ArrowRight",N="ArrowLeft";function me(){document.addEventListener("keydown",function(e){if(e.ctrlKey&&e.altKey)switch(e.key){case Ie:he.show();break;case be:pe.show();break;case Me:ye.show();break;case ke:Ee.show();break;case Te:Le.show();break;case $e:Be.show();break;case Se:we.show();break;case Fe:xe.show();break}if(e.ctrlKey&&e.key==N){le?.click();return}if(e.ctrlKey&&e.key==D){ue?.click();return}if(e.shiftKey&&e.key==N){re?.click();return}if(e.shiftKey&&e.key==D){ce?.click();return}if(e.key==N){ie?.click();return}if(e.key==D){de?.click();return}})}var K=document.getElementById("magFile"),j=document.getElementById("magTitle"),A=document.getElementById("magIssue"),P=document.getElementById("magYear"),O=document.getElementById("magMonth"),z=document.getElementById("magDay"),s="is-invalid";function Ye(){K.classList.remove(s),j.classList.remove(s),A.classList.remove(s),P.classList.remove(s),O.classList.remove(s),z.classList.remove(s)}var Re=document.getElementById("magUploader");function fe(e){let n=document.getElementById(e);if(n==null)throw new Error(`The ${e} element is null.`);n.addEventListener("click",function(){let t=!0;Ye(),K.value==""&&(K.classList.add(s),t=!1),j.value==""&&(j.classList.add(s),t=!1),A.value==""&&(A.classList.add(s),t=!1),l(P.value)==!1&&(P.classList.add(s),t=!1),i(O.value)==!1&&(O.classList.add(s),t=!1),g(z.value)==!1&&(z.classList.add(s),t=!1),t==!0&&Re.submit()})}function ge(e,n){let t=document.getElementById(e);if(t==null)throw new Error(`The ${e} element is null.`);let o=document.getElementById(n);if(o==null)throw new Error(`The ${n} form element is null.`);o.addEventListener("reset",ve),t.addEventListener("click",function(){Ce()==!0&&o.submit()})}var G=u("textFile"),J=u("textTitle"),q=u("textReleasers"),H=u("textYear"),Q=u("textMonth"),c="is-invalid";function ve(){G.classList.remove(c),J.classList.remove(c),q.classList.remove(c),H.classList.remove(c),Q.classList.remove(c)}function Ce(){let e=!0;return ve(),G.value==""&&(G.classList.add(c),e=!1),J.value==""&&(J.classList.add(c),e=!1),q.value==""&&(q.classList.add(c),e=!1),l(H.value)==!1&&(H.classList.add(c),e=!1),i(Q.value)==!1&&(Q.classList.add(c),e=!1),e}(()=>{"use strict";me(),se("paginationRange"),W("advSubmit"),te("imageSubmit"),ae("introSubmit"),fe("magSubmit"),ge("textSubmit","textUploader")})();})();
