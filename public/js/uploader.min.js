/* uploader.min.js Â© Defacto2 2025 */
(()=>{function M(e){e.preventDefault();let r=(e.clipboardData||window.Clipboard).getData("text"),t=this,s=t.selectionStart,n=t.selectionEnd;t.value=t.value.slice(0,s)+r+t.value.slice(n),t.setSelectionRange(s+r.length,s+r.length);let o=Bt(t.value);t.value!=o&&(console.log('Formatted input text "%s" is formatted to "%s".',t.value,o),t.value=o)}function Bt(e){let r=["a","addon","aka","an","and","as","at","beta","betas","but","by","compatibility","crack","cracks","demo","demos","doc","docs","documentation","fix","fixes","for","final","from","if","in","installer","installers","is","hint","hints","map","maps","mod","mods","of","on","or","patch","patches","part","prerelease","prereleases","preview","previews","proper","release","releases","repack","repacks","rip","rips","so","solve","solves","the","trainer","trainers","to","update","updates","unprotect","unprotects","vs","with"],t=[".com",".exe","2d","3d","4d","abc","ad&d","api","bbs","bios","bsa","cd","cga","dos","dox","dvd","ega","ehq","f1","fbi","ftp","hd","hq","ibm","id","iso","la","lego","ls","masm","mbl","ms","mtv","nascar","nba","ncaa","nfl","nsa","nfo","nhl","nt","oem","os","pc","pcb","pga","ppe","pfs","pkarc","pkzip","psx","rac","rom","sdk","sfx","spa","tv","ufo","usa","ushq","uss","vga","whq","ww1","ww2","ww3","wwf","xp","ys"];e=e.trim(),e=e.replace(/_/g," "),e.match(/\./g)&&e.match(/\./g).length>4&&(e=e.replace(/\./g," ")),e=e.replace(/['"`]/g,""),e=e.replace(/ \([0-9a-z]\)/g,""),e=e.replace(/([a-zA-Z0-9]): /g,"$1 : "),e=e.replace(/([xX][-| ][Mm]en)/g,"X-Men"),e=e.replace(/\(/g,"( "),e=e.replace(/\)/g," )");let s=e.split(" ").length;return e=e.split(" ").map((n,o)=>{var i=n;if(Dt(i)===!0)return i.toLowerCase();if(t.includes(i.toLowerCase()))return i.toUpperCase();let u=Ct(i);if(u!=="")return u;let j=St(i);o>0&&Number.isInteger(j)&&(i=`${j}`);let P=$t(i,o,s);return P!==i&&(i=P),n!==i?i:o===0||!r.includes(i.toLowerCase())?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():n.toLowerCase()}).join(" ").trim(),e=e.replace(/(Lotus 123)/g,"Lotus 1-2-3"),e=e.replace(/(Falcon at )/g,"Falcon AT "),e=e.replace(/(the Games)/g,"The Games"),e=e.replace(/^(Unprotect for )(.+)/,"$2 unprotect"),e=e.replace(/^(Unprotecting )(.+)/,"$2 unprotect"),e=e.replace(/^(Unprotect )(.+)/,"$2 unprotect"),e=e.replace(/( : a)/g," : A"),e=e.replace(/( - a)/g," - A"),e=e.replace(/( : t)/g," : T"),e=e.replace(/( - t)/g," - T"),e=e.replace(/(f-)/g,"F-"),e=e.replace(/(3-d)/g,"3D"),e=e.replace(/(Pfs-)/g,"PFS-"),e=e.replace(/(Mean-18)/g,"Mean 18"),e=e.replace(/(v\d+)\.0/g,"$1"),e=e.replace(/\( /g,"("),e=e.replace(/ \)/g,")"),e=e.replace(/\[([^)]+)\]/g,function(n){return n.toUpperCase()}),e}function Dt(e){return/^[vV]\d+(\.\d+)?[a-z]?$/i.test(e)}function $t(e,r,t){return r!=t-1?e:["cheat","cheater","cracktro","loader","installer","trainer","version"].includes(e.toLowerCase())?"":e}function St(e){let r={I:1,V:5,X:10},t=0,s=0;for(let n=e.length-1;n>=0;n--){let o=r[e[n].toUpperCase()];o<s?t-=o:t+=o,s=o}return t==0?e:t}function Ct(e){switch(e.toLowerCase()){case"dr.":return"Dr";case"jr.":return"Jr";case"ms.":return"Ms";case"u.s.a.":return"USA";case"abcs":return"ABCs";case"cdrip":case"cd-rip":return"CD RIP";case"pre-release":return"prerelease";case"&":return"and";case"ad+d":return"AD&D";case"][":case"||":return"2";case"]|[":case"]I[":return"3";case"]||[":case"]II[":return"4";case" I:":return" 1 :";case" II:":return" 2 :";case" III:":return" 3 :";case"at&t":return"AT&T";case"dbase":return"dBase";case"doubledos":return"DoubleDOS";case"fastback":return"FastBack";case"loadit":return"LoadIt";case"memoryshift":return"Memory Shift";case"multilink":return"MultiLink";case"paperboy":return"PaperBoy";case"pc-draw":return"PC-Draw";case"pcjr":return"PCjr";case"prokey":return"ProKey";case"rbase":case"r:base":return"R:Base";case"sidekick":return"SideKick";case"visicalc":return"VisiCalc";case"war-craft":return"Warcraft";case"wordstar":return"WordStar";default:return""}}function a(e){let r=document.getElementById(e);if(r==null){console.error(`The ${e} for getElmById() element is null.`);return}return r}function l(e){if(`${e}`=="")return!0;let r=1980,t=new Date().getFullYear();return!(e<r||e>t)}function d(e){return`${e}`==""?!0:!(e<1||e>12)}function pe(e){return`${e}`==""?!0:!(e<1||e>31)}function Ye(e,r){if(e=="")return!0;let t=Number(e),s=Number(r);if(!Number.isInteger(s)||s<1)throw new Error(`The ID sanity value is invalid: ${s}`);return Number.isInteger(t)&&t>0&&t<=s}var f="is-invalid",S="d-none",Ft=100,Me=1024*1024,Ae=100*Me;function B(e,r){if(e==null)throw new Error("The elementId value of focusModalById is null.");if(r==null)throw new Error("The submissionId value of focusModalById is null.");let t=document.getElementById(r);if(t==null)throw new Error(`The ${r} element is null.`);let s=a(e);if(s.addEventListener("shown.bs.modal",function(){t.focus()}),bootstrap===void 0)throw new Error("The bootstrap object is undefined.");return new bootstrap.Modal(s,{keyboard:!0})}async function Ht(e){if(e==null)throw new Error("The file value of checkSHA is null.");let r=await Yt(e),t=await fetch(`/uploader/sha384/${r}`,{method:"PATCH",headers:{"Content-Type":"text/plain"},body:r});if(!t.ok)throw new Error(`Hashing is not possible, server response: ${t.status}`);return await t.text()}async function Yt(e){if(e==null)throw new Error("The file value of sha384 is null.");try{let r=await e.arrayBuffer(),t=await crypto.subtle.digest("SHA-384",r);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}catch(r){throw new Error(`Could not use arrayBuffer or crypto.subtle: ${r}`)}}function R(e,r){if(e==null)throw new Error("The formId value of progress is null.");if(r==null)throw new Error("The elementId value of progress is null.");htmx.on(`#${e}`,"htmx:xhr:progress",function(t){t.target.id==`${e}`&&htmx.find(`#${r}`).setAttribute("value",t.detail.loaded/t.detail.total*Ft)})}function h(e){if(e==null)throw new Error("The file value of checkSize is null.");return e.size>Ae?`The chosen file is too big at ${Math.round(e.size/Me)}MB, maximum size is ${Ae/Me}MB.`:""}function Ve(){return pe(this.value)==!1?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function v(){return console.log(`The month value is ${this.value}.`),d(this.value)==!1?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function I(){return l(this.value)==!1?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function g(e,r,t,s){if(e==null)throw new Error("The errors value of checkErrors is null.");if(r==null)throw new Error("The alert value of checkErrors is null.");if(t==null)throw new Error("The fileInput value of checkErrors is null.");if(s==null)throw new Error("The results value of checkErrors is null.");e=e.filter(n=>n.trim()!=""),!(e.length<=0)&&(r.innerText=e.join(" "),r.classList.remove(S),t.innerText="",t.classList.add(f),s.classList.add(S))}async function L(e,r,t,s){if(e==null)throw new Error("The file value of checkDuplicate is null.");if(r==null)throw new Error("The alert value of checkDuplicate is null.");if(t==null)throw new Error("The fileInput value of checkDuplicate is null.");if(s==null)throw new Error("The results value of checkDuplicate is null.");let n=()=>{r.classList.remove(S),t.innerText="",t.classList.add(f),s.classList.add(S)},o="";try{let u=await Ht(e);if(u=="")return;o=u}catch(u){console.log(`${u}`),r.innerText=`${u}`,n();return}r.innerText="The chosen file already exists in the database: ";let i=document.createElement("a");i.href=`/f/${o}`,i.innerText=`${e.name}`,r.appendChild(i),n()}function b(e,r,t){if(e==null)throw new Error("The file1 value of hiddenDetails is null.");if(r==null)throw new Error("The lastMod value of hiddenDetails is null.");if(t==null)throw new Error("The magic value of hiddenDetails is null.");let s=e.lastModified,n=new Date().getTime(),o=3600*1e3;n-s<o||(r.value=s),e.type!=""&&(t.value=e.type)}function p(){return this.value==""?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function je(){return this.value==""?(this.classList.remove(f),!0):new RegExp(/^[a-zA-Z0-9_-]{11}$/).test(this.value)==!1?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function k(e,r,t){if(e==null)throw new Error("The fileInput value of resetInput is null.");if(r==null)throw new Error("The alert value of resetInput is null.");if(t==null)throw new Error("The results value of resetInput is null.");e.innerText="",e.classList.remove(f),r.innerText="",r.classList.add(S),t.innerText="",t.classList.add(S)}function w(e,r){if(e==null)throw new Error("The alert value of submitError is null.");if(r==null)throw new Error("The results value of submitError is null.");e.innerText="Please correct the problems with the form.",e.classList.remove(S),r.innerText="",r.classList.add(S)}var Pe=B("uploader-pouet-modal","pouet-submission"),Re=B("uploader-demozoo-modal","demozoo-submission"),Ue=B("uploader-intro-modal","uploader-intro-file"),qe=B("uploader-trainer-modal","uploader-trainer-file"),Ne=B("uploader-text-modal","uploader-text-file"),Ke=B("uploader-image-modal","uploader-image-file"),Ge=B("uploader-magazine-modal","uploader-magazine-file"),Xe=B("uploader-advanced-modal","uploader-advanced-file"),At="Backspace",Vt="Enter",jt="d",Pt="p",Rt="i",Ut="t",qt="n",Nt="g",Kt="m",Gt="a",Xt="r",Ot="f",_t="x";function Oe(){document.addEventListener("keydown",function(e){if(!e.ctrlKey||!e.altKey)return;let r=document.getElementById("go-to-the-new-artifact-record"),t=document.getElementById("artifact-card-link-1"),s=document.getElementById("artifact-card-link-2"),n=document.getElementById("artifact-card-link-3"),o=document.getElementById("artifact-card-link-4"),i=document.getElementById("artifact-card-link-5"),u=document.getElementById("artifact-card-link-6"),j=document.getElementById("artifact-card-link-7"),P=document.getElementById("artifact-card-link-8"),T=document.getElementById("artifact-card-link-9");switch(e.key){case"1":e.preventDefault(),t&&D(t.href);break;case"2":e.preventDefault(),s&&D(s.href);break;case"3":e.preventDefault(),n&&D(n.href);break;case"4":e.preventDefault(),o&&D(o.href);break;case"5":e.preventDefault(),i&&D(i.href);break;case"6":e.preventDefault(),u&&D(u.href);break;case"7":e.preventDefault(),j&&D(j.href);break;case"8":e.preventDefault(),P&&D(P.href);break;case"9":e.preventDefault(),T&&D(T.href);break;case At:e.preventDefault(),Re.hide(),Pe.hide(),Ue.hide(),qe.hide(),Ne.hide(),Ke.hide(),Ge.hide(),Xe.hide();break;case Vt:e.preventDefault(),r&&r.click();break;case jt:Re.show();break;case Pt:Pe.show();break;case Rt:Ue.show();break;case Ut:qe.show();break;case qt:Ne.show();break;case Nt:Ke.show();break;case Kt:Ge.show();break;case Gt:Xe.show();break;case Xt:e.preventDefault(),window.location.href="/search/releaser";break;case Ot:e.preventDefault(),window.location.href="/search/file";break;case _t:e.preventDefault(),window.location.href="/search/desc";break}})}function D(e){window.open(e,"_blank").focus()}var Ie="is-invalid",ne="d-none";function ze(e,r){let t=a(e),s=a(`${e}-error`),n=a(`${e}-results`);a(`${e}-close`).addEventListener("click",u),a(`${e}-clear`).addEventListener("click",u);function u(){t.value="",t.focus(),t.classList.remove(Ie),s.innerText="",s.classList.add(ne),n.innerHTML=""}let j=45e4,P=2e5;switch(e){case"demozoo-submission":_e(t,j);break;case"pouet-submission":_e(t,P);break}document.body.addEventListener("htmx:beforeRequest",function(){Wt(s,n)}),document.body.addEventListener("htmx:beforeSwap",function(T){T.detail.xhr.status>=400&&s.classList.remove(ne)}),document.body.addEventListener("htmx:afterRequest",function(T){if(T.detail.elt===null||T.detail.elt.id!==`${e}`)return;if(T.detail.successful)return Zt(t);let fe=T.detail.xhr;if(T.detail.failed&&fe)return fe.status===404?Jt(s,n,r):er(s,fe);Qt(s)})}function _e(e,r){e.addEventListener("input",function(){if(!Ye(e.value,r)){e.classList.add(Ie);return}e.classList.remove(Ie)})}function Wt(e,r){r.innerHTML="",e.innerText="",e.classList.add(ne)}function Zt(e){e.focus()}function Jt(e,r,t){r.innerText=`Production not found on ${t}.`}function Qt(e){e.innerText="Something with the browser is not working, please refresh the page.",e.classList.remove(ne)}function er(e,r){e.innerText=`Something went wrong, ${r.status} status: ${r.responseText}.`,e.classList.remove(ne)}var tr="application/x-freearc",rr="application/x-arj",ar="application/x-bzip",sr="application/x-bzip2",nr="application/gzip",ir="application/vnd.rar",or="application/x-tar",lr="application/zip",cr="application/x-zip-compressed",ur="application/x-7z-compressed",dr="application/x-msdos-program",fr="image/bmp",pr="image/gif",mr="image/jpeg",hr="image/vnd.zbrush.pcx",vr="image/png",gr="image/tiff",Lr="image/webp",br="application/x-csh",kr="application/x-chrome-extension",wr="text/x-script.perl",yr="application/x-httpd-php",xr="text/x-script.phyton",Er="text/x-script.rexx",Tr="application/x-sh",Mr="application/x-shellscript",Ir="text/x-script.tcl",zr="text/x-shellscript",Br="text/x-script.zsh";function Dr(){return[br,kr,wr,yr,xr,Er,Tr,Mr,Ir,zr,Br]}function We(){return[dr]}function me(){return[tr,rr,ar,sr,nr,ir,or,lr,cr,ur]}function Ze(){return["application/octet-stream","application/x-binary","application/x-ms-dos-executable"]}function $r(){return[fr,pr,mr,hr,vr,gr,Lr]}function Je(){return["text/plain","text/x-nfo"]}function Qe(e){return Dr().includes(e)}function et(e){return e===""?!0:$r().concat(me()).includes(e)}function he(e){return e===""?!0:We().concat(me(),Ze()).includes(e)}function tt(e){return e===""?!0:Je().concat(me(),We(),Ze()).includes(e)}function rt(e){return e===""?!0:Je().concat(me()).includes(e)}var Sr="uploader-image-form",$="is-invalid",Be="d-none",Cr=a(Sr),_=a("uploader-image-alert"),U=a("uploader-image-file"),at=a("uploader-image-last-modified"),Fr=a("uploader-image-list-1"),Hr=a("uploader-image-list-2"),st=a("uploader-image-magic"),ie=a("uploader-image-month"),ve=a("uploader-image-releaser-1"),C=a("uploader-image-results"),Yr=a("uploader-image-title"),O=a("uploader-image-year");Cr.addEventListener("reset",function(){at.value="",st.value="",it()});U.addEventListener("change",Ar);Yr.addEventListener("paste",M);ve.addEventListener("input",p);O.addEventListener("input",I);ie.addEventListener("input",v);function nt(e){a(e).addEventListener("click",function(){let t=!0;if(ve.value==""&&(ve.classList.add($),t=!1),l(O.value)==!1&&(O.classList.add($),t=!1),d(ie.value)==!1&&(ie.classList.add($),t=!1),ie.value!=""&&O.value==""&&(O.classList.add($),t=!1),U.value==""&&(U.classList.add($),t=!1),t==!1)return w(_,C);it(),C.innerText="...",C.classList.remove(Be)})}async function Ar(){k(U,_,C);let e=this.files[0],r=[h(e),Vr(e)];g(r,_,U,C),L(e,_,U,C),b(e,at,st),r[0]===""&&r[1]===""&&document.getElementById("uploader-image-submit").focus({focusVisible:!0})}function Vr(e){return et(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an image.`}function it(){Fr.innerHTML="",Hr.innerHTML="",C.innerHTML="",C.classList.add(Be),_.innerText="",_.classList.add(Be),O.classList.remove($),ie.classList.remove($),ve.classList.remove($),U.classList.remove($)}var jr="uploader-intro-form",m="is-invalid",De="d-none",Pr=a(jr),W=a("uploader-intro-alert"),q=a("uploader-intro-file"),ot=a("uploader-intro-last-modified"),Rr=a("uploader-intro-list-1"),Ur=a("uploader-intro-list-2"),lt=a("uploader-intro-magic"),oe=a("uploader-intro-month"),ge=a("uploader-intro-releaser-1"),F=a("uploader-intro-results"),qr=a("uploader-intro-title"),y=a("uploader-intro-year"),ct=a("uploader-intro-youtube");Pr.addEventListener("reset",function(){ot.value="",lt.value="",dt()});q.addEventListener("change",Nr);qr.addEventListener("paste",M);ge.addEventListener("input",p);oe.addEventListener("input",v);ct.addEventListener("input",je);y.addEventListener("input",function(){let e=new Date().getFullYear(),r=parseInt(this.value)+1900;if(r>=1980&&r<2e3&&y.value.length==2){y.value=r,y.classList.remove(m);return}let t=parseInt(this.value)+2e3;if(t>=2e3&&t<=e&&t!=2019&&t!=2020&&y.value.length==2){y.value=t,y.classList.remove(m);return}l(this.value)==!1&&this.classList.add(m),this.classList.remove(m)});function ut(e){a(e).addEventListener("click",function(){let t=!0;if(ge.value==""&&(ge.classList.add(m),t=!1),l(y.value)==!1&&(y.classList.add(m),t=!1),d(oe.value)==!1&&(oe.classList.add(m),t=!1),oe.value!=""&&y.value==""&&(y.classList.add(m),t=!1),q.value==""&&(q.classList.add(m),t=!1),t==!1)return w(W,F);dt(),F.innerText="...",F.classList.remove(De)})}async function Nr(){k(q,W,F);let e=this.files[0],r=[h(e),Kr(e)];g(r,W,q,F),L(e,W,q,F),b(e,ot,lt),r[0]===""&&r[1]===""&&document.getElementById("uploader-intro-submit").focus({focusVisible:!0})}function Kr(e){return he(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an intro.`}function dt(){Rr.innerHTML="",Ur.innerHTML="",F.innerHTML="",F.classList.add(De),W.innerText="",W.classList.add(De),y.classList.remove(m),oe.classList.remove(m),ge.classList.remove(m),ct.classList.remove(m),q.classList.remove(m)}var Gr="uploader-magazine-form",x="is-invalid",$e="d-none",Xr=a(Gr),J=a("uploader-magazine-alert"),N=a("uploader-magazine-file"),ft=a("uploader-magazine-last-modified"),Or=a("uploader-magazine-list-1"),pt=a("uploader-magazine-magic"),le=a("uploader-magazine-month"),Le=a("uploader-magazine-releaser-1"),H=a("uploader-magazine-results"),Se=a("uploader-magazine-title"),Z=a("uploader-magazine-year");Xr.addEventListener("reset",function(){ft.value="",pt.value="",ht()});N.addEventListener("change",_r);Le.addEventListener("input",p);Z.addEventListener("input",I);le.addEventListener("input",v);function mt(e){a(e).addEventListener("click",function(){let t=!0;if(Se.value==""&&(Se.classList.add(x),t=!1),Le.value==""&&(Le.classList.add(x),t=!1),l(Z.value)==!1&&(Z.classList.add(x),t=!1),d(le.value)==!1&&(le.classList.add(x),t=!1),le.value!=""&&Z.value==""&&(Z.classList.add(x),t=!1),N.value==""&&(N.classList.add(x),t=!1),t==!1)return w(J,H);ht(),H.innerText="...",H.classList.remove($e)})}async function _r(){k(N,J,H);let e=this.files[0],r=[h(e),Wr(e)];g(r,J,N,H),L(e,J,N,H),b(e,ft,pt),r[0]===""&&r[1]===""&&document.getElementById("uploader-magazine-submit").focus({focusVisible:!0})}function Wr(e){return tt(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an image.`}function ht(){Or.innerHTML="",H.innerHTML="",H.classList.add($e),J.innerText="",J.classList.add($e),Z.classList.remove(x),le.classList.remove(x),Le.classList.remove(x),N.classList.remove(x),Se.classList.remove(x)}var Zr="uploader-text-form",z="is-invalid",Ce="d-none",Jr=a(Zr),ee=a("uploader-text-alert"),K=a("uploader-text-file"),vt=a("uploader-text-last-modified"),Qr=a("uploader-text-list-1"),ea=a("uploader-text-list-2"),gt=a("uploader-text-magic"),ce=a("uploader-text-month"),be=a("uploader-text-releaser-1"),Y=a("uploader-text-results"),Lt=a("uploader-text-title"),Q=a("uploader-text-year");Jr.addEventListener("reset",function(){vt.value="",gt.value="",kt()});K.addEventListener("change",ta);Lt.addEventListener("paste",M);be.addEventListener("input",p);Q.addEventListener("input",I);ce.addEventListener("input",v);function bt(e){a(e).addEventListener("click",function(){let t=!0;if(be.value==""&&(be.classList.add(z),t=!1),l(Q.value)==!1&&(Q.classList.add(z),t=!1),d(ce.value)==!1&&(ce.classList.add(z),t=!1),ce.value!=""&&Q.value==""&&(Q.classList.add(z),t=!1),K.value==""&&(K.classList.add(z),t=!1),t==!1)return w(ee,Y);kt(),Y.innerText="...",Y.classList.remove(Ce)})}async function ta(){k(K,ee,Y);let e=this.files[0],r=[h(e),ra(e)];g(r,ee,K,Y),L(e,ee,K,Y),b(e,vt,gt),r[0]===""&&r[1]===""&&document.getElementById("uploader-text-submit").focus({focusVisible:!0})}function ra(e){return rt(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for a text.`}function kt(){Qr.innerHTML="",ea.innerHTML="",Y.innerHTML="",Y.classList.add(Ce),ee.innerText="",ee.classList.add(Ce),Q.classList.remove(z),ce.classList.remove(z),be.classList.remove(z),K.classList.remove(z),Lt.classList.remove(z)}var aa="uploader-trainer-form",E="is-invalid",Fe="d-none",sa=a(aa),re=a("uploader-trainer-alert"),G=a("uploader-trainer-file"),wt=a("uploader-trainer-last-modified"),na=a("uploader-trainer-list-1"),ia=a("uploader-trainer-list-2"),yt=a("uploader-trainer-magic"),ue=a("uploader-trainer-month"),ke=a("uploader-trainer-releaser-1"),A=a("uploader-trainer-results"),we=a("uploader-trainer-title"),te=a("uploader-trainer-year");sa.addEventListener("reset",function(){wt.value="",yt.value="",Et()});G.addEventListener("change",oa);we.addEventListener("paste",M);ke.addEventListener("input",p);te.addEventListener("input",I);ue.addEventListener("input",v);function xt(e){a(e).addEventListener("click",function(){let t=!0;if(we.value==""&&(we.classList.add(E),t=!1),ke.value==""&&(ke.classList.add(E),t=!1),l(te.value)==!1&&(te.classList.add(E),t=!1),d(ue.value)==!1&&(ue.classList.add(E),t=!1),ue.value!=""&&te.value==""&&(te.classList.add(E),t=!1),G.value==""&&(G.classList.add(E),t=!1),t==!1)return w(re,A);Et(),A.innerText="...",A.classList.remove(Fe)})}async function oa(){k(G,re,A);let e=this.files[0],r=[h(e),la(e)];g(r,re,G,A),L(e,re,G,A),b(e,wt,yt),r[0]===""&&r[1]===""&&document.getElementById("uploader-trainer-submit").focus({focusVisible:!0})}function la(e){return he(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an intro.`}function Et(){na.innerHTML="",ia.innerHTML="",A.innerHTML="",A.classList.add(Fe),re.innerText="",re.classList.add(Fe),te.classList.remove(E),ue.classList.remove(E),ke.classList.remove(E),G.classList.remove(E),we.classList.remove(E)}var ca="uploader-advanced-form",c="is-invalid",He="d-none",ua=a(ca),se=a("uploader-advanced-alert"),ye=a("uploader-advanced-category"),da=a("uploader-advanced-classification-help"),xe=a("uploader-advanced-day"),X=a("uploader-advanced-file"),Tt=a("uploader-advanced-last-modified"),fa=a("uploader-advanced-list-1"),pa=a("uploader-advanced-list-2"),Mt=a("uploader-advanced-magic"),de=a("uploader-advanced-month"),Ee=a("uploader-advanced-operating-system"),Te=a("uploader-advanced-releaser-1"),V=a("uploader-advanced-results"),ma=a("uploader-advanced-title"),ae=a("uploader-advanced-year");ua.addEventListener("reset",function(){Tt.value="",Mt.value="",zt()});X.addEventListener("change",ha);ma.addEventListener("paste",M);Te.addEventListener("input",p);ae.addEventListener("input",I);de.addEventListener("input",v);xe.addEventListener("input",Ve);ye.addEventListener("change",p);Ee.addEventListener("change",p);function It(e){a(e).addEventListener("click",function(){let t=!0;if(Te.value==""&&(Te.classList.add(c),t=!1),l(ae.value)==!1&&(ae.classList.add(c),t=!1),d(de.value)==!1&&(de.classList.add(c),t=!1),pe(xe.value)==!1&&(xe.classList.add(c),t=!1),de.value!=""&&ae.value==""&&(ae.classList.add(c),t=!1),X.value==""&&(X.classList.add(c),t=!1),Ee.value==""&&(Ee.classList.add(c),t=!1),ye.value==""&&(ye.classList.add(c),t=!1),t==!1)return w(se,V);zt(),V.innerText="...",V.classList.remove(He)})}async function ha(){k(X,se,V);let e=this.files[0],r=[h(e),va(e)];g(r,se,X,V),L(e,se,X,V),b(e,Tt,Mt),r[0]===""&&r[1]===""&&document.getElementById("uploader-advanced-submit").focus({focusVisible:!0})}function va(e){return Qe(e.type)?`The chosen file mime type ${e.type} might not be suitable for an upload.`:""}function zt(){fa.innerHTML="",pa.innerHTML="",V.innerHTML="",da.innerHTML="",V.classList.add(He),se.innerText="",se.classList.add(He),ae.classList.remove(c),de.classList.remove(c),xe.classList.remove(c),Te.classList.remove(c),X.classList.remove(c),Ee.classList.remove(c),ye.classList.remove(c)}(()=>{"use strict";Oe(),ze("demozoo-submission","Demozoo"),ze("pouet-submission","Pou\xEBt"),nt("uploader-image-submit"),R("uploader-image-form","uploader-image-progress"),ut("uploader-intro-submit"),R("uploader-intro-form","uploader-intro-progress"),xt("uploader-trainer-submit"),R("uploader-trainer-form","uploader-trainer-progress"),mt("uploader-magazine-submit"),R("uploader-magazine-form","uploader-magazine-progress"),bt("uploader-text-submit"),R("uploader-text-form","uploader-text-progress"),It("uploader-advanced-submit"),R("uploader-advanced-form","uploader-advanced-progress")})();})();
