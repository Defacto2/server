/* uploader.min.js © Defacto2 2025 */
(()=>{function M(e){e.preventDefault();let r=(e.clipboardData||window.Clipboard).getData("text"),t=this,s=t.selectionStart,n=t.selectionEnd;t.value=t.value.slice(0,s)+r+t.value.slice(n),t.setSelectionRange(s+r.length,s+r.length);let o=zt(t.value);t.value!=o&&(console.log('Formatted input text "%s" is formatted to "%s".',t.value,o),t.value=o)}function zt(e){let r=["a","addon","aka","an","and","as","at","beta","betas","but","by","compatibility","crack","cracks","demo","demos","doc","docs","documentation","fix","fixes","for","final","from","if","in","installer","installers","is","hint","hints","map","maps","mod","mods","of","on","or","patch","patches","part","prerelease","prereleases","preview","previews","proper","release","releases","repack","repacks","rip","rips","so","solve","solves","the","trainer","trainers","to","update","updates","unprotect","unprotects","vs","with"],t=[".com",".exe","2d","3d","4d","abc","ad&d","api","bbs","bios","bsa","cd","cga","dos","dox","dps","dvd","ega","ehq","f1","fbi","ftp","hd","hq","ibm","id","iso","la","lego","ls","masm","mbl","ms","mtv","nascar","nba","ncaa","nfl","nsa","nfo","nhl","nt","oem","os","pc","pcb","pga","ppe","pfs","pkarc","pkzip","psx","rac","rom","sdk","sfx","spa","tv","ufo","usa","ushq","uss","vga","whq","ww1","ww2","ww3","wwf","xp","ys"];e=e.trim(),e=e.replace(/_/g," "),e.match(/\./g)&&e.match(/\./g).length>4&&(e=e.replace(/\./g," ")),e=e.replace(/['"`]/g,""),e=e.replace(/ \([0-9a-z]\)/g,""),e=e.replace(/([a-zA-Z0-9]): /g,"$1 : "),e=e.replace(/([xX][-| ][Mm]en)/g,"X-Men"),e=e.replace(/\(/g,"( "),e=e.replace(/\)/g," )");let s=e.split(" ").length;return e=e.split(" ").map((n,o)=>{var i=n;if(Dt(i)===!0)return i.toLowerCase();if(t.includes(i.toLowerCase()))return i.toUpperCase();let u=Ct(i);if(u!=="")return u;let j=St(i);o>0&&Number.isInteger(j)&&(i=`${j}`);let P=$t(i,o,s);return P!==i&&(i=P),n!==i?i:o===0||!r.includes(i.toLowerCase())?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():n.toLowerCase()}).join(" ").trim(),e=e.replace(/(Lotus 123)/g,"Lotus 1-2-3"),e=e.replace(/(Falcon at )/g,"Falcon AT "),e=e.replace(/(the Games)/g,"The Games"),e=e.replace(/^(Unprotect for|Unprotecting|Unprotect)\s(.+)/,"$2 unprotect"),e=e.replace(/( : a)/g," : A"),e=e.replace(/( - a)/g," - A"),e=e.replace(/( : t)/g," : T"),e=e.replace(/( - t)/g," - T"),e=e.replace(/(f-)/g,"F-"),e=e.replace(/(3-d)/g,"3D"),e=e.replace(/(Pfs-)/g,"PFS-"),e=e.replace(/(Mean-18)/g,"Mean 18"),e=Bt(e),e=e.replace(/[\s]*(WORKING READ NFO|repack)\s*$/i," fix"),e=e.replace(/[\s]*(inc|incl|including)\s(keygen|keymaker|keyfilemaker)\s*$/i,""),e=e.replace(/\bincluding\s(?:patch|patched)\s+and\s+key(?:gen|maker)\b/gi,""),e=e.replace(/(keymaker\sonly)/gi,""),e=e.replace(/\b(?:macosx|x86|x64|winnt2kxp|win9xme|multilang|winall|readnfo|proper)\b/gi,""),e=e.replace(/\( /g,"("),e=e.replace(/ \)/g,")"),e=e.replace(/\[([^)]+)\]/g,function(n){return n.toUpperCase()}),e=e.replace(/(\s\s)/g," "),e=e.trim(),e}function Bt(e){return String(e).replace(/(?<sep>[\s\-_–—]|^)[V](?=\d)/g,(r,t,s,n)=>" v").replace(/([\s\-_–—]|^)(v?1(?:\.0(?:\.\d+)?)?)(?=([\s\-_–—]|$))/gi,(r,t,s)=>"").replace(/(?<=^|[\s\-_–—])v?(\d+)\.(\d+)\.(\d+)(?=$|[\s\-_–—\.,])/g,r=>r.replace(/v?/i,t=>t.toLowerCase()).replace(/(\d+\.\d+)\.\d+/,"$1")).replace(/(?<=^|[\s\-_–—])v?(\d+)\.0(?:\.0)?(?=$|[\s\-_–—\.,])/g,r=>r.replace(/v?/i,t=>t?"v":"").replace(/(\d+)\.0(?:\.0)?/,"$1")).replace(/(?<=^|[\s\-_–—])V(?=\d)/g,"v").replace(/[\s\-_–—]{2,}/g," ").replace(/\s{2,}/g," ").trim()}function Dt(e){return/^[vV]\d+(\.\d+)?[a-z]?$/i.test(e)}function $t(e,r,t){return r!=t-1?e:["cheat","cheater","cracktro","loader","installer","trainer","version"].includes(e.toLowerCase())?"":e}function St(e){let r={I:1,V:5,X:10},t=0,s=0;for(let n=e.length-1;n>=0;n--){let o=r[e[n].toUpperCase()];o<s?t-=o:t+=o,s=o}return t==0?e:t}function Ct(e){switch(e.toLowerCase()){case"dr.":return"Dr";case"jr.":return"Jr";case"ms.":return"Ms";case"u.s.a.":return"USA";case"abcs":return"ABCs";case"cdrip":case"cd-rip":return"CD RIP";case"pre-release":return"prerelease";case"&":return"and";case"ad+d":return"AD&D";case"][":case"||":return"2";case"]|[":case"]I[":return"3";case"]||[":case"]II[":return"4";case" I:":return" 1 :";case" II:":return" 2 :";case" III:":return" 3 :";case"at&t":return"AT&T";case"dbase":return"dBase";case"doubledos":return"DoubleDOS";case"fastback":return"FastBack";case"loadit":return"LoadIt";case"memoryshift":return"Memory Shift";case"multilink":return"MultiLink";case"paperboy":return"PaperBoy";case"pc-draw":return"PC-Draw";case"pcjr":return"PCjr";case"prokey":return"ProKey";case"rbase":case"r:base":return"R:Base";case"sidekick":return"SideKick";case"visicalc":return"VisiCalc";case"war-craft":return"Warcraft";case"wordstar":return"WordStar";default:return""}}function a(e){let r=document.getElementById(e);if(r==null){console.error(`The ${e} for getElmById() element is null.`);return}return r}function l(e){if(`${e}`=="")return!0;let r=1980,t=new Date().getFullYear();return!(e<r||e>t)}function d(e){return`${e}`==""?!0:!(e<1||e>12)}function fe(e){return`${e}`==""?!0:!(e<1||e>31)}function Ye(e,r){if(e=="")return!0;let t=Number(e),s=Number(r);if(!Number.isInteger(s)||s<1)throw new Error(`The ID sanity value is invalid: ${s}`);return Number.isInteger(t)&&t>0&&t<=s}var p="is-invalid",S="d-none",Ft=100,Me=1024*1024,je=100*Me;function B(e,r){if(e==null)throw new Error("The elementId value of focusModalById is null.");if(r==null)throw new Error("The submissionId value of focusModalById is null.");let t=document.getElementById(r);if(t==null)throw new Error(`The ${r} element is null.`);let s=a(e);if(s.addEventListener("shown.bs.modal",function(){t.focus()}),bootstrap===void 0)throw new Error("The bootstrap object is undefined.");return new bootstrap.Modal(s,{keyboard:!0})}async function Ht(e){if(e==null)throw new Error("The file value of checkSHA is null.");let r=await At(e),t=await fetch(`/uploader/sha384/${r}`,{method:"PATCH",headers:{"Content-Type":"text/plain"},body:r});if(!t.ok)throw new Error(`Hashing is not possible, server response: ${t.status}`);return await t.text()}async function At(e){if(e==null)throw new Error("The file value of sha384 is null.");try{let r=await e.arrayBuffer(),t=await crypto.subtle.digest("SHA-384",r);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}catch(r){throw new Error(`Could not use arrayBuffer or crypto.subtle: ${r}`)}}function _(e,r){if(e==null)throw new Error("The formId value of progress is null.");if(r==null)throw new Error("The elementId value of progress is null.");htmx.on(`#${e}`,"htmx:xhr:progress",function(t){t.target.id==`${e}`&&htmx.find(`#${r}`).setAttribute("value",t.detail.loaded/t.detail.total*Ft)})}function h(e){if(e==null)throw new Error("The file value of checkSize is null.");return e.size>je?`The chosen file is too big at ${Math.round(e.size/Me)}MB, maximum size is ${je/Me}MB.`:""}function Pe(){return fe(this.value)==!1?(this.classList.add(p),!1):(this.classList.remove(p),!0)}function v(){return console.log(`The month value is ${this.value}.`),d(this.value)==!1?(this.classList.add(p),!1):(this.classList.remove(p),!0)}function I(){return l(this.value)==!1?(this.classList.add(p),!1):(this.classList.remove(p),!0)}function g(e,r,t,s){if(e==null)throw new Error("The errors value of checkErrors is null.");if(r==null)throw new Error("The alert value of checkErrors is null.");if(t==null)throw new Error("The fileInput value of checkErrors is null.");if(s==null)throw new Error("The results value of checkErrors is null.");e=e.filter(n=>n.trim()!=""),!(e.length<=0)&&(r.innerText=e.join(" "),r.classList.remove(S),t.innerText="",t.classList.add(p),s.classList.add(S))}async function L(e,r,t,s){if(e==null)throw new Error("The file value of checkDuplicate is null.");if(r==null)throw new Error("The alert value of checkDuplicate is null.");if(t==null)throw new Error("The fileInput value of checkDuplicate is null.");if(s==null)throw new Error("The results value of checkDuplicate is null.");let n=()=>{r.classList.remove(S),t.innerText="",t.classList.add(p),s.classList.add(S)},o="";try{let u=await Ht(e);if(u=="")return;o=u}catch(u){console.log(`${u}`),r.innerText=`${u}`,n();return}r.innerText="The chosen file already exists in the database: ";let i=document.createElement("a");i.href=`/f/${o}`,i.innerText=`${e.name}`,r.appendChild(i),n()}function b(e,r,t){if(e==null)throw new Error("The file1 value of hiddenDetails is null.");if(r==null)throw new Error("The lastMod value of hiddenDetails is null.");if(t==null)throw new Error("The magic value of hiddenDetails is null.");let s=e.lastModified,n=new Date().getTime(),o=3600*1e3;n-s<o||(r.value=s),e.type!=""&&(t.value=e.type)}function f(){return this.value==""?(this.classList.add(p),!1):(this.classList.remove(p),!0)}function _e(){return this.value==""?(this.classList.remove(p),!0):new RegExp(/^[a-zA-Z0-9_-]{11}$/).test(this.value)==!1?(this.classList.add(p),!1):(this.classList.remove(p),!0)}function k(e,r,t){if(e==null)throw new Error("The fileInput value of resetInput is null.");if(r==null)throw new Error("The alert value of resetInput is null.");if(t==null)throw new Error("The results value of resetInput is null.");e.innerText="",e.classList.remove(p),r.innerText="",r.classList.add(S),t.innerText="",t.classList.add(S)}function w(e,r){if(e==null)throw new Error("The alert value of submitError is null.");if(r==null)throw new Error("The results value of submitError is null.");e.innerText="Please correct the problems with the form.",e.classList.remove(S),r.innerText="",r.classList.add(S)}var Vt=B("uploader-pouet-modal","pouet-submission"),Re=B("uploader-demozoo-modal","demozoo-submission"),Ie=B("uploader-intro-modal","uploader-intro-file"),ze=B("uploader-trainer-modal","uploader-trainer-file"),Ne=B("uploader-text-modal","uploader-text-file"),Ue=B("uploader-image-modal","uploader-image-file"),qe=B("uploader-magazine-modal","uploader-magazine-file"),Ke=B("uploader-advanced-modal","uploader-advanced-file"),Yt=document.getElementById("uploader-trainer-gamehack"),jt=document.getElementById("uploader-trainer-installer"),Pt=document.getElementById("uploader-intro-msdos"),_t=document.getElementById("uploader-intro-windows"),Rt="Backspace",Nt="Enter",Ut="b",qt="z",Kt="c",Gt="i",Ot="t",Wt="n",Xt="p",Zt="m",Jt="a",Qt="d",er="w",tr="r",rr="f",ar="x";function Ge(){document.addEventListener("keydown",function(e){if(!e.ctrlKey||!e.altKey)return;let r=document.getElementById("go-to-the-new-artifact-record"),t=document.getElementById("artifact-card-link-1"),s=document.getElementById("artifact-card-link-2"),n=document.getElementById("artifact-card-link-3"),o=document.getElementById("artifact-card-link-4"),i=document.getElementById("artifact-card-link-5"),u=document.getElementById("artifact-card-link-6"),j=document.getElementById("artifact-card-link-7"),P=document.getElementById("artifact-card-link-8"),T=document.getElementById("artifact-card-link-9");switch(e.key){case"1":e.preventDefault(),t&&D(t.href);break;case"2":e.preventDefault(),s&&D(s.href);break;case"3":e.preventDefault(),n&&D(n.href);break;case"4":e.preventDefault(),o&&D(o.href);break;case"5":e.preventDefault(),i&&D(i.href);break;case"6":e.preventDefault(),u&&D(u.href);break;case"7":e.preventDefault(),j&&D(j.href);break;case"8":e.preventDefault(),P&&D(P.href);break;case"9":e.preventDefault(),T&&D(T.href);break;case Rt:e.preventDefault(),Re.hide(),Vt.hide(),Ie.hide(),ze.hide(),Ne.hide(),Ue.hide(),qe.hide(),Ke.hide();break;case Nt:e.preventDefault(),r&&r.click();break;case qt:Re.show();break;case er:Ie.show(),_t.checked=!0;break;case Kt:case Ut:case Qt:Ie.show(),Pt.checked=!0;break;case Ot:ze.show(),Yt.checked=!0;break;case Gt:ze.show(),jt.checked=!0;break;case Wt:Ne.show();break;case Xt:Ue.show();break;case Zt:qe.show();break;case Jt:Ke.show();break;case tr:e.preventDefault(),window.location.href="/search/releaser";break;case rr:e.preventDefault(),window.location.href="/search/file";break;case ar:e.preventDefault(),window.location.href="/search/desc";break}})}function D(e){window.open(e,"_blank").focus()}var Be="is-invalid",ne="d-none";function De(e,r){let t=a(e),s=a(`${e}-error`),n=a(`${e}-results`);a(`${e}-close`).addEventListener("click",u),a(`${e}-clear`).addEventListener("click",u);function u(){t.value="",t.focus(),t.classList.remove(Be),s.innerText="",s.classList.add(ne),n.innerHTML=""}let j=45e4,P=2e5;switch(e){case"demozoo-submission":Oe(t,j);break;case"pouet-submission":Oe(t,P);break}document.body.addEventListener("htmx:beforeRequest",function(){sr(s,n)}),document.body.addEventListener("htmx:beforeSwap",function(T){T.detail.xhr.status>=400&&s.classList.remove(ne)}),document.body.addEventListener("htmx:afterRequest",function(T){if(T.detail.elt===null||T.detail.elt.id!==`${e}`)return;if(T.detail.successful)return nr(t);let pe=T.detail.xhr;if(T.detail.failed&&pe)return pe.status===404?ir(s,n,r):lr(s,pe);or(s)})}function Oe(e,r){e.addEventListener("input",function(){if(!Ye(e.value,r)){e.classList.add(Be);return}e.classList.remove(Be)})}function sr(e,r){r.innerHTML="",e.innerText="",e.classList.add(ne)}function nr(e){e.focus()}function ir(e,r,t){r.innerText=`Production not found on ${t}.`}function or(e){e.innerText="Something with the browser is not working, please refresh the page.",e.classList.remove(ne)}function lr(e,r){e.innerText=`Something went wrong, ${r.status} status: ${r.responseText}.`,e.classList.remove(ne)}var cr="application/x-freearc",ur="application/x-arj",dr="application/x-bzip",pr="application/x-bzip2",fr="application/gzip",mr="application/vnd.rar",hr="application/x-tar",vr="application/zip",gr="application/x-zip-compressed",Lr="application/x-7z-compressed",br="application/x-msdos-program",kr="image/bmp",wr="image/gif",yr="image/jpeg",Er="image/vnd.zbrush.pcx",xr="image/png",Tr="image/tiff",Mr="image/webp",Ir="application/x-csh",zr="application/x-chrome-extension",Br="text/x-script.perl",Dr="application/x-httpd-php",$r="text/x-script.phyton",Sr="text/x-script.rexx",Cr="application/x-sh",Fr="application/x-shellscript",Hr="text/x-script.tcl",Ar="text/x-shellscript",Vr="text/x-script.zsh";function Yr(){return[Ir,zr,Br,Dr,$r,Sr,Cr,Fr,Hr,Ar,Vr]}function We(){return[br]}function me(){return[cr,ur,dr,pr,fr,mr,hr,vr,gr,Lr]}function Xe(){return["application/octet-stream","application/x-binary","application/x-ms-dos-executable"]}function jr(){return[kr,wr,yr,Er,xr,Tr,Mr]}function Ze(){return["text/plain","text/x-nfo"]}function Je(e){return Yr().includes(e)}function Qe(e){return e===""?!0:jr().concat(me()).includes(e)}function he(e){return e===""?!0:We().concat(me(),Xe()).includes(e)}function et(e){return e===""?!0:Ze().concat(me(),We(),Xe()).includes(e)}function tt(e){return e===""?!0:Ze().concat(me()).includes(e)}var Pr="uploader-image-form",$="is-invalid",$e="d-none",_r=a(Pr),W=a("uploader-image-alert"),R=a("uploader-image-file"),rt=a("uploader-image-last-modified"),Rr=a("uploader-image-list-1"),Nr=a("uploader-image-list-2"),at=a("uploader-image-magic"),ie=a("uploader-image-month"),ve=a("uploader-image-releaser-1"),C=a("uploader-image-results"),Ur=a("uploader-image-title"),O=a("uploader-image-year");_r.addEventListener("reset",function(){rt.value="",at.value="",nt()});R.addEventListener("change",qr);Ur.addEventListener("paste",M);ve.addEventListener("input",f);O.addEventListener("input",I);ie.addEventListener("input",v);function st(e){a(e).addEventListener("click",function(){let t=!0;if(ve.value==""&&(ve.classList.add($),t=!1),l(O.value)==!1&&(O.classList.add($),t=!1),d(ie.value)==!1&&(ie.classList.add($),t=!1),ie.value!=""&&O.value==""&&(O.classList.add($),t=!1),R.value==""&&(R.classList.add($),t=!1),t==!1)return w(W,C);nt(),C.innerText="...",C.classList.remove($e)})}async function qr(){k(R,W,C);let e=this.files[0],r=[h(e),Kr(e)];g(r,W,R,C),L(e,W,R,C),b(e,rt,at),r[0]===""&&r[1]===""&&document.getElementById("uploader-image-submit").focus({focusVisible:!0})}function Kr(e){return Qe(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an image.`}function nt(){Rr.innerHTML="",Nr.innerHTML="",C.innerHTML="",C.classList.add($e),W.innerText="",W.classList.add($e),O.classList.remove($),ie.classList.remove($),ve.classList.remove($),R.classList.remove($)}var Gr="uploader-intro-form",m="is-invalid",Se="d-none",Or=a(Gr),X=a("uploader-intro-alert"),N=a("uploader-intro-file"),it=a("uploader-intro-last-modified"),Wr=a("uploader-intro-list-1"),Xr=a("uploader-intro-list-2"),ot=a("uploader-intro-magic"),oe=a("uploader-intro-month"),ge=a("uploader-intro-releaser-1"),F=a("uploader-intro-results"),Zr=a("uploader-intro-title"),y=a("uploader-intro-year"),lt=a("uploader-intro-youtube");Or.addEventListener("reset",function(){it.value="",ot.value="",ut()});N.addEventListener("change",Jr);Zr.addEventListener("paste",M);ge.addEventListener("input",f);oe.addEventListener("input",v);lt.addEventListener("input",_e);y.addEventListener("input",function(){let e=new Date().getFullYear(),r=parseInt(this.value)+1900;if(r>=1980&&r<2e3&&y.value.length==2){y.value=r,y.classList.remove(m);return}let t=parseInt(this.value)+2e3;if(t>=2e3&&t<=e&&t!=2019&&t!=2020&&y.value.length==2){y.value=t,y.classList.remove(m);return}l(this.value)==!1&&this.classList.add(m),this.classList.remove(m)});function ct(e){a(e).addEventListener("click",function(){let t=!0;if(ge.value==""&&(ge.classList.add(m),t=!1),l(y.value)==!1&&(y.classList.add(m),t=!1),d(oe.value)==!1&&(oe.classList.add(m),t=!1),oe.value!=""&&y.value==""&&(y.classList.add(m),t=!1),N.value==""&&(N.classList.add(m),t=!1),t==!1)return w(X,F);ut(),F.innerText="...",F.classList.remove(Se)})}async function Jr(){k(N,X,F);let e=this.files[0],r=[h(e),Qr(e)];g(r,X,N,F),L(e,X,N,F),b(e,it,ot),r[0]===""&&r[1]===""&&document.getElementById("uploader-intro-submit").focus({focusVisible:!0})}function Qr(e){return he(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an intro.`}function ut(){Wr.innerHTML="",Xr.innerHTML="",F.innerHTML="",F.classList.add(Se),X.innerText="",X.classList.add(Se),y.classList.remove(m),oe.classList.remove(m),ge.classList.remove(m),lt.classList.remove(m),N.classList.remove(m)}var ea="uploader-magazine-form",E="is-invalid",Ce="d-none",ta=a(ea),J=a("uploader-magazine-alert"),U=a("uploader-magazine-file"),dt=a("uploader-magazine-last-modified"),ra=a("uploader-magazine-list-1"),pt=a("uploader-magazine-magic"),le=a("uploader-magazine-month"),Le=a("uploader-magazine-releaser-1"),H=a("uploader-magazine-results"),Fe=a("uploader-magazine-title"),Z=a("uploader-magazine-year");ta.addEventListener("reset",function(){dt.value="",pt.value="",mt()});U.addEventListener("change",aa);Le.addEventListener("input",f);Z.addEventListener("input",I);le.addEventListener("input",v);function ft(e){a(e).addEventListener("click",function(){let t=!0;if(Fe.value==""&&(Fe.classList.add(E),t=!1),Le.value==""&&(Le.classList.add(E),t=!1),l(Z.value)==!1&&(Z.classList.add(E),t=!1),d(le.value)==!1&&(le.classList.add(E),t=!1),le.value!=""&&Z.value==""&&(Z.classList.add(E),t=!1),U.value==""&&(U.classList.add(E),t=!1),t==!1)return w(J,H);mt(),H.innerText="...",H.classList.remove(Ce)})}async function aa(){k(U,J,H);let e=this.files[0],r=[h(e),sa(e)];g(r,J,U,H),L(e,J,U,H),b(e,dt,pt),r[0]===""&&r[1]===""&&document.getElementById("uploader-magazine-submit").focus({focusVisible:!0})}function sa(e){return et(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an image.`}function mt(){ra.innerHTML="",H.innerHTML="",H.classList.add(Ce),J.innerText="",J.classList.add(Ce),Z.classList.remove(E),le.classList.remove(E),Le.classList.remove(E),U.classList.remove(E),Fe.classList.remove(E)}var na="uploader-text-form",z="is-invalid",He="d-none",ia=a(na),ee=a("uploader-text-alert"),q=a("uploader-text-file"),ht=a("uploader-text-last-modified"),oa=a("uploader-text-list-1"),la=a("uploader-text-list-2"),vt=a("uploader-text-magic"),ce=a("uploader-text-month"),be=a("uploader-text-releaser-1"),A=a("uploader-text-results"),gt=a("uploader-text-title"),Q=a("uploader-text-year");ia.addEventListener("reset",function(){ht.value="",vt.value="",bt()});q.addEventListener("change",ca);gt.addEventListener("paste",M);be.addEventListener("input",f);Q.addEventListener("input",I);ce.addEventListener("input",v);function Lt(e){a(e).addEventListener("click",function(){let t=!0;if(be.value==""&&(be.classList.add(z),t=!1),l(Q.value)==!1&&(Q.classList.add(z),t=!1),d(ce.value)==!1&&(ce.classList.add(z),t=!1),ce.value!=""&&Q.value==""&&(Q.classList.add(z),t=!1),q.value==""&&(q.classList.add(z),t=!1),t==!1)return w(ee,A);bt(),A.innerText="...",A.classList.remove(He)})}async function ca(){k(q,ee,A);let e=this.files[0],r=[h(e),ua(e)];g(r,ee,q,A),L(e,ee,q,A),b(e,ht,vt),r[0]===""&&r[1]===""&&document.getElementById("uploader-text-submit").focus({focusVisible:!0})}function ua(e){return tt(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for a text.`}function bt(){oa.innerHTML="",la.innerHTML="",A.innerHTML="",A.classList.add(He),ee.innerText="",ee.classList.add(He),Q.classList.remove(z),ce.classList.remove(z),be.classList.remove(z),q.classList.remove(z),gt.classList.remove(z)}var da="uploader-trainer-form",x="is-invalid",Ae="d-none",pa=a(da),re=a("uploader-trainer-alert"),K=a("uploader-trainer-file"),kt=a("uploader-trainer-last-modified"),fa=a("uploader-trainer-list-1"),ma=a("uploader-trainer-list-2"),wt=a("uploader-trainer-magic"),ue=a("uploader-trainer-month"),ke=a("uploader-trainer-releaser-1"),V=a("uploader-trainer-results"),we=a("uploader-trainer-title"),te=a("uploader-trainer-year");pa.addEventListener("reset",function(){kt.value="",wt.value="",Et()});K.addEventListener("change",ha);we.addEventListener("paste",M);ke.addEventListener("input",f);te.addEventListener("input",I);ue.addEventListener("input",v);function yt(e){a(e).addEventListener("click",function(){let t=!0;if(we.value==""&&(we.classList.add(x),t=!1),ke.value==""&&(ke.classList.add(x),t=!1),l(te.value)==!1&&(te.classList.add(x),t=!1),d(ue.value)==!1&&(ue.classList.add(x),t=!1),ue.value!=""&&te.value==""&&(te.classList.add(x),t=!1),K.value==""&&(K.classList.add(x),t=!1),t==!1)return w(re,V);Et(),V.innerText="...",V.classList.remove(Ae)})}async function ha(){k(K,re,V);let e=this.files[0],r=[h(e),va(e)];g(r,re,K,V),L(e,re,K,V),b(e,kt,wt),r[0]===""&&r[1]===""&&document.getElementById("uploader-trainer-submit").focus({focusVisible:!0})}function va(e){return he(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an intro.`}function Et(){fa.innerHTML="",ma.innerHTML="",V.innerHTML="",V.classList.add(Ae),re.innerText="",re.classList.add(Ae),te.classList.remove(x),ue.classList.remove(x),ke.classList.remove(x),K.classList.remove(x),we.classList.remove(x)}var ga="uploader-advanced-form",c="is-invalid",Ve="d-none",La=a(ga),se=a("uploader-advanced-alert"),ye=a("uploader-advanced-category"),ba=a("uploader-advanced-classification-help"),Ee=a("uploader-advanced-day"),G=a("uploader-advanced-file"),xt=a("uploader-advanced-last-modified"),ka=a("uploader-advanced-list-1"),wa=a("uploader-advanced-list-2"),Tt=a("uploader-advanced-magic"),de=a("uploader-advanced-month"),xe=a("uploader-advanced-operating-system"),Te=a("uploader-advanced-releaser-1"),Y=a("uploader-advanced-results"),ya=a("uploader-advanced-title"),ae=a("uploader-advanced-year");La.addEventListener("reset",function(){xt.value="",Tt.value="",It()});G.addEventListener("change",Ea);ya.addEventListener("paste",M);Te.addEventListener("input",f);ae.addEventListener("input",I);de.addEventListener("input",v);Ee.addEventListener("input",Pe);ye.addEventListener("change",f);xe.addEventListener("change",f);function Mt(e){a(e).addEventListener("click",function(){let t=!0;if(Te.value==""&&(Te.classList.add(c),t=!1),l(ae.value)==!1&&(ae.classList.add(c),t=!1),d(de.value)==!1&&(de.classList.add(c),t=!1),fe(Ee.value)==!1&&(Ee.classList.add(c),t=!1),de.value!=""&&ae.value==""&&(ae.classList.add(c),t=!1),G.value==""&&(G.classList.add(c),t=!1),xe.value==""&&(xe.classList.add(c),t=!1),ye.value==""&&(ye.classList.add(c),t=!1),t==!1)return w(se,Y);It(),Y.innerText="...",Y.classList.remove(Ve)})}async function Ea(){k(G,se,Y);let e=this.files[0],r=[h(e),xa(e)];g(r,se,G,Y),L(e,se,G,Y),b(e,xt,Tt),r[0]===""&&r[1]===""&&document.getElementById("uploader-advanced-submit").focus({focusVisible:!0})}function xa(e){return Je(e.type)?`The chosen file mime type ${e.type} might not be suitable for an upload.`:""}function It(){ka.innerHTML="",wa.innerHTML="",Y.innerHTML="",ba.innerHTML="",Y.classList.add(Ve),se.innerText="",se.classList.add(Ve),ae.classList.remove(c),de.classList.remove(c),Ee.classList.remove(c),Te.classList.remove(c),G.classList.remove(c),xe.classList.remove(c),ye.classList.remove(c)}(()=>{"use strict";Ge(),De("demozoo-submission","Demozoo"),De("pouet-submission","Pou\xEBt"),st("uploader-image-submit"),_("uploader-image-form","uploader-image-progress"),ct("uploader-intro-submit"),_("uploader-intro-form","uploader-intro-progress"),yt("uploader-trainer-submit"),_("uploader-trainer-form","uploader-trainer-progress"),ft("uploader-magazine-submit"),_("uploader-magazine-form","uploader-magazine-progress"),Lt("uploader-text-submit"),_("uploader-text-form","uploader-text-progress"),Mt("uploader-advanced-submit"),_("uploader-advanced-form","uploader-advanced-progress")})();})();
