/* uploader.min.js Â© Defacto2 2024 */
(()=>{function m(e){let a=document.getElementById(e);if(a==null)throw new Error(`The ${e} element is null.`);return a}function f(e){if(bootstrap===void 0)throw new Error("The bootstrap object is undefined.");let a=m(e);return new bootstrap.Modal(a)}function g(e,a){let t=document.getElementById(a);if(t==null)throw new Error(`The ${a} element is null.`);let s=m(e);if(s.addEventListener("shown.bs.modal",function(){t.focus()}),bootstrap===void 0)throw new Error("The bootstrap object is undefined.");return new bootstrap.Modal(s)}function W(e){let a=document.getElementById(e);if(typeof a>"u"||a===null)return;a.addEventListener("change",function(){let y=a.value,E=new URL(window.location.href),u=E.pathname.split("/"),V=u[u.length-1];!isNaN(V)&&typeof Number(V)=="number"?u[u.length-1]=y:u.push(y),E.pathname=u.join("/"),window.location.href=E.href});let t="paginationRangeLabel",s=document.getElementById(t);if(s===null)throw new Error(`The ${t} element is null.`);a.addEventListener("input",function(){s.textContent="Jump to page "+a.value})}function l(e){if(`${e}`=="")return!0;let a=1980,t=new Date().getFullYear();return!(e<a||e>t)}function i(e){return`${e}`==""?!0:!(e<1||e>12)}function v(e){return`${e}`==""?!0:!(e<1||e>31)}function X(e){let a=document.getElementById(e);if(a==null)throw new Error(`The ${e} element is null.`);a.addEventListener("click",function(){let t="Choose...",s=!0;_(),h.value==""&&(h.classList.add(n),s=!1),(p.value==""||p.value==t)&&(p.classList.add(n),s=!1),(L.value==""||L.value==t)&&(L.classList.add(n),s=!1),B.value==""&&(B.classList.add(n),s=!1),I.value==""&&(I.classList.add(n),s=!1),l(b.value)==!1&&(b.classList.add(n),s=!1),i(w.value)==!1&&(w.classList.add(n),s=!1),v(x.value)==!1&&(x.classList.add(n),s=!1),s==!0&&Z.submit()})}var n="is-invalid",Z=document.getElementById("advancedUploader");Z.addEventListener("reset",_);function _(){h.classList.remove(n),p.classList.remove(n),L.classList.remove(n),B.classList.remove(n),I.classList.remove(n),b.classList.remove(n),w.classList.remove(n),x.classList.remove(n)}var h=document.getElementById("advFile"),p=document.getElementById("advSelOS"),L=document.getElementById("advSelCat"),B=document.getElementById("advTitle"),I=document.getElementById("releasersAdv"),b=document.getElementById("advYear"),w=document.getElementById("advMonth"),x=document.getElementById("advDay");var M=document.getElementById("imageFile"),k=document.getElementById("imageTitle"),T=document.getElementById("imageReleasers"),S=document.getElementById("imageYear"),Y=document.getElementById("imageMonth"),ee=document.getElementById("imageUploader"),r="is-invalid";function te(){M.classList.remove(r),k.classList.remove(r),T.classList.remove(r),S.classList.remove(r),Y.classList.remove(r)}ee.addEventListener("reset",te);function ae(e){let a=document.getElementById(e);if(a==null)throw new Error(`The ${e} element is null.`);a.addEventListener("click",function(){let t=!0;te(),M.value==""&&(M.classList.add(r),t=!1),k.value==""&&(k.classList.add(r),t=!1),T.value==""&&(T.classList.add(r),t=!1),l(S.value)==!1&&(S.classList.add(r),t=!1),i(Y.value)==!1&&(Y.classList.add(r),t=!1),t==!0&&ee.submit()})}var se=document.getElementById("introUploader"),R=document.getElementById("introFile"),F=document.getElementById("releaseTitle"),$=document.getElementById("introReleasers"),D=document.getElementById("introYear"),U=document.getElementById("introMonth"),d="is-invalid";function ne(){R.classList.remove(d),F.classList.remove(d),$.classList.remove(d),D.classList.remove(d),U.classList.remove(d)}se.addEventListener("reset",ne);function oe(e){let a=document.getElementById(e);if(a==null)throw new Error(`The ${e} element is null.`);a.addEventListener("click",function(){let t=!0;ne(),R.value==""&&(R.classList.add(d),t=!1),F.value==""&&(F.classList.add(d),t=!1),$.value==""&&($.classList.add(d),t=!1),l(D.value)==!1&&(D.classList.add(d),t=!1),i(U.value)==!1&&(U.classList.add(d),t=!1),t==!0&&se.submit()})}var z=document.getElementById("magFile"),N=document.getElementById("magTitle"),K=document.getElementById("magIssue"),j=document.getElementById("magYear"),A=document.getElementById("magMonth"),C=document.getElementById("magDay"),o="is-invalid";function pe(){z.classList.remove(o),N.classList.remove(o),K.classList.remove(o),j.classList.remove(o),A.classList.remove(o),C.classList.remove(o)}var Le=document.getElementById("magUploader");function le(e){let a=document.getElementById(e);if(a==null)throw new Error(`The ${e} element is null.`);a.addEventListener("click",function(){let t=!0;pe(),z.value==""&&(z.classList.add(o),t=!1),N.value==""&&(N.classList.add(o),t=!1),K.value==""&&(K.classList.add(o),t=!1),l(j.value)==!1&&(j.classList.add(o),t=!1),i(A.value)==!1&&(A.classList.add(o),t=!1),v(C.value)==!1&&(C.classList.add(o),t=!1),t==!0&&Le.submit()})}function ie(e,a){let t=document.getElementById(e);if(t==null)throw new Error(`The ${e} element is null.`);let s=document.getElementById(a);if(s==null)throw new Error(`The ${a} form element is null.`);s.addEventListener("reset",re),t.addEventListener("click",function(){ye()==!0&&s.submit()})}var P=m("textFile"),O=m("textTitle"),J=m("textReleasers"),q=m("textYear"),G=m("textMonth"),c="is-invalid";function re(){P.classList.remove(c),O.classList.remove(c),J.classList.remove(c),q.classList.remove(c),G.classList.remove(c)}function ye(){let e=!0;return re(),P.value==""&&(P.classList.add(c),e=!1),O.value==""&&(O.classList.add(c),e=!1),J.value==""&&(J.classList.add(c),e=!1),l(q.value)==!1&&(q.classList.add(c),e=!1),i(G.value)==!1&&(G.classList.add(c),e=!1),e}var Ee=g("uploader-pouet","pouet-submission"),he=g("uploader-demozoo","demozoo-submission"),Be=g("uploader-intro","uploader-intro-file"),Ie=f("uploaderText"),be=f("uploaderImg"),we=f("uploaderMag"),xe=f("uploaderAdv"),Me=f("termsModal"),ke="d",Te="p",Se="i",Ye="n",Re="g",Fe="m",$e="a",De="t",de=document.getElementById("paginationStart"),ce=document.getElementById("paginationPrev"),me=document.getElementById("paginationPrev2"),ue=document.getElementById("paginationNext"),fe=document.getElementById("paginationNext2"),ge=document.getElementById("paginationEnd"),H="ArrowRight",Q="ArrowLeft";function ve(){document.addEventListener("keydown",function(e){if(e.ctrlKey&&e.altKey)switch(e.key){case ke:he.show();break;case Te:Ee.show();break;case Se:Be.show();break;case Ye:Ie.show();break;case Re:be.show();break;case Fe:we.show();break;case $e:xe.show();break;case De:Me.show();break}if(e.ctrlKey&&e.key==Q){de?.click();return}if(e.ctrlKey&&e.key==H){ge?.click();return}if(e.shiftKey&&e.key==Q){me?.click();return}if(e.shiftKey&&e.key==H){fe?.click();return}if(e.key==Q){ce?.click();return}if(e.key==H){ue?.click();return}})}(()=>{"use strict";ve(),W("paginationRange"),X("advSubmit"),ae("imageSubmit"),oe("introSubmit"),le("magSubmit"),ie("textSubmit","textUploader")})();})();
