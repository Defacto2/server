/* uploader.min.js Â© Defacto2 2024 */
(()=>{function i(e){let s=document.getElementById(e);if(s==null)throw new Error(`The ${e} element is null.`);if(bootstrap===void 0)throw new Error("The bootstrap object is undefined.");return new bootstrap.Modal(s)}function v(e,s){let n=document.getElementById(e);if(n==null)throw new Error(`The ${e} element is null.`);let o=document.getElementById(s);if(o==null)throw new Error(`The ${s} element is null.`);if(n.addEventListener("shown.bs.modal",function(){o.focus()}),bootstrap===void 0)throw new Error("The bootstrap object is undefined.");return new bootstrap.Modal(n)}function ce(e){let s=document.getElementById(e);if(typeof s>"u"||s===null)return;s.addEventListener("change",function(){let r=s.value,m=new URL(window.location.href),l=m.pathname.split("/"),u=l[l.length-1];!isNaN(u)&&typeof Number(u)=="number"?l[l.length-1]=r:l.push(r),m.pathname=l.join("/"),window.location.href=m.href});let n="paginationRangeLabel",o=document.getElementById(n);if(o===null)throw new Error(`The ${n} element is null.`);s.addEventListener("input",function(){o.textContent="Jump to page "+s.value})}function d(e){if(`${e}`=="")return!0;let s=new Date().getFullYear();return!(e<1980||e>s)}function c(e){return`${e}`==""?!0:!(e<1||e>12)}function q(e){return`${e}`==""?!0:!(e<1||e>31)}(()=>{"use strict";let e="is-invalid",s=v("uploader-pouet","pouet-submission"),n=v("uploader-demozoo","demozoo-submission"),o=v("uploader-intro","uploader-intro-file"),r=i("uploaderText"),m=i("uploaderImg"),G=i("uploaderMag"),l=i("uploaderAdv"),u=i("termsModal");ce("paginationRange"),document.addEventListener("keydown",function(t){let a="d",re="p",me="i",ue="n",fe="g",ge="m",ve="a",Le="t";if(t.ctrlKey&&t.altKey)switch(t.key){case a:n.show();break;case re:s.show();break;case me:o.show();break;case ue:r.show();break;case fe:m.show();break;case ge:G.show();break;case ve:l.show();break;case Le:u.show();break}let ae=document.getElementById("paginationStart"),ne=document.getElementById("paginationPrev"),le=document.getElementById("paginationPrev2"),oe=document.getElementById("paginationNext"),ie=document.getElementById("paginationNext2"),de=document.getElementById("paginationEnd"),O="ArrowRight",J="ArrowLeft";if(t.ctrlKey&&t.key==J){ae?.click();return}if(t.ctrlKey&&t.key==O){de?.click();return}if(t.shiftKey&&t.key==J){le?.click();return}if(t.shiftKey&&t.key==O){ie?.click();return}if(t.key==J){ne?.click();return}if(t.key==O){oe?.click();return}});let H=document.getElementById("introUploader"),Q=document.getElementById("textUploader"),V=document.getElementById("imageUploader"),W=document.getElementById("magUploader"),X=document.getElementById("advancedUploader"),L=document.getElementById("introFile"),y=document.getElementById("releaseTitle"),E=document.getElementById("introReleasers"),p=document.getElementById("introYear"),B=document.getElementById("introMonth");function Z(){L.classList.remove(e),y.classList.remove(e),E.classList.remove(e),p.classList.remove(e),B.classList.remove(e)}document.getElementById("introSubmit").addEventListener("click",function(){let t=!0;Z(),L.value==""&&(L.classList.add(e),t=!1),y.value==""&&(y.classList.add(e),t=!1),E.value==""&&(E.classList.add(e),t=!1),d(p.value)==!1&&(p.classList.add(e),t=!1),c(B.value)==!1&&(B.classList.add(e),t=!1),t==!0&&H.submit()}),H.addEventListener("reset",Z);let I=document.getElementById("textFile"),h=document.getElementById("textTitle"),b=document.getElementById("textReleasers"),w=document.getElementById("textYear"),M=document.getElementById("textMonth");function _(){I.classList.remove(e),h.classList.remove(e),b.classList.remove(e),w.classList.remove(e),M.classList.remove(e)}document.getElementById("textSubmit").addEventListener("click",function(){let t=!0;_(),I.value==""&&(I.classList.add(e),t=!1),h.value==""&&(h.classList.add(e),t=!1),b.value==""&&(b.classList.add(e),t=!1),d(w.value)==!1&&(w.classList.add(e),t=!1),c(M.value)==!1&&(M.classList.add(e),t=!1),t==!0&&Q.submit()}),Q.addEventListener("reset",_);let k=document.getElementById("imageFile"),x=document.getElementById("imageTitle"),R=document.getElementById("imageReleasers"),T=document.getElementById("imageYear"),F=document.getElementById("imageMonth");function ee(){k.classList.remove(e),x.classList.remove(e),R.classList.remove(e),T.classList.remove(e),F.classList.remove(e)}document.getElementById("imageSubmit").addEventListener("click",function(){let t=!0;ee(),k.value==""&&(k.classList.add(e),t=!1),x.value==""&&(x.classList.add(e),t=!1),R.value==""&&(R.classList.add(e),t=!1),d(T.value)==!1&&(T.classList.add(e),t=!1),c(F.value)==!1&&(F.classList.add(e),t=!1),t==!0&&V.submit()}),V.addEventListener("reset",ee);let Y=document.getElementById("magFile"),S=document.getElementById("magTitle"),D=document.getElementById("magIssue"),N=document.getElementById("magYear"),$=document.getElementById("magMonth"),K=document.getElementById("magDay");function te(){Y.classList.remove(e),S.classList.remove(e),D.classList.remove(e),N.classList.remove(e),$.classList.remove(e),K.classList.remove(e)}document.getElementById("magSubmit").addEventListener("click",function(){let t=!0;te(),Y.value==""&&(Y.classList.add(e),t=!1),S.value==""&&(S.classList.add(e),t=!1),D.value==""&&(D.classList.add(e),t=!1),d(N.value)==!1&&(N.classList.add(e),t=!1),c($.value)==!1&&($.classList.add(e),t=!1),q(K.value)==!1&&(K.classList.add(e),t=!1),t==!0&&W.submit()}),W.addEventListener("reset",te);let U=document.getElementById("advFile"),f=document.getElementById("advSelOS"),g=document.getElementById("advSelCat"),z=document.getElementById("advTitle"),A=document.getElementById("releasersAdv"),C=document.getElementById("advYear"),P=document.getElementById("advMonth"),j=document.getElementById("advDay");function se(){U.classList.remove(e),f.classList.remove(e),g.classList.remove(e),z.classList.remove(e),A.classList.remove(e),C.classList.remove(e),P.classList.remove(e),j.classList.remove(e)}document.getElementById("advSubmit").addEventListener("click",function(){let t="Choose...",a=!0;se(),U.value==""&&(U.classList.add(e),a=!1),(f.value==""||f.value==t)&&(f.classList.add(e),a=!1),(g.value==""||g.value==t)&&(g.classList.add(e),a=!1),z.value==""&&(z.classList.add(e),a=!1),A.value==""&&(A.classList.add(e),a=!1),d(C.value)==!1&&(C.classList.add(e),a=!1),c(P.value)==!1&&(P.classList.add(e),a=!1),q(j.value)==!1&&(j.classList.add(e),a=!1),a==!0&&X.submit()}),X.addEventListener("reset",se)})();})();
