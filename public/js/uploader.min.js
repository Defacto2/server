/* uploader.min.js Â© Defacto2 2025 */
(()=>{function T(e){e.preventDefault();let r=(e.clipboardData||window.Clipboard).getData("text"),t=this,s=t.selectionStart,n=t.selectionEnd;t.value=t.value.slice(0,s)+r+t.value.slice(n),t.setSelectionRange(s+r.length,s+r.length);let o=Bt(t.value);t.value!=o&&(console.log('Formatted input text "%s" is formatted to "%s".',t.value,o),t.value=o)}function Bt(e){let r=["a","addon","aka","an","and","as","at","beta","betas","but","by","compatibility","crack","cracks","demo","demos","doc","docs","documentation","fix","fixes","for","final","from","if","in","installer","installers","is","hint","hints","map","maps","mod","mods","of","on","or","patch","patches","part","prerelease","prereleases","preview","previews","proper","release","releases","repack","repacks","rip","rips","so","solve","solves","the","trainer","trainers","to","update","updates","unprotect","unprotects","vs","with"],t=[".com",".exe","2d","3d","4d","abc","ad&d","api","bbs","bios","bsa","cd","cga","dos","dox","dvd","ega","ehq","f1","fbi","ftp","hd","hq","ibm","id","iso","la","lego","ls","masm","mbl","ms","mtv","nascar","nba","ncaa","nfl","nsa","nfo","nhl","nt","oem","os","pc","pcb","pga","ppe","pfs","pkarc","pkzip","psx","rac","rom","sdk","sfx","spa","tv","ufo","usa","ushq","uss","vga","whq","ww1","ww2","ww3","wwf","xp","ys"];e=e.trim(),e=e.replace(/_/g," "),e.match(/\./g)&&e.match(/\./g).length>4&&(e=e.replace(/\./g," ")),e=e.replace(/['"`]/g,""),e=e.replace(/ \([0-9a-z]\)/g,""),e=e.replace(/([a-zA-Z0-9]): /g,"$1 : "),e=e.replace(/([xX][-| ][Mm]en)/g,"X-Men"),e=e.replace(/\(/g,"( "),e=e.replace(/\)/g," )");let s=e.split(" ").length;return e=e.split(" ").map((n,o)=>{var i=n;if(Dt(i)===!0)return i.toLowerCase();if(t.includes(i.toLowerCase()))return i.toUpperCase();let c=Ct(i);if(c!=="")return c;let V=St(i);o>0&&Number.isInteger(V)&&(i=`${V}`);let j=$t(i,o,s);return j!==i&&(i=j),n!==i?i:o===0||!r.includes(i.toLowerCase())?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():n.toLowerCase()}).join(" ").trim(),e=e.replace(/(Lotus 123)/g,"Lotus 1-2-3"),e=e.replace(/(Falcon at )/g,"Falcon AT "),e=e.replace(/(the Games)/g,"The Games"),e=e.replace(/^(Unprotect for )(.+)/,"$2 unprotect"),e=e.replace(/^(Unprotecting )(.+)/,"$2 unprotect"),e=e.replace(/^(Unprotect )(.+)/,"$2 unprotect"),e=e.replace(/( : a)/g," : A"),e=e.replace(/( - a)/g," - A"),e=e.replace(/( : t)/g," : T"),e=e.replace(/( - t)/g," - T"),e=e.replace(/(f-)/g,"F-"),e=e.replace(/(3-d)/g,"3D"),e=e.replace(/(Pfs-)/g,"PFS-"),e=e.replace(/(Mean-18)/g,"Mean 18"),e=e.replace(/(v\d+)\.0/g,"$1"),e=e.replace(/\( /g,"("),e=e.replace(/ \)/g,")"),e=e.replace(/\[([^)]+)\]/g,function(n){return n.toUpperCase()}),e}function Dt(e){return/^[vV]\d+(\.\d+)?[a-z]?$/i.test(e)}function $t(e,r,t){return r!=t-1?e:["cheat","cheater","cracktro","loader","installer","trainer","version"].includes(e.toLowerCase())?"":e}function St(e){let r={I:1,V:5,X:10},t=0,s=0;for(let n=e.length-1;n>=0;n--){let o=r[e[n].toUpperCase()];o<s?t-=o:t+=o,s=o}return t==0?e:t}function Ct(e){switch(e.toLowerCase()){case"dr.":return"Dr";case"jr.":return"Jr";case"ms.":return"Ms";case"u.s.a.":return"USA";case"abcs":return"ABCs";case"cdrip":case"cd-rip":return"CD RIP";case"pre-release":return"prerelease";case"&":return"and";case"ad+d":return"AD&D";case"][":case"||":return"2";case"]|[":case"]I[":return"3";case"]||[":case"]II[":return"4";case" I:":return" 1 :";case" II:":return" 2 :";case" III:":return" 3 :";case"at&t":return"AT&T";case"dbase":return"dBase";case"doubledos":return"DoubleDOS";case"fastback":return"FastBack";case"loadit":return"LoadIt";case"memoryshift":return"Memory Shift";case"multilink":return"MultiLink";case"paperboy":return"PaperBoy";case"pc-draw":return"PC-Draw";case"pcjr":return"PCjr";case"prokey":return"ProKey";case"rbase":case"r:base":return"R:Base";case"sidekick":return"SideKick";case"visicalc":return"VisiCalc";case"war-craft":return"Warcraft";case"wordstar":return"WordStar";default:return""}}function a(e){let r=document.getElementById(e);if(r==null){console.error(`The ${e} for getElmById() element is null.`);return}return r}function u(e){if(`${e}`=="")return!0;let r=1980,t=new Date().getFullYear();return!(e<r||e>t)}function d(e){return`${e}`==""?!0:!(e<1||e>12)}function pe(e){return`${e}`==""?!0:!(e<1||e>31)}function Ae(e,r){if(e=="")return!0;let t=Number(e),s=Number(r);if(!Number.isInteger(s)||s<1)throw new Error(`The ID sanity value is invalid: ${s}`);return Number.isInteger(t)&&t>0&&t<=s}var f="is-invalid",$="d-none",Ht=100,Me=1024*1024,Ye=100*Me;function z(e,r){if(e==null)throw new Error("The elementId value of focusModalById is null.");if(r==null)throw new Error("The submissionId value of focusModalById is null.");let t=document.getElementById(r);if(t==null)throw new Error(`The ${r} element is null.`);let s=a(e);if(s.addEventListener("shown.bs.modal",function(){t.focus()}),bootstrap===void 0)throw new Error("The bootstrap object is undefined.");return new bootstrap.Modal(s,{keyboard:!0})}async function Ft(e){if(e==null)throw new Error("The file value of checkSHA is null.");let r=await At(e),t=await fetch(`/uploader/sha384/${r}`,{method:"PATCH",headers:{"Content-Type":"text/plain"},body:r});if(!t.ok)throw new Error(`Hashing is not possible, server response: ${t.status}`);return await t.text()}async function At(e){if(e==null)throw new Error("The file value of sha384 is null.");try{let r=await e.arrayBuffer(),t=await crypto.subtle.digest("SHA-384",r);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}catch(r){throw new Error(`Could not use arrayBuffer or crypto.subtle: ${r}`)}}function P(e,r){if(e==null)throw new Error("The formId value of progress is null.");if(r==null)throw new Error("The elementId value of progress is null.");htmx.on(`#${e}`,"htmx:xhr:progress",function(t){t.target.id==`${e}`&&htmx.find(`#${r}`).setAttribute("value",t.detail.loaded/t.detail.total*Ht)})}function m(e){if(e==null)throw new Error("The file value of checkSize is null.");return e.size>Ye?`The chosen file is too big at ${Math.round(e.size/Me)}MB, maximum size is ${Ye/Me}MB.`:""}function Ve(){return pe(this.value)==!1?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function h(){return console.log(`The month value is ${this.value}.`),d(this.value)==!1?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function v(){return u(this.value)==!1?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function g(e,r,t,s){if(e==null)throw new Error("The errors value of checkErrors is null.");if(r==null)throw new Error("The alert value of checkErrors is null.");if(t==null)throw new Error("The fileInput value of checkErrors is null.");if(s==null)throw new Error("The results value of checkErrors is null.");e=e.filter(n=>n.trim()!=""),!(e.length<=0)&&(r.innerText=e.join(" "),r.classList.remove($),t.innerText="",t.classList.add(f),s.classList.add($))}async function L(e,r,t,s){if(e==null)throw new Error("The file value of checkDuplicate is null.");if(r==null)throw new Error("The alert value of checkDuplicate is null.");if(t==null)throw new Error("The fileInput value of checkDuplicate is null.");if(s==null)throw new Error("The results value of checkDuplicate is null.");let n=()=>{r.classList.remove($),t.innerText="",t.classList.add(f),s.classList.add($)},o="";try{let c=await Ft(e);if(c=="")return;o=c}catch(c){console.log(`${c}`),r.innerText=`${c}`,n();return}r.innerText="The chosen file already exists in the database: ";let i=document.createElement("a");i.href=`/f/${o}`,i.innerText=`${e.name}`,r.appendChild(i),n()}function b(e,r,t){if(e==null)throw new Error("The file1 value of hiddenDetails is null.");if(r==null)throw new Error("The lastMod value of hiddenDetails is null.");if(t==null)throw new Error("The magic value of hiddenDetails is null.");let s=e.lastModified,n=new Date().getTime(),o=60*60*1e3;n-s<o||(r.value=s),e.type!=""&&(t.value=e.type)}function p(){return this.value==""?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function je(){return this.value==""?(this.classList.remove(f),!0):new RegExp(/^[a-zA-Z0-9_-]{11}$/).test(this.value)==!1?(this.classList.add(f),!1):(this.classList.remove(f),!0)}function k(e,r,t){if(e==null)throw new Error("The fileInput value of resetInput is null.");if(r==null)throw new Error("The alert value of resetInput is null.");if(t==null)throw new Error("The results value of resetInput is null.");e.innerText="",e.classList.remove(f),r.innerText="",r.classList.add($),t.innerText="",t.classList.add($)}function y(e,r){if(e==null)throw new Error("The alert value of submitError is null.");if(r==null)throw new Error("The results value of submitError is null.");e.innerText="Please correct the problems with the form.",e.classList.remove($),r.innerText="",r.classList.add($)}var Pe=z("uploader-pouet-modal","pouet-submission"),Re=z("uploader-demozoo-modal","demozoo-submission"),Ue=z("uploader-intro-modal","uploader-intro-file"),qe=z("uploader-trainer-modal","uploader-trainer-file"),Ne=z("uploader-text-modal","uploader-text-file"),Ke=z("uploader-image-modal","uploader-image-file"),Ge=z("uploader-magazine-modal","uploader-magazine-file"),Xe=z("uploader-advanced-modal","uploader-advanced-file"),Yt="Backspace",Vt="Enter",jt="d",Pt="p",Rt="i",Ut="t",qt="n",Nt="g",Kt="m",Gt="a",Xt="r",Ot="f",_t="x";function Oe(){document.addEventListener("keydown",function(e){if(!e.ctrlKey||!e.altKey)return;let r=document.getElementById("go-to-the-new-artifact-record"),t=document.getElementById("artifact-card-link-1"),s=document.getElementById("artifact-card-link-2"),n=document.getElementById("artifact-card-link-3"),o=document.getElementById("artifact-card-link-4"),i=document.getElementById("artifact-card-link-5"),c=document.getElementById("artifact-card-link-6"),V=document.getElementById("artifact-card-link-7"),j=document.getElementById("artifact-card-link-8"),E=document.getElementById("artifact-card-link-9");switch(e.key){case"1":e.preventDefault(),t&&B(t.href);break;case"2":e.preventDefault(),s&&B(s.href);break;case"3":e.preventDefault(),n&&B(n.href);break;case"4":e.preventDefault(),o&&B(o.href);break;case"5":e.preventDefault(),i&&B(i.href);break;case"6":e.preventDefault(),c&&B(c.href);break;case"7":e.preventDefault(),V&&B(V.href);break;case"8":e.preventDefault(),j&&B(j.href);break;case"9":e.preventDefault(),E&&B(E.href);break;case Yt:e.preventDefault(),Re.hide(),Pe.hide(),Ue.hide(),qe.hide(),Ne.hide(),Ke.hide(),Ge.hide(),Xe.hide();break;case Vt:e.preventDefault(),r&&r.click();break;case jt:Re.show();break;case Pt:Pe.show();break;case Rt:Ue.show();break;case Ut:qe.show();break;case qt:Ne.show();break;case Nt:Ke.show();break;case Kt:Ge.show();break;case Gt:Xe.show();break;case Xt:e.preventDefault(),window.location.href="/search/releaser";break;case Ot:e.preventDefault(),window.location.href="/search/file";break;case _t:e.preventDefault(),window.location.href="/search/desc";break}})}function B(e){window.open(e,"_blank").focus()}var Ie="is-invalid",ne="d-none";function ze(e,r){let t=a(e),s=a(`${e}-error`),n=a(`${e}-results`);a(`${e}-close`).addEventListener("click",c),a(`${e}-clear`).addEventListener("click",c);function c(){t.value="",t.focus(),t.classList.remove(Ie),s.innerText="",s.classList.add(ne),n.innerHTML=""}let V=45e4,j=2e5;switch(e){case"demozoo-submission":_e(t,V);break;case"pouet-submission":_e(t,j);break}document.body.addEventListener("htmx:beforeRequest",function(){Wt(s,n)}),document.body.addEventListener("htmx:beforeSwap",function(E){E.detail.xhr.status>=400&&s.classList.remove(ne)}),document.body.addEventListener("htmx:afterRequest",function(E){if(E.detail.elt===null||E.detail.elt.id!==`${e}`)return;if(E.detail.successful)return Zt(t);let fe=E.detail.xhr;if(E.detail.failed&&fe)return fe.status===404?Jt(s,n,r):er(s,fe);Qt(s)})}function _e(e,r){e.addEventListener("input",function(){if(!Ae(e.value,r)){e.classList.add(Ie);return}e.classList.remove(Ie)})}function Wt(e,r){r.innerHTML="",e.innerText="",e.classList.add(ne)}function Zt(e){e.focus()}function Jt(e,r,t){r.innerText=`Production not found on ${t}.`}function Qt(e){e.innerText="Something with the browser is not working, please refresh the page.",e.classList.remove(ne)}function er(e,r){e.innerText=`Something went wrong, ${r.status} status: ${r.responseText}.`,e.classList.remove(ne)}var tr="application/x-freearc",rr="application/x-arj",ar="application/x-bzip",sr="application/x-bzip2",nr="application/gzip",ir="application/vnd.rar",or="application/x-tar",lr="application/zip",cr="application/x-7z-compressed",ur="application/x-msdos-program",dr="image/bmp",fr="image/gif",pr="image/jpeg",mr="image/vnd.zbrush.pcx",hr="image/png",vr="image/tiff",gr="image/webp",Lr="application/x-csh",br="application/x-chrome-extension",kr="text/x-script.perl",yr="application/x-httpd-php",wr="text/x-script.phyton",xr="text/x-script.rexx",Er="application/x-sh",Tr="application/x-shellscript",Mr="text/x-script.tcl",Ir="text/x-shellscript",zr="text/x-script.zsh";function Br(){return[Lr,br,kr,yr,wr,xr,Er,Tr,Mr,Ir,zr]}function We(){return[ur]}function me(){return[tr,rr,ar,sr,nr,ir,or,lr,cr]}function Ze(){return["application/octet-stream","application/x-binary","application/x-ms-dos-executable"]}function Dr(){return[dr,fr,pr,mr,hr,vr,gr]}function Je(){return["text/plain","text/x-nfo"]}function Qe(e){return Br().includes(e)}function et(e){return e===""?!0:Dr().concat(me()).includes(e)}function he(e){return e===""?!0:We().concat(me(),Ze()).includes(e)}function tt(e){return e===""?!0:Je().concat(me(),We(),Ze()).includes(e)}function rt(e){return e===""?!0:Je().concat(me()).includes(e)}var $r="uploader-image-form",D="is-invalid",Be="d-none",Sr=a($r),O=a("uploader-image-alert"),R=a("uploader-image-file"),at=a("uploader-image-last-modified"),Cr=a("uploader-image-list-1"),Hr=a("uploader-image-list-2"),st=a("uploader-image-magic"),ie=a("uploader-image-month"),ve=a("uploader-image-releaser-1"),S=a("uploader-image-results"),Fr=a("uploader-image-title"),X=a("uploader-image-year");Sr.addEventListener("reset",function(){at.value="",st.value="",it()});R.addEventListener("change",Ar);Fr.addEventListener("paste",T);ve.addEventListener("input",p);X.addEventListener("input",v);ie.addEventListener("input",h);function nt(e){a(e).addEventListener("click",function(){let t=!0;if(ve.value==""&&(ve.classList.add(D),t=!1),u(X.value)==!1&&(X.classList.add(D),t=!1),d(ie.value)==!1&&(ie.classList.add(D),t=!1),ie.value!=""&&X.value==""&&(X.classList.add(D),t=!1),R.value==""&&(R.classList.add(D),t=!1),t==!1)return y(O,S);it(),S.innerText="...",S.classList.remove(Be)})}async function Ar(){k(R,O,S);let e=this.files[0],r=[m(e),Yr(e)];g(r,O,R,S),L(e,O,R,S),b(e,at,st),r[0]===""&&r[1]===""&&document.getElementById("uploader-image-submit").focus({focusVisible:!0})}function Yr(e){return et(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an image.`}function it(){Cr.innerHTML="",Hr.innerHTML="",S.innerHTML="",S.classList.add(Be),O.innerText="",O.classList.add(Be),X.classList.remove(D),ie.classList.remove(D),ve.classList.remove(D),R.classList.remove(D)}var Vr="uploader-intro-form",M="is-invalid",De="d-none",jr=a(Vr),W=a("uploader-intro-alert"),U=a("uploader-intro-file"),ot=a("uploader-intro-last-modified"),Pr=a("uploader-intro-list-1"),Rr=a("uploader-intro-list-2"),lt=a("uploader-intro-magic"),oe=a("uploader-intro-month"),ge=a("uploader-intro-releaser-1"),C=a("uploader-intro-results"),Ur=a("uploader-intro-title"),_=a("uploader-intro-year"),ct=a("uploader-intro-youtube");jr.addEventListener("reset",function(){ot.value="",lt.value="",dt()});U.addEventListener("change",qr);Ur.addEventListener("paste",T);ge.addEventListener("input",p);_.addEventListener("input",v);oe.addEventListener("input",h);ct.addEventListener("input",je);function ut(e){a(e).addEventListener("click",function(){let t=!0;if(ge.value==""&&(ge.classList.add(M),t=!1),u(_.value)==!1&&(_.classList.add(M),t=!1),d(oe.value)==!1&&(oe.classList.add(M),t=!1),oe.value!=""&&_.value==""&&(_.classList.add(M),t=!1),U.value==""&&(U.classList.add(M),t=!1),t==!1)return y(W,C);dt(),C.innerText="...",C.classList.remove(De)})}async function qr(){k(U,W,C);let e=this.files[0],r=[m(e),Nr(e)];g(r,W,U,C),L(e,W,U,C),b(e,ot,lt),r[0]===""&&r[1]===""&&document.getElementById("uploader-intro-submit").focus({focusVisible:!0})}function Nr(e){return he(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an intro.`}function dt(){Pr.innerHTML="",Rr.innerHTML="",C.innerHTML="",C.classList.add(De),W.innerText="",W.classList.add(De),_.classList.remove(M),oe.classList.remove(M),ge.classList.remove(M),ct.classList.remove(M),U.classList.remove(M)}var Kr="uploader-magazine-form",w="is-invalid",$e="d-none",Gr=a(Kr),J=a("uploader-magazine-alert"),q=a("uploader-magazine-file"),ft=a("uploader-magazine-last-modified"),Xr=a("uploader-magazine-list-1"),pt=a("uploader-magazine-magic"),le=a("uploader-magazine-month"),Le=a("uploader-magazine-releaser-1"),H=a("uploader-magazine-results"),Se=a("uploader-magazine-title"),Z=a("uploader-magazine-year");Gr.addEventListener("reset",function(){ft.value="",pt.value="",ht()});q.addEventListener("change",Or);Le.addEventListener("input",p);Z.addEventListener("input",v);le.addEventListener("input",h);function mt(e){a(e).addEventListener("click",function(){let t=!0;if(Se.value==""&&(Se.classList.add(w),t=!1),Le.value==""&&(Le.classList.add(w),t=!1),u(Z.value)==!1&&(Z.classList.add(w),t=!1),d(le.value)==!1&&(le.classList.add(w),t=!1),le.value!=""&&Z.value==""&&(Z.classList.add(w),t=!1),q.value==""&&(q.classList.add(w),t=!1),t==!1)return y(J,H);ht(),H.innerText="...",H.classList.remove($e)})}async function Or(){k(q,J,H);let e=this.files[0],r=[m(e),_r(e)];g(r,J,q,H),L(e,J,q,H),b(e,ft,pt),r[0]===""&&r[1]===""&&document.getElementById("uploader-magazine-submit").focus({focusVisible:!0})}function _r(e){return tt(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an image.`}function ht(){Xr.innerHTML="",H.innerHTML="",H.classList.add($e),J.innerText="",J.classList.add($e),Z.classList.remove(w),le.classList.remove(w),Le.classList.remove(w),q.classList.remove(w),Se.classList.remove(w)}var Wr="uploader-text-form",I="is-invalid",Ce="d-none",Zr=a(Wr),ee=a("uploader-text-alert"),N=a("uploader-text-file"),vt=a("uploader-text-last-modified"),Jr=a("uploader-text-list-1"),Qr=a("uploader-text-list-2"),gt=a("uploader-text-magic"),ce=a("uploader-text-month"),be=a("uploader-text-releaser-1"),F=a("uploader-text-results"),Lt=a("uploader-text-title"),Q=a("uploader-text-year");Zr.addEventListener("reset",function(){vt.value="",gt.value="",kt()});N.addEventListener("change",ea);Lt.addEventListener("paste",T);be.addEventListener("input",p);Q.addEventListener("input",v);ce.addEventListener("input",h);function bt(e){a(e).addEventListener("click",function(){let t=!0;if(be.value==""&&(be.classList.add(I),t=!1),u(Q.value)==!1&&(Q.classList.add(I),t=!1),d(ce.value)==!1&&(ce.classList.add(I),t=!1),ce.value!=""&&Q.value==""&&(Q.classList.add(I),t=!1),N.value==""&&(N.classList.add(I),t=!1),t==!1)return y(ee,F);kt(),F.innerText="...",F.classList.remove(Ce)})}async function ea(){k(N,ee,F);let e=this.files[0],r=[m(e),ta(e)];g(r,ee,N,F),L(e,ee,N,F),b(e,vt,gt),r[0]===""&&r[1]===""&&document.getElementById("uploader-text-submit").focus({focusVisible:!0})}function ta(e){return rt(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for a text.`}function kt(){Jr.innerHTML="",Qr.innerHTML="",F.innerHTML="",F.classList.add(Ce),ee.innerText="",ee.classList.add(Ce),Q.classList.remove(I),ce.classList.remove(I),be.classList.remove(I),N.classList.remove(I),Lt.classList.remove(I)}var ra="uploader-trainer-form",x="is-invalid",He="d-none",aa=a(ra),re=a("uploader-trainer-alert"),K=a("uploader-trainer-file"),yt=a("uploader-trainer-last-modified"),sa=a("uploader-trainer-list-1"),na=a("uploader-trainer-list-2"),wt=a("uploader-trainer-magic"),ue=a("uploader-trainer-month"),ke=a("uploader-trainer-releaser-1"),A=a("uploader-trainer-results"),ye=a("uploader-trainer-title"),te=a("uploader-trainer-year");aa.addEventListener("reset",function(){yt.value="",wt.value="",Et()});K.addEventListener("change",ia);ye.addEventListener("paste",T);ke.addEventListener("input",p);te.addEventListener("input",v);ue.addEventListener("input",h);function xt(e){a(e).addEventListener("click",function(){let t=!0;if(ye.value==""&&(ye.classList.add(x),t=!1),ke.value==""&&(ke.classList.add(x),t=!1),u(te.value)==!1&&(te.classList.add(x),t=!1),d(ue.value)==!1&&(ue.classList.add(x),t=!1),ue.value!=""&&te.value==""&&(te.classList.add(x),t=!1),K.value==""&&(K.classList.add(x),t=!1),t==!1)return y(re,A);Et(),A.innerText="...",A.classList.remove(He)})}async function ia(){k(K,re,A);let e=this.files[0],r=[m(e),oa(e)];g(r,re,K,A),L(e,re,K,A),b(e,yt,wt),r[0]===""&&r[1]===""&&document.getElementById("uploader-trainer-submit").focus({focusVisible:!0})}function oa(e){return he(e.type)?"":`The chosen file mime type ${e.type} might not be suitable for an intro.`}function Et(){sa.innerHTML="",na.innerHTML="",A.innerHTML="",A.classList.add(He),re.innerText="",re.classList.add(He),te.classList.remove(x),ue.classList.remove(x),ke.classList.remove(x),K.classList.remove(x),ye.classList.remove(x)}var la="uploader-advanced-form",l="is-invalid",Fe="d-none",ca=a(la),se=a("uploader-advanced-alert"),we=a("uploader-advanced-category"),ua=a("uploader-advanced-classification-help"),xe=a("uploader-advanced-day"),G=a("uploader-advanced-file"),Tt=a("uploader-advanced-last-modified"),da=a("uploader-advanced-list-1"),fa=a("uploader-advanced-list-2"),Mt=a("uploader-advanced-magic"),de=a("uploader-advanced-month"),Ee=a("uploader-advanced-operating-system"),Te=a("uploader-advanced-releaser-1"),Y=a("uploader-advanced-results"),pa=a("uploader-advanced-title"),ae=a("uploader-advanced-year");ca.addEventListener("reset",function(){Tt.value="",Mt.value="",zt()});G.addEventListener("change",ma);pa.addEventListener("paste",T);Te.addEventListener("input",p);ae.addEventListener("input",v);de.addEventListener("input",h);xe.addEventListener("input",Ve);we.addEventListener("change",p);Ee.addEventListener("change",p);function It(e){a(e).addEventListener("click",function(){let t=!0;if(Te.value==""&&(Te.classList.add(l),t=!1),u(ae.value)==!1&&(ae.classList.add(l),t=!1),d(de.value)==!1&&(de.classList.add(l),t=!1),pe(xe.value)==!1&&(xe.classList.add(l),t=!1),de.value!=""&&ae.value==""&&(ae.classList.add(l),t=!1),G.value==""&&(G.classList.add(l),t=!1),Ee.value==""&&(Ee.classList.add(l),t=!1),we.value==""&&(we.classList.add(l),t=!1),t==!1)return y(se,Y);zt(),Y.innerText="...",Y.classList.remove(Fe)})}async function ma(){k(G,se,Y);let e=this.files[0],r=[m(e),ha(e)];g(r,se,G,Y),L(e,se,G,Y),b(e,Tt,Mt),r[0]===""&&r[1]===""&&document.getElementById("uploader-advanced-submit").focus({focusVisible:!0})}function ha(e){return Qe(e.type)?`The chosen file mime type ${e.type} might not be suitable for an upload.`:""}function zt(){da.innerHTML="",fa.innerHTML="",Y.innerHTML="",ua.innerHTML="",Y.classList.add(Fe),se.innerText="",se.classList.add(Fe),ae.classList.remove(l),de.classList.remove(l),xe.classList.remove(l),Te.classList.remove(l),G.classList.remove(l),Ee.classList.remove(l),we.classList.remove(l)}(()=>{"use strict";Oe(),ze("demozoo-submission","Demozoo"),ze("pouet-submission","Pou\xEBt"),nt("uploader-image-submit"),P("uploader-image-form","uploader-image-progress"),ut("uploader-intro-submit"),P("uploader-intro-form","uploader-intro-progress"),xt("uploader-trainer-submit"),P("uploader-trainer-form","uploader-trainer-progress"),mt("uploader-magazine-submit"),P("uploader-magazine-form","uploader-magazine-progress"),bt("uploader-text-submit"),P("uploader-text-form","uploader-text-progress"),It("uploader-advanced-submit"),P("uploader-advanced-form","uploader-advanced-progress")})();})();
