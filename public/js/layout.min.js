/* layout.min.js Â© Defacto2 2024 */
(()=>{function x(e){let t=document.getElementById(e);if(t==null)throw new Error(`The ${e} element is null.`);return t}var D=1024*1024,_=100*D;function y(e){if(e==null)throw new Error("The elementId value of getModalById is null.");if(bootstrap===void 0)throw new Error("The bootstrap object is undefined.");let t=x(e);return new bootstrap.Modal(t,{keyboard:!0})}var R=y("termsModal"),C="t",f="ArrowRight",h="ArrowLeft",E=document.getElementById("paginationStart"),T=document.getElementById("paginationPrev"),b=document.getElementById("paginationPrev2"),k=document.getElementById("paginationNext"),B=document.getElementById("paginationNext2"),L=document.getElementById("paginationEnd");function $(){document.addEventListener("keydown",function(e){if(e.ctrlKey&&e.altKey){switch(e.key){case C:R.show();break}return}if(e.ctrlKey&&e.key==h){E?.click();return}if(e.ctrlKey&&e.key==f){L?.click();return}if(e.shiftKey&&e.key==h){b?.click();return}if(e.shiftKey&&e.key==f){B?.click();return}if(e.key==h){T?.click();return}if(e.key==f){k?.click();return}})}function I(e){let t=document.getElementById(e);if(typeof t>"u"||t===null)return;t.addEventListener("change",function(){H(t.value)});let r="paginationRangeLabel",o=document.getElementById(r);if(o===null)throw new Error(`The ${r} element is null.`);t.addEventListener("input",function(){o.textContent="Jump to page "+t.value})}function H(e){let t=new URL(window.location.href),o=t.pathname.split("/"),n=o[o.length-1];!isNaN(n)&&typeof Number(n)=="number"?o[o.length-1]=e:o.push(e),t.pathname=o.join("/"),window.location.href=t.href}var m="search-releaser-alert",N="search-releaser-clear",p="search-releaser-indicator",w="search-releaser-input";function M(){let e=document.getElementById(N);e!==null&&e.addEventListener("click",function(){z(m,w,p)})}function z(){let e=document.getElementById(w);if(e===null)throw new Error(`The ${w} element is null`);let t=document.getElementById(m);if(t===null)throw new Error(`The htmx alert element ${m} is null`);let r=document.getElementById(p);if(r===null)throw new Error(`The releaser search indicator element ${p} is null`);let o=document.getElementById("search-releaser-results");if(o===null)throw new Error("The releaser search indicator element is null");e.value="",e.focus(),t.setAttribute("hidden","true"),r.style.opacity=0,o.innerHTML=""}var A=j;function j(){M(),document.body.addEventListener("htmx:beforeRequest",function(e){l(e,"artifact-editor-reset-classifications"),l(e,"artifact-editor-text-for-dos"),l(e,"artifact-editor-text-for-amiga"),l(e,"artifact-editor-proof-of-release"),l(e,"artifact-editor-intro-for-dos"),l(e,"artifact-editor-intro-for-win"),l(e,"artifact-editor-intro-for-bbs"),l(e,"artifact-editor-trainer-for-dos"),l(e,"artifact-editor-trainer-for-win"),l(e,"artifact-editor-ansi-for-bbs"),l(e,"artifact-editor-magazine-for-text"),l(e,"artifact-editor-magazine-for-dos")}),document.body.addEventListener("htmx:afterRequest",function(e){s(e,"search-releaser-input","search-releaser-alert");let t="uploader-image-alert";s(e,"uploader-image-form",t),s(e,"uploader-image-releaser-1",t),s(e,"uploader-image-releaser-2",t);let r="uploader-intro-alert";s(e,"uploader-intro-form",r),s(e,"uploader-intro-releaser-1",r),s(e,"uploader-intro-releaser-2",r);let o="uploader-text-alert";s(e,"uploader-text-form",o),s(e,"uploader-text-releaser-1",o),s(e,"uploader-text-releaser-2",o),S(e,"artifact-editor-hidden","artifact-editor-public"),S(e,"artifact-editor-public","artifact-editor-hidden"),u(e,"artifact-editor-operating-system"),u(e,"artifact-editor-category"),a(e,"artifact-editor-text-for-dos"),a(e,"artifact-editor-text-for-amiga"),a(e,"artifact-editor-proof-of-release"),a(e,"artifact-editor-intro-for-dos"),a(e,"artifact-editor-intro-for-win"),a(e,"artifact-editor-intro-for-bbs"),a(e,"artifact-editor-trainer-for-dos"),a(e,"artifact-editor-trainer-for-win"),a(e,"artifact-editor-ansi-for-bbs"),a(e,"artifact-editor-magazine-for-text"),a(e,"artifact-editor-magazine-for-dos"),u(e,"artifact-editor-releaser-reset"),u(e,"artifact-editor-releaser-update"),u(e,"artifact-editor-title"),F(e,"artifact-editor-title-reset","artifact-editor-title")})}function l(e,t){if(e.detail.elt===null||e.detail.elt.id!==`${t}`)return;let r="artifact-editor-operating-system",o="artifact-editor-category",n=document.getElementById(r);if(typeof n>"u"||n===null)return;n.classList.remove("is-valid");let i=document.getElementById(o);typeof i>"u"||i===null||i.classList.remove("is-valid")}function u(e,t){if(e.detail.elt===null||e.detail.elt.id!==`${t}`)return;let r="artifact-editor-alert",o=document.getElementById(r);if(typeof o>"u"||o===null)throw new Error(`The htmx alert element ${r} is null`);if(e.detail.successful)return d(o,t);if(e.detail.failed&&e.detail.xhr)return g(e,o);c(o)}function a(e,t){if(e.detail.elt===null||e.detail.elt.id!==`${t}`)return;let r="artifact-editor-alert",o="artifact-editor-operating-system",n="artifact-editor-category",i=document.getElementById(r);if(typeof i>"u"||i===null)throw new Error(`The htmx alert element ${r} is null`);if(e.detail.successful){d(i,o),d(i,n);return}if(e.detail.failed&&e.detail.xhr)return g(e,i);c(i)}function F(e,t,r){if(e.detail.elt===null||e.detail.elt.id!==`${t}`)return;let o="artifact-editor-alert",n=document.getElementById(o);if(typeof n>"u"||n===null)throw new Error(`The htmx alert element ${o} is null`);if(e.detail.successful)return d(n,r);if(e.detail.failed&&e.detail.xhr)return g(e,n);c(n)}function d(e,t){if(e.innerText="",e.classList.add("d-none"),typeof t>"u"||t===null)return;let r=document.getElementById(t);typeof r>"u"||r===null||r.classList.add("is-valid")}function g(e,t){let r=e.detail.xhr;t.innerText=`${v()} Could not update the database record, ${r.responseText}.`,t.classList.remove("d-none")}function S(e,t,r){if(e.detail.elt===null||e.detail.elt.id!==`${t}`)return;let o="artifact-editor-alert",n=document.getElementById(o);if(typeof n>"u"||n===null)throw new Error(`The htmx alert element ${o} is null`);if(e.detail.successful)return K(e,t,n);if(e.detail.failed&&e.detail.xhr)return P(e,r,n);c(n)}function K(e,t,r){r.classList.add("d-none"),r.innerText="";let o=document.getElementById("artifact-editor-modal-header");switch(t){case"artifact-editor-hidden":o.classList.remove("bg-success-subtle"),o.classList.add("bg-danger-subtle");break;case"artifact-editor-public":o.classList.add("bg-success-subtle"),o.classList.remove("bg-danger-subtle");break;default:console.error(`The record success ${t} is not supported.`)}}function P(e,t,r){let o=e.detail.xhr;r.innerText=`${v()} Could not update the database record, ${o.responseText}.`,r.classList.remove("d-none"),document.getElementById(t).checked=!0}function v(){let e=new Date,t=e.getHours(),r=e.getMinutes(),o=e.getSeconds();return r=(r<10?"0":"")+r,o=(o<10?"0":"")+o,t+":"+r+":"+o}function s(e,t,r){if(e.detail.elt===null||e.detail.elt.id!==`${t}`)return;let o=document.getElementById(r);if(typeof o>"u"||o===null)throw new Error(`The htmx alert element ${r} is null`);if(e.detail.successful)return Y(e,o);if(e.detail.failed&&e.detail.xhr)return U(o,e);c(o)}function Y(e,t){t.classList.add("d-none"),t.innerText="";let r="-form",o=e.target.id;if(o.slice(-r.length)==r){let i=o.replace(r,"-file");q(e,`#${i}`)}}function q(e,t){let r=e.target.querySelector(t);if(r){r.value="",r.innerText="";return}console.error(`The reset file ${t} element is null`)}function U(e,t){let r=t.detail.xhr;e.innerText=`Something on the server is not working, ${r.status} status: ${r.responseText}.`,e.classList.remove("d-none")}function c(e){e.innerText="Something with the browser is not working, please try again or refresh the page.",e.classList.remove("d-none")}(()=>{"use strict";A(),$(),I("paginationRange"),O()})();function O(){let e=document.querySelectorAll('[data-bs-toggle="tooltip"]');if(e===null)throw new Error("Tooltip trigger list not found");if(typeof bootstrap.Tooltip>"u")throw new Error("Bootstrap Tooltip is undefined");let t=[...e].map(r=>new bootstrap.Tooltip(r))}})();
