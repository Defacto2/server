/* layout.min.js Â© Defacto2 2024 */
(()=>{function d(e){let t=document.getElementById(e);if(t==null)throw new Error(`The ${e} element is null.`);return t}function f(e){if(bootstrap===void 0)throw new Error("The bootstrap object is undefined.");let t=d(e);return new bootstrap.Modal(t)}var I=f("termsModal"),T="t",u="ArrowRight",a="ArrowLeft",h=document.getElementById("paginationStart"),p=document.getElementById("paginationPrev"),m=document.getElementById("paginationPrev2"),g=document.getElementById("paginationNext"),y=document.getElementById("paginationNext2"),w=document.getElementById("paginationEnd");function x(){console.log("keyboardShortcuts"),document.addEventListener("keydown",function(e){if(e.ctrlKey&&e.altKey){switch(e.key){case T:I.show();break}return}if(e.ctrlKey&&e.key==a){h?.click();return}if(e.ctrlKey&&e.key==u){w?.click();return}if(e.shiftKey&&e.key==a){m?.click();return}if(e.shiftKey&&e.key==u){y?.click();return}if(e.key==a){p?.click();return}if(e.key==u){g?.click();return}})}function E(e){let t=document.getElementById(e);if(typeof t>"u"||t===null)return;t.addEventListener("change",function(){$(t.value)});let n="paginationRangeLabel",r=document.getElementById(n);if(r===null)throw new Error(`The ${n} element is null.`);t.addEventListener("input",function(){r.textContent="Jump to page "+t.value})}function $(e){let t=new URL(window.location.href),r=t.pathname.split("/"),c=r[r.length-1];!isNaN(c)&&typeof Number(c)=="number"?r[r.length-1]=e:r.push(e),t.pathname=r.join("/"),window.location.href=t.href}var i="search-releaser-alert",M="search-releaser-clear",s="search-releaser-indicator",l="search-releaser-input",o=document.getElementById(i);function B(){let e=document.getElementById(M);e!==null&&e.addEventListener("click",function(){L(i,l,s)})}function L(){let e=document.getElementById(l);if(e===null)throw new Error(`The ${l} element is null`);let t=document.getElementById(i);if(t===null)throw new Error(`The htmx alert element ${i} is null`);let n=document.getElementById(s);if(n===null)throw new Error(`The releaser search indicator element ${s} is null`);let r=document.getElementById("search-releaser-results");if(r===null)throw new Error("The releaser search indicator element is null");e.value="",e.focus(),t.setAttribute("hidden","true"),n.style.opacity=0,r.innerHTML=""}function b(e){if(!(e.detail.elt===null||e.detail.elt.id!==`${l}`)){if(typeof o>"u"||o===null)throw new Error(`The htmx alert element ${i} for releaser search is null`);if(e.detail.successful)return R(o);if(e.detail.failed&&e.detail.xhr)return S(o,e);A(o)}}function R(e){e.setAttribute("hidden","true"),e.innerText=""}function S(e,t){let n=t.detail.xhr;e.innerText=`Something on the server is not working, ${n.status} status: ${n.responseText}.`,e.removeAttribute("hidden")}function A(e){e.innerText="Something with the browser is not working, please refresh the page.",e.removeAttribute("hidden")}var k=C;function C(){B(),K(),document.body.addEventListener("htmx:afterRequest",function(e){b(e)})}function K(){htmx.on("#uploader-intro-form","htmx:xhr:progress",function(e){console.log("htmx:xhr:progress event fired"),htmx.find("#uploader-intro-progress").setAttribute("value",e.detail.loaded/e.detail.total*100)})}(()=>{"use strict";k(),x(),E("paginationRange");let e=document.querySelectorAll('[data-bs-toggle="tooltip"]');if(e===null)throw new Error("Tooltip trigger list not found");if(typeof bootstrap.Tooltip>"u")throw new Error("Bootstrap Tooltip is undefined");let t=[...e].map(n=>new bootstrap.Tooltip(n))})();})();
