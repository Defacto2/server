/* layout.min.js Â© Defacto2 2024 */
(()=>{function y(e){let r=document.getElementById(e);if(r==null)throw new Error(`The ${e} element is null.`);return r}var H=1024*1024,ee=100*H;function E(e){if(e==null)throw new Error("The elementId value of getModalById is null.");if(bootstrap===void 0)throw new Error("The bootstrap object is undefined.");let r=y(e);return new bootstrap.Modal(r,{keyboard:!0})}var N=E("termsModal"),z="t",h="ArrowRight",m="ArrowLeft",T=document.getElementById("paginationStart"),b=document.getElementById("paginationPrev"),$=document.getElementById("paginationPrev2"),B=document.getElementById("paginationNext"),L=document.getElementById("paginationNext2"),k=document.getElementById("paginationEnd");function I(){document.addEventListener("keydown",function(e){if(e.ctrlKey&&e.altKey){switch(e.key){case z:N.show();break}return}if(e.ctrlKey&&e.key==m){T?.click();return}if(e.ctrlKey&&e.key==h){k?.click();return}if(e.shiftKey&&e.key==m){$?.click();return}if(e.shiftKey&&e.key==h){L?.click();return}if(e.key==m){b?.click();return}if(e.key==h){B?.click();return}})}function M(e){let r=document.getElementById(e);if(typeof r>"u"||r===null)return;r.addEventListener("change",function(){j(r.value)});let o="paginationRangeLabel",t=document.getElementById(o);if(t===null)throw new Error(`The ${o} element is null.`);r.addEventListener("input",function(){t.textContent="Jump to page "+r.value})}function j(e){let r=new URL(window.location.href),t=r.pathname.split("/"),i=t[t.length-1];!isNaN(i)&&typeof Number(i)=="number"?t[t.length-1]=e:t.push(e),r.pathname=t.join("/"),window.location.href=r.href}var p="search-releaser-alert",F="search-releaser-clear",w="search-releaser-indicator",g="search-releaser-input";function S(){let e=document.getElementById(F);e!==null&&e.addEventListener("click",function(){K(p,g,w)})}function K(){let e=document.getElementById(g);if(e===null)throw new Error(`The ${g} element is null`);let r=document.getElementById(p);if(r===null)throw new Error(`The htmx alert element ${p} is null`);let o=document.getElementById(w);if(o===null)throw new Error(`The releaser search indicator element ${w} is null`);let t=document.getElementById("search-releaser-results");if(t===null)throw new Error("The releaser search indicator element is null");e.value="",e.focus(),r.setAttribute("hidden","true"),o.style.opacity=0,t.innerHTML=""}var R=P;function P(){S(),document.body.addEventListener("htmx:beforeRequest",function(e){l(e,"artifact-editor-reset-classifications"),l(e,"artifact-editor-text-for-dos"),l(e,"artifact-editor-text-for-amiga"),l(e,"artifact-editor-proof-of-release"),l(e,"artifact-editor-intro-for-dos"),l(e,"artifact-editor-intro-for-win"),l(e,"artifact-editor-intro-for-bbs"),l(e,"artifact-editor-trainer-for-dos"),l(e,"artifact-editor-trainer-for-win"),l(e,"artifact-editor-ansi-for-bbs"),l(e,"artifact-editor-magazine-for-text"),l(e,"artifact-editor-magazine-for-dos")}),document.body.addEventListener("htmx:afterRequest",function(e){s(e,"search-releaser-input","search-releaser-alert");let r="uploader-image-alert";s(e,"uploader-image-form",r),s(e,"uploader-image-releaser-1",r),s(e,"uploader-image-releaser-2",r);let o="uploader-intro-alert";s(e,"uploader-intro-form",o),s(e,"uploader-intro-releaser-1",o),s(e,"uploader-intro-releaser-2",o);let t="uploader-text-alert";s(e,"uploader-text-form",t),s(e,"uploader-text-releaser-1",t),s(e,"uploader-text-releaser-2",t),D(e,"artifact-editor-hidden","artifact-editor-public"),D(e,"artifact-editor-public","artifact-editor-hidden"),f(e,"artifact-editor-operating-system"),f(e,"artifact-editor-category"),a(e,"artifact-editor-text-for-dos"),a(e,"artifact-editor-text-for-amiga"),a(e,"artifact-editor-proof-of-release"),a(e,"artifact-editor-intro-for-dos"),a(e,"artifact-editor-intro-for-win"),a(e,"artifact-editor-intro-for-bbs"),a(e,"artifact-editor-trainer-for-dos"),a(e,"artifact-editor-trainer-for-win"),a(e,"artifact-editor-ansi-for-bbs"),a(e,"artifact-editor-magazine-for-text"),a(e,"artifact-editor-magazine-for-dos"),f(e,"artifact-editor-releaser-reset"),U(e,"artifact-editor-releaser-update"),f(e,"artifact-editor-title"),A(e,"artifact-editor-title-reset","artifact-editor-title"),f(e,"artifact-editor-filename"),A(e,"artifact-editor-filename-reset","artifact-editor-filename"),f(e,"artifact-editor-virustotal"),Y(e,"artifact-editor-date-update")})}function Y(e,r){if(e.detail.elt===null||e.detail.elt.id!==`${r}`)return;let o="artifact-editor-alert",t=document.getElementById(o);if(typeof t>"u"||t===null)throw new Error(`The htmx alert element ${o} is null`);let i="artifact-editor-year",n="artifact-editor-month",x="artifact-editor-day";if(e.detail.successful)return u(t,i),u(t,n),u(t,x);if(e.detail.failed&&e.detail.xhr)return c(e,i,t),c(e,n,t),c(e,x,t);d(t)}function U(e,r){if(e.detail.elt===null||e.detail.elt.id!==`${r}`)return;let o="artifact-editor-alert",t=document.getElementById(o);if(typeof t>"u"||t===null)throw new Error(`The htmx alert element ${o} is null`);let i="artifact-editor-releaser-1",n="artifact-editor-releaser-2";if(e.detail.successful)return u(t,i),u(t,n);if(e.detail.failed&&e.detail.xhr)return c(e,i,t),c(e,n,t);d(t)}function l(e,r){if(e.detail.elt===null||e.detail.elt.id!==`${r}`)return;let o="artifact-editor-operating-system",t="artifact-editor-category",i=document.getElementById(o);if(typeof i>"u"||i===null)return;i.classList.remove("is-valid");let n=document.getElementById(t);typeof n>"u"||n===null||n.classList.remove("is-valid")}function f(e,r){if(e.detail.elt===null||e.detail.elt.id!==`${r}`)return;let o="artifact-editor-alert",t=document.getElementById(o);if(typeof t>"u"||t===null)throw new Error(`The htmx alert element ${o} is null`);if(e.detail.successful)return u(t,r);if(e.detail.failed&&e.detail.xhr)return c(e,r,t);d(t)}function a(e,r){if(e.detail.elt===null||e.detail.elt.id!==`${r}`)return;let o="artifact-editor-alert",t="artifact-editor-operating-system",i="artifact-editor-category",n=document.getElementById(o);if(typeof n>"u"||n===null)throw new Error(`The htmx alert element ${o} is null`);if(e.detail.successful){u(n,t),u(n,i);return}if(e.detail.failed&&e.detail.xhr)return c(e,null,n);d(n)}function A(e,r,o){if(e.detail.elt===null||e.detail.elt.id!==`${r}`)return;let t="artifact-editor-alert",i=document.getElementById(t);if(typeof i>"u"||i===null)throw new Error(`The htmx alert element ${t} is null`);if(console.log(`afterReset ${r} ${o}`,e.detail),e.detail.successful)return console.log(e.detail.successful,"sucessful"),u(i,o);if(e.detail.failed&&e.detail.xhr)return console.log(e.detail.failed,"failed"),c(e,o,i);d(i)}function u(e,r){if(e.innerText="",e.classList.add("d-none"),typeof r>"u"||r===null)return;let o=document.getElementById(r);typeof o>"u"||o===null||o.classList.add("is-valid")}function c(e,r,o){let t=e.detail.xhr;o.innerText=`${C()} Could not update the database record, ${t.responseText}.`,o.classList.remove("d-none"),r!==null&&document.getElementById(r).classList.remove("is-valid")}function D(e,r,o){if(e.detail.elt===null||e.detail.elt.id!==`${r}`)return;let t="artifact-editor-alert",i=document.getElementById(t);if(typeof i>"u"||i===null)throw new Error(`The htmx alert element ${t} is null`);if(e.detail.successful)return q(e,r,i);if(e.detail.failed&&e.detail.xhr)return O(e,o,i);d(i)}function q(e,r,o){o.classList.add("d-none"),o.innerText="";let t=document.getElementById("artifact-editor-modal-header");switch(r){case"artifact-editor-hidden":t.classList.remove("bg-success-subtle"),t.classList.add("bg-danger-subtle");break;case"artifact-editor-public":t.classList.add("bg-success-subtle"),t.classList.remove("bg-danger-subtle");break;default:console.error(`The record success ${r} is not supported.`)}}function O(e,r,o){let t=e.detail.xhr;o.innerText=`${C()} Could not update the database record, ${t.responseText}.`,o.classList.remove("d-none"),document.getElementById(r).checked=!0}function C(){let e=new Date,r=e.getHours(),o=e.getMinutes(),t=e.getSeconds();return o=(o<10?"0":"")+o,t=(t<10?"0":"")+t,r+":"+o+":"+t}function s(e,r,o){if(e.detail.elt===null||e.detail.elt.id!==`${r}`)return;let t=document.getElementById(o);if(typeof t>"u"||t===null)throw new Error(`The htmx alert element ${o} is null`);if(e.detail.successful)return G(e,t);if(e.detail.failed&&e.detail.xhr)return v(t,e);d(t)}function G(e,r){r.classList.add("d-none"),r.innerText="";let o="-form",t=e.target.id;if(t.slice(-o.length)==o){let n=t.replace(o,"-file");V(e,`#${n}`)}}function V(e,r){let o=e.target.querySelector(r);if(o){o.value="",o.innerText="";return}console.error(`The reset file ${r} element is null`)}function v(e,r){let o=r.detail.xhr;e.innerText=`Something on the server is not working, ${o.status} status: ${o.responseText}.`,e.classList.remove("d-none")}function d(e){e.innerText="Something with the browser is not working, please try again or refresh the page.",e.classList.remove("d-none")}(()=>{"use strict";R(),I(),M("paginationRange"),J()})();function J(){let e=document.querySelectorAll('[data-bs-toggle="tooltip"]');if(e===null)throw new Error("Tooltip trigger list not found");if(typeof bootstrap.Tooltip>"u")throw new Error("Bootstrap Tooltip is undefined");let r=[...e].map(o=>new bootstrap.Tooltip(o))}})();
