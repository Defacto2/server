/* layout.min.js Â© Defacto2 2024 */
(()=>{function h(e){let t=document.getElementById(e);if(t==null)throw new Error(`The ${e} element is null.`);return t}var S=1024*1024,X=100*S;function p(e){if(e==null)throw new Error("The elementId value of getModalById is null.");if(bootstrap===void 0)throw new Error("The bootstrap object is undefined.");let t=h(e);return new bootstrap.Modal(t,{keyboard:!0})}var A=p("termsModal"),D="t",s="ArrowRight",u="ArrowLeft",m=document.getElementById("paginationStart"),w=document.getElementById("paginationPrev"),g=document.getElementById("paginationPrev2"),x=document.getElementById("paginationNext"),y=document.getElementById("paginationNext2"),E=document.getElementById("paginationEnd");function T(){document.addEventListener("keydown",function(e){if(e.ctrlKey&&e.altKey){switch(e.key){case D:A.show();break}return}if(e.ctrlKey&&e.key==u){m?.click();return}if(e.ctrlKey&&e.key==s){E?.click();return}if(e.shiftKey&&e.key==u){g?.click();return}if(e.shiftKey&&e.key==s){y?.click();return}if(e.key==u){w?.click();return}if(e.key==s){x?.click();return}})}function b(e){let t=document.getElementById(e);if(typeof t>"u"||t===null)return;t.addEventListener("change",function(){R(t.value)});let r="paginationRangeLabel",n=document.getElementById(r);if(n===null)throw new Error(`The ${r} element is null.`);t.addEventListener("input",function(){n.textContent="Jump to page "+t.value})}function R(e){let t=new URL(window.location.href),n=t.pathname.split("/"),o=n[n.length-1];!isNaN(o)&&typeof Number(o)=="number"?n[n.length-1]=e:n.push(e),t.pathname=n.join("/"),window.location.href=t.href}var c="search-releaser-alert",C="search-releaser-clear",d="search-releaser-indicator",f="search-releaser-input";function k(){let e=document.getElementById(C);e!==null&&e.addEventListener("click",function(){H(c,f,d)})}function H(){let e=document.getElementById(f);if(e===null)throw new Error(`The ${f} element is null`);let t=document.getElementById(c);if(t===null)throw new Error(`The htmx alert element ${c} is null`);let r=document.getElementById(d);if(r===null)throw new Error(`The releaser search indicator element ${d} is null`);let n=document.getElementById("search-releaser-results");if(n===null)throw new Error("The releaser search indicator element is null");e.value="",e.focus(),t.setAttribute("hidden","true"),r.style.opacity=0,n.innerHTML=""}var L=N;function N(){k(),document.body.addEventListener("htmx:afterRequest",function(e){i(e,"search-releaser-input","search-releaser-alert"),i(e,"uploader-image-form","uploader-image-alert"),i(e,"uploader-image-releaser-1","uploader-image-alert"),i(e,"uploader-image-releaser-2","uploader-image-alert"),i(e,"uploader-intro-form","uploader-intro-alert"),i(e,"uploader-intro-releaser-1","uploader-intro-alert"),i(e,"uploader-intro-releaser-2","uploader-intro-alert"),i(e,"uploader-text-form","uploader-text-alert"),i(e,"uploader-text-releaser-1","uploader-text-alert"),i(e,"uploader-text-releaser-2","uploader-text-alert"),B(e,"artifact-editor-hidden","artifact-editor-public","artifact-editor-alert"),B(e,"artifact-editor-public","artifact-editor-hidden","artifact-editor-alert"),l(e,"artifact-editor-operating-system","artifact-editor-alert"),l(e,"artifact-editor-category","artifact-editor-alert"),l(e,"artifact-editor-releaser-reset","artifact-editor-alert"),l(e,"artifact-editor-releaser-update","artifact-editor-alert"),l(e,"artifact-editor-title","artifact-editor-alert"),j(e,"artifact-editor-title-reset","artifact-editor-title","artifact-editor-alert")})}function l(e,t,r){if(e.detail.elt===null||e.detail.elt.id!==`${t}`)return;let n=document.getElementById(r);if(typeof n>"u"||n===null)throw new Error(`The htmx alert element ${r} is null`);if(e.detail.successful)return $(n,t);if(e.detail.failed&&e.detail.xhr)return v(e,n);a(n)}function j(e,t,r,n){if(e.detail.elt===null||e.detail.elt.id!==`${t}`)return;let o=document.getElementById(n);if(typeof o>"u"||o===null)throw new Error(`The htmx alert element ${n} is null`);if(e.detail.successful)return $(o,r);if(e.detail.failed&&e.detail.xhr)return v(e,o);a(o)}function $(e,t){if(e.innerText="",e.classList.add("d-none"),typeof t>"u"||t===null)return;let r=document.getElementById(t);typeof r>"u"||r===null||r.classList.add("is-valid")}function v(e,t){let r=e.detail.xhr;t.innerText=`${M()} Could not update the database record, ${r.responseText}.`,t.classList.remove("d-none")}function B(e,t,r,n){if(e.detail.elt===null||e.detail.elt.id!==`${t}`)return;let o=document.getElementById(n);if(typeof o>"u"||o===null)throw new Error(`The htmx alert element ${n} is null`);if(e.detail.successful)return F(e,t,o);if(e.detail.failed&&e.detail.xhr)return K(e,r,o);a(o)}function F(e,t,r){r.classList.add("d-none"),r.innerText="";let n=document.getElementById("artifact-editor-modal-header");switch(t){case"artifact-editor-hidden":n.classList.remove("bg-success-subtle"),n.classList.add("bg-danger-subtle");break;case"artifact-editor-public":n.classList.add("bg-success-subtle"),n.classList.remove("bg-danger-subtle");break;default:console.error(`The record success ${t} is not supported.`)}}function K(e,t,r){let n=e.detail.xhr;r.innerText=`${M()} Could not update the database record, ${n.responseText}.`,r.classList.remove("d-none"),document.getElementById(t).checked=!0}function M(){let e=new Date,t=e.getHours(),r=e.getMinutes(),n=e.getSeconds();return r=(r<10?"0":"")+r,n=(n<10?"0":"")+n,t+":"+r+":"+n}function i(e,t,r){if(e.detail.elt===null||e.detail.elt.id!==`${t}`)return;let n=document.getElementById(r);if(typeof n>"u"||n===null)throw new Error(`The htmx alert element ${r} is null`);if(e.detail.successful)return P(e,n);if(e.detail.failed&&e.detail.xhr)return q(n,e);a(n)}function P(e,t){t.classList.add("d-none"),t.innerText="";let r="-form",n=e.target.id;if(n.slice(-r.length)==r){let I=n.replace(r,"-file");Y(e,`#${I}`)}}function Y(e,t){let r=e.target.querySelector(t);if(r){r.value="",r.innerText="";return}console.error(`The reset file ${t} element is null`)}function q(e,t){let r=t.detail.xhr;e.innerText=`Something on the server is not working, ${r.status} status: ${r.responseText}.`,e.classList.remove("d-none")}function a(e){e.innerText="Something with the browser is not working, please try again or refresh the page.",e.classList.remove("d-none")}(()=>{"use strict";L(),T(),b("paginationRange"),z()})();function z(){let e=document.querySelectorAll('[data-bs-toggle="tooltip"]');if(e===null)throw new Error("Tooltip trigger list not found");if(typeof bootstrap.Tooltip>"u")throw new Error("Bootstrap Tooltip is undefined");let t=[...e].map(r=>new bootstrap.Tooltip(r))}})();
