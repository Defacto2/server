/* layout.min.js Â© Defacto2 2024 */
(()=>{function d(e){let t=document.getElementById(e);if(t==null)throw new Error(`The ${e} element is null.`);return t}function f(e){if(bootstrap===void 0)throw new Error("The bootstrap object is undefined.");let t=d(e);return new bootstrap.Modal(t)}var k=f("termsModal"),T="t",i="ArrowRight",l="ArrowLeft",p=document.getElementById("paginationStart"),m=document.getElementById("paginationPrev"),h=document.getElementById("paginationPrev2"),g=document.getElementById("paginationNext"),y=document.getElementById("paginationNext2"),w=document.getElementById("paginationEnd");function x(){document.addEventListener("keydown",function(e){if(e.ctrlKey&&e.altKey){switch(e.key){case T:k.show();break}return}if(e.ctrlKey&&e.key==l){p?.click();return}if(e.ctrlKey&&e.key==i){w?.click();return}if(e.shiftKey&&e.key==l){h?.click();return}if(e.shiftKey&&e.key==i){y?.click();return}if(e.key==l){m?.click();return}if(e.key==i){g?.click();return}})}function E(e){let t=document.getElementById(e);if(typeof t>"u"||t===null)return;t.addEventListener("change",function(){$(t.value)});let n="paginationRangeLabel",r=document.getElementById(n);if(r===null)throw new Error(`The ${n} element is null.`);t.addEventListener("input",function(){r.textContent="Jump to page "+t.value})}function $(e){let t=new URL(window.location.href),r=t.pathname.split("/"),c=r[r.length-1];!isNaN(c)&&typeof Number(c)=="number"?r[r.length-1]=e:r.push(e),t.pathname=r.join("/"),window.location.href=t.href}var a="search-releaser-alert",I="search-releaser-clear",u="search-releaser-indicator",s="search-releaser-input";function B(){let e=document.getElementById(I);e!==null&&e.addEventListener("click",function(){M(a,s,u)})}function M(){let e=document.getElementById(s);if(e===null)throw new Error(`The ${s} element is null`);let t=document.getElementById(a);if(t===null)throw new Error(`The htmx alert element ${a} is null`);let n=document.getElementById(u);if(n===null)throw new Error(`The releaser search indicator element ${u} is null`);let r=document.getElementById("search-releaser-results");if(r===null)throw new Error("The releaser search indicator element is null");e.value="",e.focus(),t.setAttribute("hidden","true"),n.style.opacity=0,r.innerHTML=""}var b=L;function L(){B(),document.body.addEventListener("htmx:afterRequest",function(e){o(e,"search-releaser-input","search-releaser-alert"),o(e,"uploader-intro-form","uploader-intro-alert"),o(e,"uploader-intro-releaser-1","uploader-intro-alert"),o(e,"uploader-intro-releaser-2","uploader-intro-alert")})}function o(e,t,n){if(e.detail.elt===null||e.detail.elt.id!==`${t}`)return;let r=document.getElementById(n);if(typeof r>"u"||r===null)throw new Error(`The htmx alert element ${n} is null`);if(e.detail.successful)return R(e,r);if(e.detail.failed&&e.detail.xhr)return C(r,e);F(r)}function R(e,t){t.classList.add("d-none"),t.innerText="",e.target.id==="uploader-intro-form"&&S(e,"#uploader-intro-file")}function S(e,t){let n=e.target.querySelector("#uploader-intro-file");if(n){n.value="";return}console.error(`The reset file ${t} element is null`)}function C(e,t){let n=t.detail.xhr;e.innerText=`Something on the server is not working, ${n.status} status: ${n.responseText}.`,e.classList.remove("d-none")}function F(e){e.innerText="Something with the browser is not working, please try again or refresh the page.",e.classList.remove("d-none")}(()=>{"use strict";b(),x(),E("paginationRange"),K()})();function K(){let e=document.querySelectorAll('[data-bs-toggle="tooltip"]');if(e===null)throw new Error("Tooltip trigger list not found");if(typeof bootstrap.Tooltip>"u")throw new Error("Bootstrap Tooltip is undefined");let t=[...e].map(n=>new bootstrap.Tooltip(n))}})();
