/* layout.min.js Â© Defacto2 2024 */
(()=>{function E(t){let r=document.getElementById(t);if(r==null)throw new Error(`The ${t} element is null.`);return r}var H=1024*1024,et=100*H;function T(t){if(t==null)throw new Error("The elementId value of getModalById is null.");if(bootstrap===void 0)throw new Error("The bootstrap object is undefined.");let r=E(t);return new bootstrap.Modal(r,{keyboard:!0})}var N=T("termsModal"),z="t",h="ArrowRight",m="ArrowLeft",b=document.getElementById("paginationStart"),$=document.getElementById("paginationPrev"),B=document.getElementById("paginationPrev2"),L=document.getElementById("paginationNext"),k=document.getElementById("paginationNext2"),I=document.getElementById("paginationEnd");function M(){document.addEventListener("keydown",function(t){if(t.ctrlKey&&t.altKey){switch(t.key){case z:N.show();break}return}if(t.ctrlKey&&t.key==m){b?.click();return}if(t.ctrlKey&&t.key==h){I?.click();return}if(t.shiftKey&&t.key==m){B?.click();return}if(t.shiftKey&&t.key==h){k?.click();return}if(t.key==m){$?.click();return}if(t.key==h){L?.click();return}})}function S(t){let r=document.getElementById(t);if(typeof r>"u"||r===null)return;r.addEventListener("change",function(){j(r.value)});let i="paginationRangeLabel",e=document.getElementById(i);if(e===null)throw new Error(`The ${i} element is null.`);r.addEventListener("input",function(){e.textContent="Jump to page "+r.value})}function j(t){let r=new URL(window.location.href),e=r.pathname.split("/"),o=e[e.length-1];!isNaN(o)&&typeof Number(o)=="number"?e[e.length-1]=t:e.push(t),r.pathname=e.join("/"),window.location.href=r.href}var p="search-releaser-alert",F="search-releaser-clear",w="search-releaser-indicator",g="search-releaser-input";function A(){let t=document.getElementById(F);t!==null&&t.addEventListener("click",function(){K(p,g,w)})}function K(){let t=document.getElementById(g);if(t===null)throw new Error(`The ${g} element is null`);let r=document.getElementById(p);if(r===null)throw new Error(`The htmx alert element ${p} is null`);let i=document.getElementById(w);if(i===null)throw new Error(`The releaser search indicator element ${w} is null`);let e=document.getElementById("search-releaser-results");if(e===null)throw new Error("The releaser search indicator element is null");t.value="",t.focus(),r.setAttribute("hidden","true"),i.style.opacity=0,e.innerHTML=""}var R=P;function P(){A(),document.body.addEventListener("htmx:beforeRequest",function(t){s(t,"artifact-editor-reset-classifications"),s(t,"artifact-editor-text-for-dos"),s(t,"artifact-editor-text-for-amiga"),s(t,"artifact-editor-proof-of-release"),s(t,"artifact-editor-intro-for-dos"),s(t,"artifact-editor-intro-for-win"),s(t,"artifact-editor-intro-for-bbs"),s(t,"artifact-editor-trainer-for-dos"),s(t,"artifact-editor-trainer-for-win"),s(t,"artifact-editor-ansi-for-bbs"),s(t,"artifact-editor-magazine-for-text"),s(t,"artifact-editor-magazine-for-dos")}),document.body.addEventListener("htmx:afterRequest",function(t){d(t,"search-releaser-input","search-releaser-alert");let r="uploader-image-alert";d(t,"uploader-image-form",r),d(t,"uploader-image-releaser-1",r),d(t,"uploader-image-releaser-2",r);let i="uploader-intro-alert";d(t,"uploader-intro-form",i),d(t,"uploader-intro-releaser-1",i),d(t,"uploader-intro-releaser-2",i);let e="uploader-text-alert";d(t,"uploader-text-form",e),d(t,"uploader-text-releaser-1",e),d(t,"uploader-text-releaser-2",e),D(t,"artifact-editor-hidden","artifact-editor-public"),D(t,"artifact-editor-public","artifact-editor-hidden"),n(t,"artifact-editor-operating-system"),n(t,"artifact-editor-category"),u(t,"artifact-editor-text-for-dos"),u(t,"artifact-editor-text-for-amiga"),u(t,"artifact-editor-proof-of-release"),u(t,"artifact-editor-intro-for-dos"),u(t,"artifact-editor-intro-for-win"),u(t,"artifact-editor-intro-for-bbs"),u(t,"artifact-editor-trainer-for-dos"),u(t,"artifact-editor-trainer-for-win"),u(t,"artifact-editor-ansi-for-bbs"),u(t,"artifact-editor-magazine-for-text"),u(t,"artifact-editor-magazine-for-dos"),n(t,"artifact-editor-releaser-reset"),q(t,"artifact-editor-releaser-update"),n(t,"artifact-editor-title"),x(t,"artifact-editor-title-reset","artifact-editor-title"),n(t,"artifact-editor-filename"),x(t,"artifact-editor-filename-reset","artifact-editor-filename"),n(t,"artifact-editor-virustotal"),n(t,"artifact-editor-date-reset"),n(t,"artifact-editor-date-lastmod"),U(t,"artifact-editor-date-update"),n(t,"artifact-editor-credit-text"),n(t,"artifact-editor-credit-ill"),n(t,"artifact-editor-credit-prog"),n(t,"artifact-editor-credit-audio"),Y(t,"artifact-editor-credit-resetter"),n(t,"artifact-editor-comment"),x(t,"artifact-editor-comment-reset","artifact-editor-comment"),n(t,"artifact-editor-youtube"),n(t,"artifact-editor-demozoo"),n(t,"artifact-editor-pouet"),n(t,"artifact-editor-16colors"),n(t,"artifact-editor-github"),n(t,"artifact-editor-relations"),n(t,"artifact-editor-websites")})}function Y(t,r){if(t.detail.elt===null||t.detail.elt.id!==`${r}`)return;let i="artifact-editor-alert",e=document.getElementById(i);if(typeof e>"u"||e===null)throw new Error(`The htmx alert element ${i} is null`);if(t.detail.successful)return l(e,"artifact-editor-credit-text"),l(e,"artifact-editor-credit-ill"),l(e,"artifact-editor-credit-prog"),l(e,"artifact-editor-credit-audio");if(t.detail.failed&&t.detail.xhr)return c(t,"artifact-editor-credit-text",e),c(t,"artifact-editor-credit-ill",e),c(t,"artifact-editor-credit-prog",e),c(t,"artifact-editor-credit-audio",e);f(e)}function U(t,r){if(t.detail.elt===null||t.detail.elt.id!==`${r}`)return;let i="artifact-editor-alert",e=document.getElementById(i);if(typeof e>"u"||e===null)throw new Error(`The htmx alert element ${i} is null`);let o="artifact-editor-year",a="artifact-editor-month",y="artifact-editor-day";if(t.detail.successful)return l(e,o),l(e,a),l(e,y);if(t.detail.failed&&t.detail.xhr)return c(t,o,e),c(t,a,e),c(t,y,e);f(e)}function q(t,r){if(t.detail.elt===null||t.detail.elt.id!==`${r}`)return;let i="artifact-editor-alert",e=document.getElementById(i);if(typeof e>"u"||e===null)throw new Error(`The htmx alert element ${i} is null`);let o="artifact-editor-releaser-1",a="artifact-editor-releaser-2";if(t.detail.successful)return l(e,o),l(e,a);if(t.detail.failed&&t.detail.xhr)return c(t,o,e),c(t,a,e);f(e)}function s(t,r){if(t.detail.elt===null||t.detail.elt.id!==`${r}`)return;let i="artifact-editor-operating-system",e="artifact-editor-category",o=document.getElementById(i);if(typeof o>"u"||o===null)return;o.classList.remove("is-valid");let a=document.getElementById(e);typeof a>"u"||a===null||a.classList.remove("is-valid")}function n(t,r){if(t.detail.elt===null||t.detail.elt.id!==`${r}`)return;let i="artifact-editor-alert",e=document.getElementById(i);if(typeof e>"u"||e===null)throw new Error(`The htmx alert element ${i} is null`);if(t.detail.successful)return l(e,r);if(t.detail.failed&&t.detail.xhr)return c(t,r,e);f(e)}function u(t,r){if(t.detail.elt===null||t.detail.elt.id!==`${r}`)return;let i="artifact-editor-alert",e="artifact-editor-operating-system",o="artifact-editor-category",a=document.getElementById(i);if(typeof a>"u"||a===null)throw new Error(`The htmx alert element ${i} is null`);if(t.detail.successful){l(a,e),l(a,o);return}if(t.detail.failed&&t.detail.xhr)return c(t,null,a);f(a)}function x(t,r,i){if(t.detail.elt===null||t.detail.elt.id!==`${r}`)return;let e="artifact-editor-alert",o=document.getElementById(e);if(typeof o>"u"||o===null)throw new Error(`The htmx alert element ${e} is null`);if(console.log(`afterReset ${r} ${i}`,t.detail),t.detail.successful)return console.log(t.detail.successful,"sucessful"),l(o,i);if(t.detail.failed&&t.detail.xhr)return console.log(t.detail.failed,"failed"),c(t,i,o);f(o)}function l(t,r){if(console.log(`updateSuccess ${r}`),t.innerText="",t.classList.add("d-none"),typeof r>"u"||r===null)return;let i=document.getElementById(r);typeof i>"u"||i===null||i.classList.add("is-valid")}function c(t,r,i){let e=t.detail.xhr;i.innerText=`${C()} Could not update the database record, ${e.responseText}.`,i.classList.remove("d-none"),r!==null&&document.getElementById(r).classList.remove("is-valid")}function D(t,r,i){if(t.detail.elt===null||t.detail.elt.id!==`${r}`)return;let e="artifact-editor-alert",o=document.getElementById(e);if(typeof o>"u"||o===null)throw new Error(`The htmx alert element ${e} is null`);if(t.detail.successful)return O(t,r,o);if(t.detail.failed&&t.detail.xhr)return G(t,i,o);f(o)}function O(t,r,i){i.classList.add("d-none"),i.innerText="";let e=document.getElementById("artifact-editor-modal-header");switch(r){case"artifact-editor-hidden":e.classList.remove("bg-success-subtle"),e.classList.add("bg-danger-subtle");break;case"artifact-editor-public":e.classList.add("bg-success-subtle"),e.classList.remove("bg-danger-subtle");break;default:console.error(`The record success ${r} is not supported.`)}}function G(t,r,i){let e=t.detail.xhr;i.innerText=`${C()} Could not update the database record, ${e.responseText}.`,i.classList.remove("d-none"),document.getElementById(r).checked=!0}function C(){let t=new Date,r=t.getHours(),i=t.getMinutes(),e=t.getSeconds();return i=(i<10?"0":"")+i,e=(e<10?"0":"")+e,r+":"+i+":"+e}function d(t,r,i){if(t.detail.elt===null||t.detail.elt.id!==`${r}`)return;let e=document.getElementById(i);if(typeof e>"u"||e===null)throw new Error(`The htmx alert element ${i} is null`);if(t.detail.successful)return V(t,e);if(t.detail.failed&&t.detail.xhr)return X(e,t);f(e)}function V(t,r){r.classList.add("d-none"),r.innerText="";let i="-form",e=t.target.id;if(e.slice(-i.length)==i){let a=e.replace(i,"-file");J(t,`#${a}`)}}function J(t,r){let i=t.target.querySelector(r);if(i){i.value="",i.innerText="";return}console.error(`The reset file ${r} element is null`)}function X(t,r){let i=r.detail.xhr;t.innerText=`Something on the server is not working, ${i.status} status: ${i.responseText}.`,t.classList.remove("d-none")}function f(t){t.innerText="Something with the browser is not working, please try again or refresh the page.",t.classList.remove("d-none")}(()=>{"use strict";R(),M(),S("paginationRange"),Z()})();function Z(){let t=document.querySelectorAll('[data-bs-toggle="tooltip"]');if(t===null)throw new Error("Tooltip trigger list not found");if(typeof bootstrap.Tooltip>"u")throw new Error("Bootstrap Tooltip is undefined");let r=[...t].map(i=>new bootstrap.Tooltip(i))}})();
