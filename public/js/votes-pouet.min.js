/* votes-pouet.min.js Â© Defacto2 2025 */
(()=>{"use strict";const i=t=>`${location.protocol}//${location.host}/pouet/vote/${t}`,r=document.getElementById("pouetVoteID"),n=document.getElementById("pouetRow"),s=document.getElementById("pouetStars"),c=document.getElementById("pouetVotes");if(r===null||n===null||s===null||c===null)return;const u=r.innerHTML.trim();console.info(`Requesting the Pou\xEBt API for production #${u}`),fetch(i(u),{method:"GET",headers:{"Content-Type":"application/json charset=UTF-8"}}).then(t=>{if(!t.ok){const e="A network error occurred requesting API";throw new Error(`${e}: ${t.statusText} ${t.status}`)}return t.json()}).then(t=>{const e=t.votes_up+t.votes_down+t.votes_meh;if(e===0){n.classList.add("d-none");return}let o=`${t.stars} star`;t.stars!==1&&(o+="s"),s.innerHTML=o,o=`${e} vote`,e!==1&&(o+="s"),c.innerHTML=o,n.classList.remove("d-none")}).catch(t=>{console.error(`An error occurred requesting API: ${t}`)})})();
