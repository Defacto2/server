/* votes-pouet.min.js Â© Defacto2 2024 */
(()=>{"use strict";const i=t=>`${location.protocol}//${location.host}/pouet/vote/${t}`,r=document.getElementById("pouetVoteID"),n=document.getElementById("pouetRow"),s=document.getElementById("pouetStars"),c=document.getElementById("pouetVotes");if(r===null||n===null||s===null||c===null)return;const u=r.innerHTML.trim();console.info(`Requesting the Pou\xEBt API for production #${u}`),fetch(i(u),{method:"GET",headers:{"Content-Type":"application/json charset=UTF-8"}}).then(t=>{if(!t.ok){const o="A network error occurred requesting API";throw new Error(`${o}: ${t.statusText} ${t.status}`)}return t.json()}).then(t=>{const o=t.votes_up+t.votes_down+t.votes_meh;if(o===0){n.classList.add("d-none");return}let e=`${t.stars} star`;t.stars!==1&&(e+="s"),s.innerHTML=e,e=`${o} vote`,o!==1&&(e+="s"),c.innerHTML=e,n.classList.remove("d-none")}).catch(t=>{console.error(`An error occurred requesting API: ${t}`)})})();
