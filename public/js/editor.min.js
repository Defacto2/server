/* editor.min.js */
(()=>{"use strict";const L="text-danger",e="is-invalid",y=document.getElementById("recordOnline"),p=document.getElementById("recordOnlineLabel");y.checked!=!0&&p.classList.add(L),y.addEventListener("change",function(n){y.checked==!0?p.classList.remove(L):p.classList.add(L)});const i=document.getElementById("recordReleasers"),B=document.getElementById("recordReleasersMax");i.addEventListener("input",function(n){if(i.value=i.value.toUpperCase(),i.value=i.value.replace(/[^a-zA-Z0-9-+& ]/g,""),i.value==""){i.classList.add(e);return}i.classList.remove(e),i.value.split("+").length>2?(i.classList.add(e),B.classList.add(L)):(i.classList.remove(e),B.classList.remove(L))});const o=document.getElementById("recordYear"),s=document.getElementById("recordMonth"),r=document.getElementById("recordDay");o.addEventListener("input",function(n){if(o.value>=1980&&o.value<=2023){o.classList.remove(e);return}if(o.value==""&&s.value==""&&r.value==""){o.classList.remove(e),s.classList.remove(e),r.classList.remove(e);return}o.classList.add(e)}),s.addEventListener("input",function(n){if(s.value>=1&&s.value<=12){s.classList.remove(e);return}if(o.value==""&&s.value==""&&r.value==""){o.classList.remove(e),s.classList.remove(e),r.classList.remove(e);return}if(s.value==""&&r.value==""){s.classList.remove(e),r.classList.remove(e);return}s.classList.add(e)}),r.addEventListener("input",function(n){if(s.value>=1&&s.value<=31){s.classList.remove(e);return}if(o.value==""&&s.value==""&&r.value==""){o.classList.remove(e),s.classList.remove(e),r.classList.remove(e);return}if(s.value==""&&r.value==""){s.classList.remove(e),r.classList.remove(e);return}if(r.value==""){r.classList.remove(e);return}r.classList.add(e)});const I=document.getElementById("recordLMBtn"),R=document.getElementById("recordLastMod");typeof I<"u"&&I!==null&&I.addEventListener("click",function(n){const t=R.value.split("-");t.length==3&&(o.value=t[0],s.value=t[1],r.value=t[2])});function h(n){let t=n;return t=t.toLowerCase(),t=t.replace(/[^A-Za-z0-9À-ÖØ-öø-ÿ\s,]/g,""),t}const b=document.getElementById("recordArtist"),w=document.getElementById("recordCoder"),k=document.getElementById("recordMusic"),x=document.getElementById("recordWriter");b.addEventListener("input",function(n){b.value=h(b.value)}),w.addEventListener("input",function(n){w.value=h(w.value)}),k.addEventListener("input",function(n){k.value=h(k.value)}),x.addEventListener("input",function(n){x.value=h(x.value)});const a=document.getElementById("recordDemozoo");a.addEventListener("paste",function(n){setTimeout(()=>{try{if(new URL(`${a.value}`).hostname!="demozoo.org"){a.classList.add(e);return}}catch{return}try{const E=new URL(`${a.value}`).pathname.split("/").filter(Boolean);if(E.length!=2){a.classList.add(e);return}switch(E[0]){case"productions":a.value=E[1];break;case"graphics":a.value=E[1];break;default:a.classList.add(e);return}a.classList.remove(e)}catch{a.classList.add(e)}},0)}),a.addEventListener("input",function(n){let t=Number(a.value);if(isNaN(t)){a.classList.add(e);return}if(t==0){a.value="",a.classList.remove(e);return}if(t<0||t>999999){a.classList.add(e);return}});const c=document.getElementById("recordPouet");c.addEventListener("paste",function(n){setTimeout(()=>{try{const t=new URL(`${c.value}`);if(console.log(t.hostname),t.hostname!="www.pouet.net"){c.classList.add(e);return}}catch{return}try{const t=new URL(`${c.value}`);if(t.pathname!="/prod.php"){c.classList.add(e);return}const T=new URLSearchParams(t.search).get("which");c.value=T,c.classList.remove(e)}catch{c.classList.add(e)}},0)}),c.addEventListener("input",function(n){let t=Number(c.value);if(isNaN(t)){c.classList.add(e);return}if(t==0){c.value="",c.classList.remove(e);return}if(t<0||t>199999){c.classList.add(e);return}});const f=document.getElementById("record16colors");f.addEventListener("paste",function(n){setTimeout(()=>{try{const t=new URL(`${f.value}`);if(t.hostname!="16colo.rs"){f.classList.add(e);return}const m=t.pathname;f.value=m,f.classList.remove(e)}catch{}},0)}),f.addEventListener("input",function(n){if(f.value==""){f.classList.remove(e);return}});const d=document.getElementById("recordGitHub");d.addEventListener("paste",function(n){setTimeout(()=>{try{const t=new URL(`${d.value}`);if(t.hostname!="github.com"){d.classList.add(e);return}const m=t.pathname;d.value=m,d.classList.remove(e)}catch{}},0)}),d.addEventListener("input",function(n){if(d.value==""){d.classList.remove(e);return}});const u=document.getElementById("recordYouTube");u.addEventListener("paste",function(n){setTimeout(()=>{try{const t=new URL(`${u.value}`);if(t.hostname!="youtube.com"&&t.hostname!="www.youtube.com"){u.classList.add(e);return}const E=new URLSearchParams(t.search).get("v");u.value=E,d.classList.remove(e)}catch{}},0)}),u.addEventListener("input",function(n){setTimeout(()=>{if(u.value==""){u.classList.remove(e);return}if(new RegExp("^[a-zA-Z0-9_-]{11}$").test(u.value)){u.classList.remove(e);return}u.classList.add(e)},0)});const g=document.getElementById("recordFilename");g.addEventListener("input",function(){if(g.value=g.value.trimStart(),g.value==""){g.classList.add(e);return}g.classList.remove(e)});const v=document.getElementById("recordPlatform"),l=document.getElementById("recordTag"),z=document.getElementById("recordReleasersLabel"),O=document.getElementById("recordTitleLabel");l.addEventListener("change",function(n){setTimeout(()=>{l.value=="magazine"&&U()},0)});function U(){z.textContent="Magazine",O.textContent="Issue"}document.getElementById("recordDosText").addEventListener("click",function(n){v.value="text",l.value=""}),document.getElementById("recordAmigaText").addEventListener("click",function(n){v.value="textamiga",l.value=""}),document.getElementById("recordProof").addEventListener("click",function(n){v.value="image",l.value="releaseproof"}),document.getElementById("recordDostro").addEventListener("click",function(n){v.value="dos",l.value="releaseadvert"}),document.getElementById("recordWintro").addEventListener("click",function(n){v.value="windows",l.value="releaseadvert"}),document.getElementById("recordBBStro").addEventListener("click",function(n){v.value="dos",l.value="bbs"}),document.getElementById("recordBBSAnsi").addEventListener("click",function(n){v.value="ansi",l.value="bbs"}),document.getElementById("recordTextMag").addEventListener("click",function(n){v.value="text",l.value="magazine"}),document.getElementById("recordDosMag").addEventListener("click",function(n){v.value="dos",l.value="magazine"}),document.getElementById("recordReset").addEventListener("click",function(n){setTimeout(()=>{document.querySelectorAll("input").forEach(m=>{m.classList.remove(e)},0),y.checked!=!0?p.classList.add(L):p.classList.remove(L),B.classList.remove(L)})})})();
