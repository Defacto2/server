/* editor-assets.min.js Â© Defacto2 2024 */
(()=>{var E=100,T=1024*1024,M=100*T;function m(n,i){if(n==null)throw new Error("The formId value of progress is null.");if(i==null)throw new Error("The elementId value of progress is null.");htmx.on(`#${n}`,"htmx:xhr:progress",function(s){s.target.id==`${n}`&&htmx.find(`#${i}`).setAttribute("value",s.detail.loaded/s.detail.total*E)})}(()=>{m("artifact-editor-dl-form","artifact-editor-dl-progress"),document.body.addEventListener("htmx:beforeRequest",function(e){console.log("before request",e)}),document.body.addEventListener("htmx:afterRequest",function(e){n(e,"artifact-editor-dl-form","artifact-editor-dl-up","artifact-editor-dl-feedback")});function n(e,t,r,o){if(e.detail.elt===null||e.detail.elt.id!==`${t}`)return;let a=document.getElementById(r);if(a===null)throw new Error(`The htmx successful input element ${r} is null`);let u=document.getElementById(o);if(u===null)throw new Error(`The htmx successful feedback element ${o} is null`);if(e.detail.successful)return i(e,a,u);if(e.detail.failed&&e.detail.xhr)return s(e,a,u);w(a,u)}function i(e,t,r){let o=e.detail.xhr;r.innerText=`${o.responseText}`,r.classList.remove("invalid-feedback"),r.classList.add("valid-feedback"),t.classList.remove("is-invalid"),t.classList.add("is-valid")}function s(e,t,r){let o=e.detail.xhr;r.innerText=`Something on the server is not working, ${o.status} status: ${o.responseText}.`,r.classList.remove("valid-feedback"),r.classList.add("invalid-feedback"),t.classList.remove("is-valid"),t.classList.add("is-invalid")}function w(e,t){e.classList.remove("is-valid"),e.classList.add("is-invalid"),t.innerText="Something with the browser is not working, please try again or refresh the page.",t.classList.remove("d-none")}let c=document.getElementById("artifact-editor-dl-reset");if(c==null){console.error("the reset button is missing");return}let l=document.getElementById("artifact-editor-dl-up");if(l==null){console.error("the artifact file input is missing");return}c.addEventListener("click",function(){l.value="",l.classList.remove("is-invalid"),l.classList.remove("is-valid")});let d=document.getElementById("artifact-editor-modal");if(d==null){console.error("the data editor modal is missing");return}let f=document.getElementById("asset-editor-modal");if(f==null){console.error("the asset editor modal is missing");return}let h=document.getElementById("emulate-editor-modal");if(h==null){console.error("the emulate editor modal is missing");return}let p=new bootstrap.Modal(d),v=new bootstrap.Modal(f),x=new bootstrap.Modal(h);switch(new URL(window.location.href).hash){case"#data-editor":p.show();break;case"#file-editor":v.show();break;case"#emulate-editor":x.show();break;default:}})();})();
