/* editor-assets.min.js Â© Defacto2 2024 */
(()=>{"use strict";const s="is-invalid",n="is-valid",a="valid-feedback",r="invalid-feedback",l={"Content-type":"application/json; charset=UTF-8"},m="server could not save the change",o=document.getElementById("recordID");if(o==null){console.info("the editor modal is not open so editor assets script is not needed");return}document.getElementById("edBtnImgs").addEventListener("click",function(){if(!window.confirm("Delete the previews and thumbnail?"))return;const c=document.getElementById("edBtnsHide"),i=document.getElementById("edBtnsFeedback");fetch("/editor/images/delete",{method:"POST",body:JSON.stringify({id:parseInt(o.value)}),headers:l}).then(d=>{if(!d.ok)throw new Error(m);return c.classList.add(n),i.classList.add(a),i.textContent="images deleted, refresh the page to see the change",d.json()}).catch(d=>{c.classList.add(s),i.classList.add(r),i.textContent=d.message})});const t=document.getElementById("edUploadPreview"),v=document.getElementById("edUploadPreviewBtn"),f=document.getElementById("edUploadPreviewReset");t.addEventListener("change",function(){t.value!=""&&t.classList.remove(s)}),v.addEventListener("click",function(){if(t.value==""){t.classList.add(s),t.classList.remove(n);return}t.classList.remove(s),t.classList.remove(n),t.classList.add(n)}),f.addEventListener("click",function(){t.value="",t.classList.remove(s),t.classList.remove(n)});const e=document.getElementById("edUploadArtifact"),u=document.getElementById("edUploadArtifactBtn"),L=document.getElementById("edUploadArtifactReset");e.addEventListener("change",function(){e.value!=""&&e.classList.remove(s)}),u.addEventListener("click",function(){if(e.value==""){e.classList.add(s),e.classList.remove(n);return}e.classList.remove(s),e.classList.remove(n),window.prompt("Replace "+e.value+`?
Type "yes" to confirm.`).toLowerCase()=="yes"&&e.classList.add(n)}),L.addEventListener("click",function(){e.value="",e.classList.remove(s),e.classList.remove(n)})})();
