/* editor-assets.min.js Â© Defacto2 2024 */
(()=>{"use strict";const g="text-danger",n="is-invalid",s="is-valid",r="valid-feedback",l="invalid-feedback",v={"Content-type":"application/json; charset=UTF-8"},m="server could not save the change",o=document.getElementById("recordID");if(o==null){console.info("the editor modal is not open so editor assets script is not needed");return}document.getElementById("edBtnImgs").addEventListener("click",function(d){if(!window.confirm("Delete the previews and thumbnail?"))return;const c=document.getElementById("edBtnsHide"),i=document.getElementById("edBtnsFeedback");fetch("/editor/images/delete",{method:"POST",body:JSON.stringify({id:parseInt(o.value)}),headers:v}).then(a=>{if(!a.ok)throw new Error(m);return c.classList.add(s),i.classList.add(r),i.textContent="images deleted, refresh the page to see the change",a.json()}).catch(a=>{c.classList.add(n),i.classList.add(l),i.textContent=a.message})});const t=document.getElementById("edUploadPreview"),f=document.getElementById("edUploadPreviewBtn"),u=document.getElementById("edUploadPreviewReset");t.addEventListener("change",function(d){t.value!=""&&t.classList.remove(n)}),f.addEventListener("click",function(d){if(t.value==""){t.classList.add(n),t.classList.remove(s);return}t.classList.remove(n),t.classList.remove(s),t.classList.add(s)}),u.addEventListener("click",function(d){t.value="",t.classList.remove(n),t.classList.remove(s)});const e=document.getElementById("edUploadArtifact"),L=document.getElementById("edUploadArtifactBtn"),p=document.getElementById("edUploadArtifactReset");e.addEventListener("change",function(d){e.value!=""&&e.classList.remove(n)}),L.addEventListener("click",function(d){if(e.value==""){e.classList.add(n),e.classList.remove(s);return}e.classList.remove(n),e.classList.remove(s),window.prompt("Replace "+e.value+`?
Type "yes" to confirm.`).toLowerCase()=="yes"&&e.classList.add(s)}),p.addEventListener("click",function(d){e.value="",e.classList.remove(n),e.classList.remove(s)})})();
