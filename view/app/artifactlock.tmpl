{{- /* 
    artifactlock.tmpl ~ Buttons to launch the artifact editor modals.
*/ -}}
{{- define "artifactlock" }}
{{- $locked := index . "editor"}}
{{- if ne true $locked}}{{/*  render nothing  */}}{{else}}
{{- $alertCls := "w-100 my-0 text-center"}}
{{- $forApproval := index . "forApproval"}}
{{- $disableRecord := index . "disableRecord"}}
<div class="alert alert-light">
    <div class="row row-cols-1 row-cols-sm-3 g-2">
        <div class="col d-grid"><a href="#" data-bs-toggle="modal" data-bs-target="#artifact-editor-modal"  class="btn btn-primary">Data editor</a></div>
        <div class="col d-grid"><a href="#" data-bs-toggle="modal" data-bs-target="#assetEditorModal"       class="btn btn-primary">File editor</a></div>
        <div class="col d-grid"><a href="#" data-bs-toggle="modal" data-bs-target=""                        class="btn btn-primary">Emulate editor</a></div>
    </div>
    <hr class="my-2">
    {{- if $disableRecord}}
    <p class="{{$alertCls}} text-danger-emphasis">ðŸš« Record is disabled and hidden from public access. ðŸš«</p>
    {{- else if $forApproval}}
    <p class="{{$alertCls}} text-primary-emphasis">
        â›” This new record is hidden from public access.<br>
        {{- /*  todo: create a htmx element to approve and refresh  */}}
        If the data and images are correct, <a href="">it can be approved</a>.
    </p>
    {{- else}}
    <p class="{{$alertCls}} text-success-emphasis">Record is visible to the public.</p>
    {{- end}}
    {{- /*  todo: alerts for obvious issues, no cat/platform/releasers/etc  */}}
</div>
{{- end}}
{{- end}}